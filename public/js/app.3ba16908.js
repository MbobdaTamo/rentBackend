(function(t){function e(e){for(var i,s,c=e[0],r=e[1],l=e[2],u=0,f=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var r=n[s];0!==a[r]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},a={app:0},o=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d208e4e":"0802bfa8","chunk-2d216214":"a9f4880f","chunk-2e7fffed":"eefc9161","chunk-4985cb23":"e71296bb"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=a[t]=[e,i]}));e.push(n[2]=i);var o,r=document.createElement("script");r.charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.src=s(t);var l=new Error;o=function(e){r.onerror=r.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,n[1](l)}a[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:r})}),12e4);r.onerror=r.onload=o,document.head.appendChild(r)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"008e":function(t,e,n){"use strict";n("5f53")},"0120":function(t,e,n){var i={"./checked.svg":"61f3","./cross.svg":"fff5"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id="0120"},"0160":function(t,e,n){"use strict";n("3123")},"01d5":function(t,e,n){"use strict";n.r(e);var i=n("7a23"),a={class:"buttonI1"};function o(t,e,o,s,c,r){return Object(i["u"])(),Object(i["e"])("button",a,[Object(i["f"])("div",{style:Object(i["q"])({backgroundImage:"url("+n("6294")(o.img_src+"")+")"})},null,4),Object(i["f"])("span",null,Object(i["C"])(o.message),1)])}var s={name:"ButtonI1",props:{message:String,img_src:String}},c=(n("13d8"),n("6b0d")),r=n.n(c);const l=r()(s,[["render",o]]);e["default"]=l},"01eb":function(t,e,n){},"02bb":function(t,e,n){},"059e":function(t,e,n){},"0941":function(t,e,n){},"0ac1":function(t,e,n){"use strict";n.r(e);var i=n("7a23"),a={class:"buttonI0",href:"google.com"};function o(t,e,n,o,s,c){return Object(i["u"])(),Object(i["e"])("div",a,Object(i["C"])(n.message),1)}var s={name:"ButtonI0",props:{message:String}},c=(n("1a47"),n("6b0d")),r=n.n(c);const l=r()(s,[["render",o]]);e["default"]=l},"0b30":function(t,e,n){t.exports=n.p+"img/Retour.85ade364.png"},"0e4f":function(t,e,n){t.exports=n.p+"img/check.394ab36e.svg"},"0fa0":function(t,e,n){t.exports=n.p+"img/ico.cdd7a348.svg"},"13d8":function(t,e,n){"use strict";n("02bb")},"1a47":function(t,e,n){"use strict";n("7fe3")},"1e32":function(t,e,n){},"1eb8":function(t,e,n){},2555:function(t,e,n){},2621:function(t,e,n){t.exports=n.p+"img/support.e916db29.svg"},"29f7":function(t,e,n){},"2f84":function(t,e,n){"use strict";n.r(e);n("ac1f"),n("00b4");var i=n("f258"),a=n("0ac1"),o=n("01d5"),s=n("374e"),c=n("a566");e["default"]={name:"inscription",components:{InputI0:i["default"],ButtonI0:a["default"],ButtonI1:o["default"],DropDownList:s["default"],LLoading1:c["a"]},data:function(){return{loading:!1}},methods:{submiting:function(t){return t.preventDefault(),!1},save:function(){var t=this;this.validation()||this.$store.commit("setLoaded",!1),this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"add",name:this.$refs.surname.message,tel:this.$refs.tel.message,password:this.$refs.password.message,confirmpw:this.$refs.confirmpw.message}).then((function(e){var n=e.data;console.log(n),t.loading=!1,alert("Compte créé avec success !"),t.$router.push("/connexion")})).catch((function(t){console.log(t)}))},validation:function(){var t=/^.{2,22}$/;return""!=this.$refs.surname.message&&t.test(this.$refs.tel.message)?""==this.$refs.password.message?(alert("password incorrect"),!1):this.$refs.password.message===this.$refs.confirmpw.message||(alert("passwords did not match"),!1):(alert("nom ou téléphone incorrect"),!1)}}}},"303b":function(t,e,n){"use strict";n("6be6")},3123:function(t,e,n){},"315c":function(t,e,n){"use strict";n("3f24")},3446:function(t,e,n){t.exports=n.p+"img/photo.fd0c645b.svg"},"36a2":function(t,e,n){t.exports=n.p+"img/MesLocataires.9e33f2c2.png"},"374e":function(t,e,n){"use strict";n.r(e);var i=n("7a23"),a={class:"DropDownList"},o=Object(i["f"])("option",null," English ",-1),s=Object(i["f"])("option",null," French ",-1),c=[o,s];function r(t,e){return Object(i["u"])(),Object(i["e"])("select",a,c)}n("4786");var l=n("6b0d"),u=n.n(l);const d={},f=u()(d,[["render",r]]);e["default"]=f},"38a4":function(t,e,n){t.exports=n.p+"img/Payements.b073ad31.png"},"38f9":function(t,e,n){"use strict";n("9420")},"3b76":function(t,e,n){t.exports=n.p+"img/house.59578d1f.jpg"},"3f24":function(t,e,n){},4786:function(t,e,n){"use strict";n("fd7c")},"4b8a":function(t,e,n){"use strict";n("01eb")},"51d4":function(t,e,n){"use strict";n.r(e);var i=n("7a23"),a={class:"inscription"},o={class:"insMain"},s=Object(i["f"])("div",{class:"insTitle"},[Object(i["f"])("span",null,"Connexion")],-1),c={class:"insInput"},r={class:"insInput"},l=Object(i["f"])("div",{class:"insLaw"},[Object(i["f"])("span",{class:"insPolicy"},[Object(i["h"])("Vous avez oublié votre mot de passe? "),Object(i["f"])("span",null,"Essayez de récupérer votre compte")])],-1),u=Object(i["f"])("div",{class:"insOR"},[Object(i["f"])("span",{class:"insPolicy"},"OR")],-1),d={class:"insLast"};function f(t,e,n,f,p,b){var m=Object(i["A"])("InputI0"),h=Object(i["A"])("ButtonI0"),O=Object(i["A"])("LLoading1");return Object(i["u"])(),Object(i["e"])("section",a,[Object(i["f"])("div",o,[Object(i["f"])("form",{class:"insMainSection",onSubmit:e[2]||(e[2]=function(){return t.submiting&&t.submiting.apply(t,arguments)}),action:"#"},[s,Object(i["f"])("div",c,[Object(i["i"])(m,{placeholder:"Entrez votre login ou téléphone",ref:"tel",type:"text"},null,512)]),Object(i["f"])("div",r,[Object(i["i"])(m,{placeholder:"Entrez un mot de passe",ref:"password",type:"password",pattern:"^.{4,22}$"},null,512)]),l,Object(i["f"])("div",{onClick:e[0]||(e[0]=function(){return t.loggin&&t.loggin.apply(t,arguments)}),class:"insButtonI0"},[Object(i["i"])(h,{message:"Continuez"})]),u,Object(i["f"])("div",d,[Object(i["f"])("a",{onClick:e[1]||(e[1]=function(e){return t.$router.push("/inscription")})},"Vous n'avez pas de compte? Inscrivez vous")])],32)]),Object(i["i"])(O,{visible:t.loading},null,8,["visible"])])}n("ac1f"),n("00b4");var p=n("f258"),b=n("0ac1"),m=n("01d5"),h=n("374e"),O=n("a566"),j={name:"Connexion",components:{InputI0:p["default"],ButtonI0:b["default"],ButtonI1:m["default"],DropDownList:h["default"],LLoading1:O["a"]},data:function(){return{loading:!1}},methods:{submiting:function(t){return t.preventDefault(),!1},loggin:function(){var t=this;if(this.validation()){this.$store.commit("setLoaded",!1),this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"log",tel:this.$refs.tel.message,password:this.$refs.password.message}).then((function(e){var n=e.data;"nothing"!==n?(t.$store.commit("loginCommit",n),t.$router.push("menu")):alert("compt inexistant"),t.loading=!1})).catch((function(t){console.log(t)}))}},validation:function(){var t=/^.{2,22}$/;return t.test(this.$refs.tel.message)?""!=this.$refs.password.message||(alert("password incorrect"),!1):(alert("nom ou téléphone incorrect"),!1)}}},g=(n("84b1"),n("6b0d")),v=n.n(g);const y=v()(j,[["render",f]]);e["default"]=y},5223:function(t,e,n){},"53ff":function(t,e,n){"use strict";n("6081")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function a(t,e,n,a,o,s){var c=Object(i["A"])("router-view");return Object(i["u"])(),Object(i["d"])(c)}var o={name:"App",components:{}},s=(n("6c2d"),n("6b0d")),c=n.n(s);const r=c()(o,[["render",a]]);var l=r,u=n("6605"),d=n("89b3"),f=n.n(d),p=n("36a2"),b=n.n(p),m=n("38a4"),h=n.n(m),O=n("f9e2"),j=n.n(O),g=n("0e4f"),v=n.n(g),y=n("e599"),C=n.n(y),$={class:"landBody"},D={style:{"margin-right":"20px"},class:"landB1Element"},A=Object(i["f"])("span",null,"Mes Cités",-1),w={style:{"margin-left":"20px"},class:"landB1Element"},F=Object(i["f"])("span",null,"Mes Locataires",-1),x={class:"landBody2"},P={style:{"margin-right":"20px"},class:"landB2Element"},B=Object(i["f"])("span",null,"Payments",-1),L={style:{"margin-left":"20px"},class:"landB2Element"},k=Object(i["f"])("span",null,"Contrats",-1),N={class:"landBody2"},M={style:{"margin-right":"20px"},class:"landB2Element"},I=Object(i["f"])("span",null,"Charge/Décharge",-1),S={style:{"margin-left":"20px"},class:"landB2Element"},_=Object(i["f"])("span",null,"Help",-1);function E(t,e,n,a,o,s){var c=Object(i["A"])("LHeader"),r=Object(i["A"])("LLoading1");return Object(i["u"])(),Object(i["e"])("div",{onClick:e[6]||(e[6]=function(){return t.click&&t.click.apply(t,arguments)}),class:"landingPage"},[Object(i["i"])(c,{ref:"lHeader",title:""},null,512),Object(i["f"])("div",$,[Object(i["f"])("div",D,[Object(i["f"])("img",{onClick:e[0]||(e[0]=function(){return t.toCite&&t.toCite.apply(t,arguments)}),src:f.a}),A]),Object(i["f"])("div",w,[Object(i["f"])("img",{onClick:e[1]||(e[1]=function(){return t.toLocataire&&t.toLocataire.apply(t,arguments)}),src:b.a}),F])]),Object(i["f"])("div",x,[Object(i["f"])("div",P,[Object(i["f"])("div",null,[Object(i["f"])("img",{onClick:e[2]||(e[2]=function(e){return t.$router.push("payment")}),src:h.a})]),B]),Object(i["f"])("div",L,[Object(i["f"])("div",null,[Object(i["f"])("img",{onClick:e[3]||(e[3]=function(e){return t.$router.push("contrat")}),src:j.a})]),k])]),Object(i["f"])("div",N,[Object(i["f"])("div",M,[Object(i["f"])("div",null,[Object(i["f"])("img",{onClick:e[4]||(e[4]=function(e){return t.$router.push("chargeForm")}),src:v.a})]),I]),Object(i["f"])("div",S,[Object(i["f"])("div",null,[Object(i["f"])("img",{onClick:e[5]||(e[5]=function(e){return t.$router.push("Help")}),src:C.a})]),_])]),Object(i["i"])(r,{visible:t.$store.state.load.loading},null,8,["visible"])])}var T=n("9d39"),U=n.n(T),Y=n("6e4d"),H=n.n(Y),J=n("fb56"),z=n.n(J),V=n("f687"),G=n.n(V),R=n("2621"),q=n.n(R),W={ref:"menu",class:"landHeaderMenu"},X=Object(i["f"])("img",{src:H.a},null,-1),K=Object(i["f"])("img",{src:z.a},null,-1),Q=Object(i["f"])("img",{src:G.a},null,-1),Z=Object(i["f"])("img",{src:G.a},null,-1),tt=Object(i["f"])("img",{src:q.a},null,-1);function et(t,e,n,a,o,s){return Object(i["u"])(),Object(i["e"])("header",{onMouseleave:e[7]||(e[7]=function(e){return t.menu=!1}),class:"landHeader"},[Object(i["J"])(Object(i["f"])("div",{onClick:e[1]||(e[1]=function(){return t.toLanding&&t.toLanding.apply(t,arguments)}),class:"lanHeaderF"},[Object(i["f"])("img",{onMouseover:e[0]||(e[0]=function(e){return t.menu=!0}),src:U.a},null,32)],512),[[i["H"],1==t.$store.state.login.isAdmin]]),Object(i["J"])(Object(i["f"])("span",null,Object(i["C"])(t.title),513),[[i["H"],1==t.$store.state.login.isAdmin]]),Object(i["J"])(Object(i["f"])("div",W,[Object(i["f"])("span",{onClick:e[2]||(e[2]=function(e){return t.$router.push("compte")})},[X,Object(i["h"])(" Gestion de compte")]),Object(i["f"])("span",{onClick:e[3]||(e[3]=function(e){return t.$router.push("recapForm")})},[K,Object(i["h"])(" Recap ")]),Object(i["f"])("span",{onClick:e[4]||(e[4]=function(e){return t.$router.push("payments")})},[Q,Object(i["h"])(" payments")]),Object(i["f"])("span",{onClick:e[5]||(e[5]=function(e){return t.$router.push("charge")})},[Z,Object(i["h"])(" Charges/Décharges")]),Object(i["f"])("span",{onClick:e[6]||(e[6]=function(e){return t.$router.push("support")})},[tt,Object(i["h"])(" Nous supporter/contacter")])],512),[[i["H"],t.menu]])],32)}var nt={name:"lHeader",props:{title:{type:String,default:"Accueil"}},data:function(){return{menu:!1}},methods:{toLanding:function(){this.$router.push("menu")}}};n("c511");const it=c()(nt,[["render",et]]);var at=it,ot=n("a566"),st={name:"landingPage",components:{LHeader:at,LLoading1:ot["a"]},methods:{toLocataire:function(){this.$router.push("locataires")},toCite:function(){this.$router.push("cites")}}};n("937a");const ct=c()(st,[["render",E]]);var rt=ct,lt=n("0b30"),ut=n.n(lt),dt=n("85f2"),ft=n.n(dt),pt=n("814e"),bt=n.n(pt),mt={class:"locataire"},ht={style:{"z-index":"1"},class:"lPBFCTitle"},Ot=Object(i["f"])("img",{src:ut.a},null,-1),jt=[Ot],gt={class:"locatBody"},vt={class:"locatElImg"},yt=["onClick","src"],Ct=["onClick"],$t={class:"locatElName"},Dt={class:"locatMButton"},At=["onClick"],wt={class:"locatPlus"};function Ft(t,e,a,o,s,c){var r=Object(i["A"])("EditMenu"),l=Object(i["A"])("LocatFImg"),u=Object(i["A"])("YAlert"),d=Object(i["A"])("LLoading1"),f=Object(i["A"])("YesNo");return Object(i["u"])(),Object(i["e"])("div",mt,[Object(i["f"])("div",ht,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.push("menu")})},jt),Object(i["h"])(" MES LOCATAIRES ")]),Object(i["f"])("div",gt,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.locataires,(function(e,a){return Object(i["u"])(),Object(i["e"])("div",{key:a,class:"locatElement"},[Object(i["f"])("div",vt,[Object(i["f"])("img",{onClick:function(n){return t.toLocataire(e.id)},src:""==e.image?n("6a9e"):t.bUrl+e.image},null,8,yt)]),Object(i["f"])("div",{onClick:function(n){return t.toLocataire(e.id)},style:Object(i["q"])({color:t.getDebt(e.id)})},[Object(i["f"])("span",$t,Object(i["C"])(e.nom),1),Object(i["f"])("span",null,Object(i["C"])(null==e.chambreNom?"Aucun":e.chambreNom),1),Object(i["f"])("span",null,Object(i["C"])(null==e.citeNom?"Aucune":e.citeNom),1)],12,Ct),Object(i["f"])("div",Dt,[Object(i["f"])("img",{onClick:function(n){return t.showMenu(e)},src:ft.a},null,8,At)])])})),128)),Object(i["f"])("div",wt,[Object(i["f"])("img",{onClick:e[1]||(e[1]=function(e){return t.$router.push("/locataires/form")}),src:bt.a})])]),Object(i["i"])(r,{elements:t.menu,onSelect:t.select,ref:"menu"},null,8,["elements","onSelect"]),Object(i["i"])(l,{style:{"z-index":"2"},info:t.current,ref:"LocatFImg"},null,8,["info"]),Object(i["i"])(u,{ref:"yAlertS",type:"success"},null,512),Object(i["i"])(d,{visible:t.loading},null,8,["visible"]),Object(i["i"])(f,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var xt=n("5530"),Pt=n("8c88"),Bt=n.n(Pt),Lt={class:"editMEMenu"},kt={class:"editMEMenuSon"},Nt=["onClick"],Mt=Object(i["f"])("img",{src:Bt.a},null,-1),It=[Mt];function St(t,e,n,a,o,s){return Object(i["J"])((Object(i["u"])(),Object(i["e"])("div",Lt,[Object(i["f"])("div",kt,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(n.elements,(function(e,n){return Object(i["u"])(),Object(i["e"])("span",{onClick:function(n){return t.$emit("select",e)},key:n},Object(i["C"])(e),9,Nt)})),128)),Object(i["f"])("div",{onClick:e[0]||(e[0]=function(t){return o.Display=!1}),class:"editMEMClose"},It)])],512)),[[i["H"],o.Display]])}var _t={name:"yAlert",props:{elements:Array},data:function(){return{Display:!1}}};n("4b8a");const Et=c()(_t,[["render",St]]);var Tt=Et,Ut=n("3446"),Yt=n.n(Ut),Ht={class:"lPblicationForm"},Jt={class:"lPBFCTitle"},zt=Object(i["f"])("img",{src:ut.a},null,-1),Vt=[zt],Gt={class:"lPBFCBody"},Rt={class:"lPBFCImage"},qt=Object(i["f"])("span",{class:"lPBFCIadd"},"Choisir une image",-1),Wt={class:"custom-file-upload"},Xt=Object(i["f"])("img",{src:Yt.a},null,-1),Kt=Object(i["f"])("div",null,[Object(i["f"])("img",{id:"lPbblah1",class:"lPbblah"})],-1),Qt={class:"lPBFCinput"},Zt=Object(i["f"])("span",null," Nouveau Nom:",-1),te={class:"lPBFCinput"},ee=Object(i["f"])("span",null,"Nouveau prénom:",-1),ne={class:"lPBFCinput"},ie=Object(i["f"])("span",null,"Nouveau tel:",-1),ae=Object(i["f"])("span",null,"Enregistrer",-1),oe=[ae];function se(t,e,n,a,o,s){var c=Object(i["A"])("ImageUploader"),r=Object(i["A"])("LLoading1"),l=Object(i["A"])("YAlert");return Object(i["J"])((Object(i["u"])(),Object(i["e"])("section",Ht,[Object(i["f"])("div",Jt,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},Vt),Object(i["h"])(" Modifier "+Object(i["C"])(t.info.nom),1)]),Object(i["f"])("div",Gt,[Object(i["f"])("div",Rt,[qt,Object(i["f"])("label",Wt,[Object(i["i"])(c,{ref:"imUploader",debug:1,maxWidth:700,maxHeight:700,autoRotate:!0,quality:1,outputFormat:"blob",preview:!1,onInput:t.preview},null,8,["onInput"]),Xt])]),Kt,Object(i["f"])("div",Qt,[Zt,Object(i["J"])(Object(i["f"])("textarea",{class:"lPBFCinputStyle","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.nom=e})},null,512),[[i["G"],t.nom]])]),Object(i["f"])("div",te,[ee,Object(i["J"])(Object(i["f"])("textarea",{class:"lPBFCinputStyle","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.prenom=e})},null,512),[[i["G"],t.prenom]])]),Object(i["f"])("div",ne,[ie,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.tel=e})},null,512),[[i["G"],t.tel]])]),Object(i["f"])("div",{class:"lPBFCButton",onClick:e[4]||(e[4]=function(){return t.sendImage&&t.sendImage.apply(t,arguments)})},oe)]),Object(i["i"])(r,{visible:t.loading},null,8,["visible"]),Object(i["i"])(l,{ref:"yAlert"},null,512),Object(i["i"])(l,{onClick:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClick"])],512)),[[i["H"],t.Display]])}n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var ce=n("b879"),re=n.n(ce),le={class:"lDArrow"},ue=["onClick"];function de(t,e,n,a,o,s){return Object(i["u"])(),Object(i["e"])("div",{onMouseleave:e[2]||(e[2]=function(){return t.deCollapse&&t.deCollapse.apply(t,arguments)}),class:"lDropDown",id:"drop",style:Object(i["q"])({width:t.maxWidth})},[Object(i["f"])("div",{onMouseover:e[1]||(e[1]=function(){return t.collapse&&t.collapse.apply(t,arguments)}),class:"lDCurrent"},[Object(i["f"])("div",le,[Object(i["f"])("img",{onClick:e[0]||(e[0]=function(){return t.heightCollapse&&t.heightCollapse.apply(t,arguments)}),src:re.a})]),Object(i["f"])("div",null,Object(i["C"])(t.current.nom+" "+t.exist(t.current.prenom)),1)],32),Object(i["f"])("div",{class:"lDCollapse",style:Object(i["q"])({height:t.vheight})},[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.elements,(function(e,n){return Object(i["u"])(),Object(i["e"])("div",{key:n,class:Object(i["p"])(["lDElement",n]),onClick:function(e){return t.selecting(n)}},[Object(i["f"])("div",null,Object(i["C"])(e.nom+" "+t.exist(e.prenom)),1)],10,ue)})),128))],4)],36)}var fe={name:"lDropDown",props:{bdColor:{type:String,default:"solid 1px black"},maxHeight:{type:String,default:"300%"},maxWidth:{type:String,default:"120px"},elements:{type:Array,default:[{nom:""}]}},data:function(){return{vheight:"0px",isCollapsed:!1,current:this.elements[0]}},methods:{heightCollapse:function(){this.vheight=this.isCollapsed?"0px":this.maxHeight,this.isCollapsed=!this.isCollapsed},deCollapse:function(){this.vheight="0px",this.isCollapsed=!this.isCollapsed},collapse:function(){this.vheight=this.maxHeight,this.isCollapsed=!this.isCollapsed},selecting:function(t){this.$emit("selected",t),this.current=this.elements[t],this.deCollapse()},exist:function(t){return"undefined"===typeof t?"":t}},watch:{elements:function(t){this.current=t[0]}}};n("6779");const pe=c()(fe,[["render",de]]);var be=pe,me=n("fff5"),he=n.n(me),Oe={class:"yAlert"},je={class:"yAlertSon"},ge=["src"],ve=Object(i["f"])("img",{src:he.a},null,-1),ye=[ve];function Ce(t,e,a,o,s,c){return Object(i["J"])((Object(i["u"])(),Object(i["e"])("div",Oe,[Object(i["f"])("div",je,[Object(i["f"])("div",{class:"yAlLogo",style:Object(i["q"])({backgroundColor:c.leftColor})},[Object(i["f"])("img",{onClick:e[0]||(e[0]=function(){return c.displaying&&c.displaying.apply(c,arguments)}),src:n("0120")("./"+c.logo+".svg")},null,8,ge)],4),Object(i["f"])("div",{style:Object(i["q"])({backgroundColor:c.rightColor})},Object(i["C"])(s.message),5),Object(i["f"])("div",{onClick:e[1]||(e[1]=function(){return c.displaying&&c.displaying.apply(c,arguments)}),class:"yAlCross"},ye)])],512)),[[i["H"],s.Display]])}var $e={name:"yAlert",props:{type:{type:String,default:"danger"},text:{type:String,default:"some text"}},data:function(){return{Display:!1,message:this.text}},methods:{displaying:function(){this.Display=!this.Display,this.$emit("closed")},display:function(t){this.Display="flex",this.message=t}},computed:{leftColor:function(){return"danger"===this.type?"rgb(191, 49, 41,0.8)":"rgb(35, 153, 48,0.8)"},rightColor:function(){return"danger"===this.type?"rgb(255, 65, 54,0.8)":"rgb(37, 204, 64,0.8)"},logo:function(){return"danger"===this.type?"cross":"checked"}}};n("f77f");const De=c()($e,[["render",Ce]]);var Ae=De,we=n("f0b1"),Fe={name:"locatFImg",components:{LDropDown:be,LLoading1:ot["a"],YAlert:Ae,ImageUploader:we["a"]},props:{info:Object},data:function(){return{Display:!1,file:"",loading:!1,imageName:"",nom:"",prenom:"",tel:""}},methods:{close:function(){this.Display=!1,document.getElementById("lPbblah1").src="",this.file=""},preview:function(t){t&&(this.file=t,document.getElementById("lPbblah1").src=URL.createObjectURL(t))},sendImage:function(){var t=this;this.loading=!0;var e=n("bc3a"),i=new FormData;this.file?(i.append("image_name",this.file),e.post(this.$store.state.baseUrl+"saveLocImg.php",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){"Error"===e.data?(t.loading=!1,t.$refs.yAlert.display(e.data)):(t.imageName=e.data,t.publishing())})).catch((function(t){console.log(t)}))):this.publishing()},publishing:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"locataire.php",{type:"modify",id:this.info.id,image:this.imageName,nom:this.nom,prenom:this.prenom,tel:this.tel}).then((function(e){console.log(e.data),t.loadData()})).catch((function(t){console.log(t)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}},watch:{info:function(t){this.nom=t.nom,this.prenom=t.prenom,this.tel=t.tel1,this.imageName=t.image}}};n("008e");const xe=c()(Fe,[["render",se]]);var Pe=xe,Be={class:"lPBYesNo"},Le={class:"lPBYesNoSon"};function ke(t,e,n,a,o,s){return Object(i["J"])((Object(i["u"])(),Object(i["e"])("div",Be,[Object(i["f"])("div",Le,[Object(i["f"])("span",null,' Voulez vous vraiment supprimmer "'+Object(i["C"])(o.current)+'" ? cette action est vraiment critique.',1),Object(i["f"])("div",null,[Object(i["f"])("div",{onClick:e[0]||(e[0]=function(t){return s.send("yes")}),class:"lPBYNBut"},"Yes"),Object(i["f"])("div",{onClick:e[1]||(e[1]=function(t){return s.send("no")}),class:"lPBYNBut"},"No")])])],512)),[[i["H"],o.Display]])}var Ne={name:"yAlert",props:{elements:Array},data:function(){return{Display:!1,current:"fedf"}},methods:{display:function(t){this.current=t,this.Display=!0},send:function(t){this.$emit("option",t),this.Display=!1}}};n("57bd");const Me=c()(Ne,[["render",ke]]);var Ie=Me,Se={name:"locataires",components:{EditMenu:Tt,LocatFImg:Pe,YAlert:Ae,LLoading1:ot["a"],YesNo:Ie},data:function(){return{loading:!1,current:[],menu:["Modifier","supprimer"],locataires:this.$store.state.load.locataires,bUrl:this.$store.state.baseUrl}},methods:{select:function(t){this.$refs.menu.Display=!1,"Modifier"===t?this.$refs.LocatFImg.Display=!0:"supprimer"===t&&this.$refs.yesNo.display(this.current.nom)},showMenu:function(t){!1===this.$refs.menu.Display&&(this.$refs.menu.Display=!0,this.current=t)},yesNoAction:function(t){"yes"==t&&this.delete()},delete:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"locataire.php",{type:"delete",id:this.current.id}).then((function(){t.loadData()})).catch((function(e){t.loading=!1,console.log(e)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait!")})).catch((function(t){console.log(t)}))},toLocataire:function(t){this.$router.push({name:"locataire",params:{locId:t}})},getDebt:function(t){var e,n=this.$store.state.load.contrats,i=n.length;for(e=0;e<i;e++)if(n[e].locataire==t&&n[e].balance<0)return"rgb(255, 0, 76)";return"#232323"},getLocContrat:function(t){var e,n=this.$store.state.load.contrats,i=this.$store.state.load.contrats.length;for(e=0;e<i;e++)if(n[e].locataire==t)return{chambreNom:n[e].chambreNom,citeNom:n[e].citeNom}},getLocataire:function(){var t,e=[],n=this.$store.state.load.locataires,i=this.$store.state.load.locataires.length;for(t=0;t<i;t++)e.push(Object(xt["a"])(Object(xt["a"])({},n[t]),this.getLocContrat(n[t].id)));this.locataires=e}},watch:{"$store.state.load.locataires":function(){this.getLocataire()}},mounted:function(){this.getLocataire()}};n("f5be");const _e=c()(Se,[["render",Ft]]);var Ee=_e,Te=n("f0ff"),Ue=n.n(Te),Ye={class:"locataire1"},He={style:{"z-index":"1"},class:"lPBFCTitle"},Je=Object(i["f"])("img",{src:ut.a},null,-1),ze=[Je],Ve={class:"locat1Body"},Ge={class:"locat1Info locat1Block"},Re=Object(i["f"])("p",{style:{"border-bottom":"solid 1px rgb(230,230,230)","padding-bottom":"2px"},class:"locat1Head"},"Informations",-1),qe={class:"locat1InfoImg"},We=["src"],Xe=Object(i["f"])("div",null,"Nom ",-1),Ke=Object(i["f"])("div",null,"Prenom",-1),Qe=Object(i["f"])("div",null,"Tel 1",-1),Ze=Object(i["f"])("div",null,"Tel 2",-1),tn=Object(i["f"])("div",null,"Age",-1),en=Object(i["f"])("div",null,"Situation",-1),nn={class:"locat1List locat1Block"},an={style:{"padding-left":"0px"},class:"locat1Head"},on={style:{border:"none","margin-top":"30px"}},sn=Object(i["f"])("div",null,"Chambre",-1),cn=Object(i["f"])("div",null,"Cité",-1),rn={class:"locat1Limit"},ln=Object(i["f"])("div",null,"Prix/mois",-1),un=Object(i["f"])("div",null,"Dette",-1),dn={style:{color:"rgb(233, 27, 62)"}},fn=Object(i["f"])("div",null,"Solde",-1),pn=Object(i["f"])("div",null,"Date d'expiration",-1),bn={class:"locat1Limit"},mn=Object(i["f"])("div",null,"Temps restant",-1),hn={class:"locat1Timer"},On=Object(i["f"])("div",null,"Date début",-1),jn=Object(i["f"])("div",null,"Total payé ",-1),gn=Object(i["f"])("div",null,[Object(i["h"])("Total "),Object(i["f"])("br"),Object(i["h"])(" Charge + Décharge ")],-1),vn=["onClick"],yn=Object(i["f"])("img",{src:Ue.a},null,-1);function Cn(t,e,a,o,s,c){var r=Object(i["A"])("EditMenu"),l=Object(i["A"])("YesNo"),u=Object(i["A"])("ModifyLocataire"),d=Object(i["A"])("YAlert"),f=Object(i["A"])("LLoading1");return Object(i["u"])(),Object(i["e"])("div",Ye,[Object(i["f"])("div",He,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){t.$router.go(-1)})},ze),Object(i["h"])(" "+Object(i["C"])(t.locataire.nom),1)]),Object(i["f"])("div",Ve,[Object(i["f"])("div",Ge,[Re,Object(i["f"])("div",qe,[Object(i["f"])("img",{src:""!=t.locataire.image?t.$store.state.baseUrl+t.locataire.image:n("36a2")},null,8,We)]),Object(i["f"])("div",null,[Xe,Object(i["f"])("span",null,Object(i["C"])(t.locataire.nom),1)]),Object(i["f"])("div",null,[Ke,Object(i["f"])("span",null,Object(i["C"])(t.locataire.prenom),1)]),Object(i["f"])("div",null,[Qe,Object(i["f"])("span",null,Object(i["C"])(t.locataire.tel1),1)]),Object(i["f"])("div",null,[Ze,Object(i["f"])("span",null,Object(i["C"])(""==t.locataire.tel2?"Aucun":t.locataire.tel2),1)]),Object(i["f"])("div",null,[tn,Object(i["f"])("span",null,Object(i["C"])(t.locataire.age)+" ans",1)]),Object(i["f"])("div",null,[en,Object(i["f"])("span",null,Object(i["C"])(t.locataire.situation_matrimonial),1)])]),Object(i["f"])("div",nn,[Object(i["f"])("span",an,Object(i["C"])(t.contrats.length>0?"":"Aucune")+" Chambre(s) occupé par "+Object(i["C"])(t.locataire.nom),1),(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.contrats,(function(e,n){return Object(i["u"])(),Object(i["e"])("div",{key:n,class:"locat1Contrat"},[Object(i["f"])("div",on,[sn,Object(i["f"])("span",null,Object(i["C"])(e.chambreNom),1)]),Object(i["f"])("div",null,[cn,Object(i["f"])("span",null,Object(i["C"])(e.citeNom),1)]),Object(i["f"])("div",rn,[ln,Object(i["f"])("span",null,Object(i["C"])(e.loyer)+" FCFA",1)]),Object(i["f"])("div",null,[un,Object(i["f"])("span",dn,Object(i["C"])(t.setBalance(e)>=0?0:t.setBalance(e))+" FCFA",1)]),Object(i["f"])("div",null,[fn,Object(i["f"])("span",null,Object(i["C"])(t.setBalance(e)>=0?t.setBalance(e):0)+" FCFA",1)]),Object(i["f"])("div",null,[pn,Object(i["f"])("span",null,Object(i["C"])(t.expiration(e,n)),1)]),Object(i["f"])("div",bn,[mn,Object(i["f"])("span",hn,Object(i["C"])(t.expirations[n].value),1)]),Object(i["f"])("div",null,[On,Object(i["f"])("span",null,Object(i["C"])(t.dateFormat(e.date_debut)),1)]),Object(i["f"])("div",null,[jn,Object(i["f"])("span",null,Object(i["C"])(e.totalPayer)+" FCFA",1)]),Object(i["f"])("div",null,[gn,Object(i["f"])("span",null,Object(i["C"])(e.totalCharge)+" FCFA",1)]),Object(i["J"])(Object(i["f"])("span",{onClick:function(n){return t.showMenu(e)},class:"locat1Menu"},[Object(i["h"])("Modifier"),yn],8,vn),[[i["H"],1==t.$store.state.login.isAdmin]])])})),128))])]),Object(i["i"])(r,{elements:t.menu,onSelect:t.select,ref:"menu"},null,8,["elements","onSelect"]),Object(i["i"])(l,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"]),Object(i["i"])(u,{ref:"modifier",onModified:t.setContrat,style:{"z-index":"1"}},null,8,["onModified"]),Object(i["i"])(d,{ref:"yAlertS",type:"sucess"},null,512),Object(i["i"])(f,{visible:t.loading},null,8,["visible"])])}var $n={class:"lPBYesNo"},Dn={class:"lPBYesNoSon"};function An(t,e,n,a,o,s){return Object(i["J"])((Object(i["u"])(),Object(i["e"])("div",$n,[Object(i["f"])("div",Dn,[Object(i["f"])("span",null,Object(i["C"])(o.current),1),Object(i["f"])("div",null,[Object(i["f"])("div",{onClick:e[0]||(e[0]=function(t){return s.send("yes")}),class:"lPBYNBut"},"Oui"),Object(i["f"])("div",{onClick:e[1]||(e[1]=function(t){return s.send("no")}),class:"lPBYNBut"},"Non")])])],512)),[[i["H"],o.Display]])}var wn={name:"yAlert",props:{elements:Array},data:function(){return{Display:!1,current:"Voulez vous vraiment créer ce nouveau contrat ? cette action est vraiment critique."}},methods:{display:function(t){this.current=t,this.Display=!0},send:function(t){this.$emit("option",t),this.Display=!1}}};n("d90b");const Fn=c()(wn,[["render",An]]);var xn=Fn,Pn={class:"lPblicationForm"},Bn={class:"lPBFCTitle"},Ln=Object(i["f"])("img",{src:ut.a},null,-1),kn=[Ln],Nn={class:"lPBFCBody"},Mn={class:"lPBFCinput"},In=Object(i["f"])("span",null,"Nouveau prix par mois:",-1),Sn={class:"lPBFCinput"},_n=Object(i["f"])("span",null,"Date début:",-1),En=Object(i["f"])("span",null,"Enregistrer",-1),Tn=[En];function Un(t,e,n,a,o,s){var c=Object(i["A"])("LLoading1"),r=Object(i["A"])("YAlert"),l=Object(i["A"])("YesNo");return Object(i["J"])((Object(i["u"])(),Object(i["e"])("section",Pn,[Object(i["f"])("div",Bn,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},kn),Object(i["h"])(" Modifier contrat ")]),Object(i["f"])("div",Nn,[Object(i["f"])("div",Mn,[In,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.loyer=e})},null,512),[[i["G"],t.loyer]])]),Object(i["f"])("div",Sn,[_n,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"date","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.dateDebut=e})},null,512),[[i["G"],t.dateDebut]])]),Object(i["f"])("div",{class:"lPBFCButton",onClick:e[3]||(e[3]=function(){return t.showYesNo&&t.showYesNo.apply(t,arguments)})},Tn)]),Object(i["i"])(c,{visible:t.loading},null,8,["visible"]),Object(i["i"])(r,{ref:"yAlert"},null,512),Object(i["i"])(r,{onClosed:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClosed"]),Object(i["i"])(l,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])],512)),[[i["H"],t.Display]])}var Yn={name:"modifyLocataire",components:{LDropDown:be,LLoading1:ot["a"],YAlert:Ae,YesNo:xn},data:function(){return{Display:!1,loading:!1,loyer:0,dateDebut:"",contrat:[]}},methods:{display:function(t){this.contrat=t,this.loyer=this.contrat.loyer,this.Display=!0},close:function(){this.loyer="",this.Display=!1},showYesNo:function(){this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? toutes les données du contrat seront reinitialisées")},yesNoAction:function(t){"yes"==t&&this.publish()},validation:function(){var t=new Date(this.$store.state.load.serverDate),e=new Date(this.dateDebut),n=e.getTime()-t.getTime();return""===this.loyer||this.loyer<0||isNaN(n)},publish:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez bien remplir les champs!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"modify",loyer:this.loyer,id:this.contrat.id,dateDebut:this.dateDebut}).then((function(){t.loadData()})).catch((function(e){alert(e),t.loading=!1}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}}};const Hn=c()(Yn,[["render",Un]]);var Jn=Hn,zn={name:"locataire",components:{EditMenu:Tt,YesNo:xn,YAlert:Ae,ModifyLocataire:Jn,LLoading1:ot["a"]},data:function(){return{loading:!1,menu:["Modifier","Supprimer"],locataire:[],contrats:[],ctr:[],expirations:{}}},methods:{balanceColor:function(t){return"black"},setLocataire:function(){var t,e=this.$store.state.load.locataires,n=this.$route.params.locId,i=e.length;for(t=0;t<i;t++)if(e[t].id==n){this.locataire=e[t];break}this.setContrat()},setContrat:function(){var t,e=this.$store.state.load.contrats,n=[],i=e.length;for(t=0;t<i;t++)e[t].locataire===this.locataire.id&&n.push(e[t]);this.contrats=n},select:function(t){this.$refs.menu.Display=!1,"Modifier"===t?this.$refs.modifier.display(this.ctr):"Supprimer"===t&&this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? C'est une opération critique")},showMenu:function(t){!1===this.$refs.menu.Display&&(this.$refs.menu.Display=!0,this.ctr=t)},yesNoAction:function(t){"yes"==t&&this.delete()},delete:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{id:this.ctr.id,type:"delete"}).then((function(e){var n=e.data;console.log(n),t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait!")})).catch((function(t){console.log(t)}))},dateFormat:function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1,a=e.getDate();return i=i<10?"0"+i:i,a=a<10?"0"+a:a,a+" "+this.$store.state.mois[i-1]+" "+n},endMonth:function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0);return e},setBalance:function(t){var e=new Date(this.$store.state.load.serverDate),n=new Date(t.date_debut);if(e.getTime()<n.getTime())return t.totalPayer+t.totalCharge;var i=!0,a=0;while(i){var o=n.getDate();n.setMonth(n.getMonth()+1);var s=new Date(n.getTime());if(o!=n.getDate()&&(s.setMonth(s.getMonth()-1),s=this.endMonth(s)),n.getTime()>=e.getTime()){i=!1;break}a++}return t.totalPayer-a*t.loyer+t.totalCharge},expiration:function(t,e){var n=new Date(t.date_debut),i=t.totalPayer+t.totalCharge,a=(i-i%t.loyer)/t.loyer,o=n.getDate();n.setMonth(n.getMonth()+a+1),o!=n.getDate()&&(n.setMonth(n.getMonth()-1),n=this.endMonth(n));var s=n.getFullYear(),c=n.getMonth()+1;return o=n.getDate(),c=c<10?"0"+c:c,o=o<10?"0"+o:o,this.setExpirations(e,n),o+" "+this.$store.state.mois[c-1]+" "+s},setExpirations:function(t,e){if("undefined"===typeof this.expirations[t]){this.expirations[t]={expDate:e,index:t,value:0};var n=this;setInterval((function(){var i=new Date,a=e.getTime()-i.getTime();if(a<0)n.expirations[t].value="0jrs:0h:0m:0s";else{var o,s=a,c=864e5,r=Math.floor(a/c);s-=r*c;var l=Math.floor(s/36e5);s-=60*l*60*1e3;var u=Math.floor(s/6e4);s-=60*u*1e3;var d=Math.floor(s/1e3);o=r+"jrs:"+l+"h:"+u+"m:"+(d<10?"0"+d:d)+"s",n.expirations[t].value=o}}),1e3)}}},watch:{"$store.state.load.locataires":function(){this.setLocataire()},"$store.state.load.contrats":function(){this.setLocataire()}},mounted:function(){this.setLocataire()}};n("e83f");const Vn=c()(zn,[["render",Cn]]);var Gn=Vn,Rn=n("709f"),qn=n.n(Rn),Wn={class:"cite"},Xn={style:{"z-index":"1"},class:"lPBFCTitle"},Kn=Object(i["f"])("img",{src:ut.a},null,-1),Qn=[Kn],Zn={class:"citeBody"},ti={class:"citeElImg"},ei=["onClick"],ni=["onClick"],ii={class:"citeElName"},ai={style:{color:"rgb(255, 0, 76)"}},oi={class:"citeMButton"},si=["onClick"],ci={class:"citePlus"};function ri(t,e,n,a,o,s){var c=Object(i["A"])("CiteForm"),r=Object(i["A"])("EditMenu"),l=Object(i["A"])("YAlert"),u=Object(i["A"])("LLoading1"),d=Object(i["A"])("YesNo"),p=Object(i["A"])("CiteInfo");return Object(i["u"])(),Object(i["e"])("div",Wn,[Object(i["f"])("div",Xn,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){t.$router.go(-1)})},Qn),Object(i["h"])(" MES CITES ")]),Object(i["f"])("div",Zn,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.cites,(function(e,n){return Object(i["u"])(),Object(i["e"])("div",{key:n,class:"citeElement"},[Object(i["f"])("div",ti,[Object(i["f"])("img",{onClick:function(e){return t.toChambres(n)},src:f.a},null,8,ei)]),Object(i["f"])("div",{onClick:function(e){return t.toChambres(n)}},[Object(i["f"])("span",ii,Object(i["C"])(e.nom),1),Object(i["f"])("span",ai,Object(i["C"])(e.nbrChambre)+" Chambres",1)],8,ni),Object(i["f"])("div",oi,[Object(i["f"])("img",{onClick:function(n){return t.showMenu(e)},src:qn.a},null,8,si)])])})),128)),Object(i["f"])("div",ci,[Object(i["f"])("img",{onClick:e[1]||(e[1]=function(e){return t.showForm("add")}),src:bt.a})])]),Object(i["i"])(c,{style:{"z-index":"3"},ref:"form",info:t.current},null,8,["info"]),Object(i["i"])(r,{elements:t.menu,onSelect:t.select,ref:"menu"},null,8,["elements","onSelect"]),Object(i["i"])(l,{ref:"yAlertS",type:"success"},null,512),Object(i["i"])(u,{visible:t.loading},null,8,["visible"]),Object(i["i"])(d,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"]),Object(i["i"])(p,{ref:"citeInfo"},null,512)])}n("a4d3"),n("e01a");var li={class:"lPblicationForm"},ui={class:"lPBFCTitle"},di=Object(i["f"])("img",{src:ut.a},null,-1),fi=[di],pi={class:"lPBFCBody"},bi={class:"lPBFCinput"},mi=Object(i["f"])("span",null,"nom",-1),hi={class:"lPBFCinput"},Oi=Object(i["f"])("span",null,"Lieu",-1),ji={class:"lPBFCinput lPBFCText"},gi=Object(i["f"])("span",null,"Desciption",-1),vi={class:"lPBFCButton"};function yi(t,e,n,a,o,s){var c=Object(i["A"])("LLoading1"),r=Object(i["A"])("YAlert");return Object(i["J"])((Object(i["u"])(),Object(i["e"])("section",li,[Object(i["f"])("div",ui,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},fi),Object(i["h"])(" "+Object(i["C"])(t.title),1)]),Object(i["f"])("div",pi,[Object(i["f"])("div",bi,[mi,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.nom=e})},null,512),[[i["G"],t.nom]])]),Object(i["f"])("div",hi,[Oi,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.location=e})},null,512),[[i["G"],t.location]])]),Object(i["f"])("div",ji,[gi,Object(i["J"])(Object(i["f"])("textarea",{"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.description=e})},null,512),[[i["G"],t.description]])]),Object(i["f"])("div",vi,[Object(i["f"])("span",{onClick:e[4]||(e[4]=function(){return t.publish&&t.publish.apply(t,arguments)})},"Enregistrer")])]),Object(i["i"])(c,{visible:t.loading},null,8,["visible"]),Object(i["i"])(r,{ref:"yAlert"},null,512),Object(i["i"])(r,{onClosed:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClosed"])],512)),[[i["H"],t.Display]])}var Ci={name:"citeForm",components:{LDropDown:be,LLoading1:ot["a"],YAlert:Ae,ImageUploader:we["a"]},props:{info:Object},data:function(){return{type:"add",Display:!1,loading:!1,nom:"",location:"",description:""}},computed:{title:function(){return"add"===this.type?"Ajouter une cité":"Modifier cité "+this.info.nom}},methods:{display:function(t){"modify"===t&&(this.nom=this.info.nom,this.location=this.info.location,this.description=this.info.description),this.type=t,this.Display=!0},close:function(){this.$refs.yAlertS.Display=!1,this.$refs.yAlert.Display=!1,this.nom="",this.location="",this.description="",this.Display=!1},publish:function(){"add"===this.type?this.addCite():this.modifyCite()},validation:function(){return""===this.nom},addCite:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez entrer au moins le nom!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"cites.php",{type:"add",nom:this.nom,location:this.location,description:this.description}).then((function(e){var n=e.data;t.loading=!1,console.log(n),"exist"===n?t.$refs.yAlert.display("Le nom est déja utilisé!"):t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))}},modifyCite:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez entrer au moins le nom!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"cites.php",{type:"modify",id:this.info.id,nom:this.nom,location:this.location,description:this.description}).then((function(e){var n=e.data;t.loading=!1,console.log(n),"exist"===n?t.$refs.yAlert.display("Le nom est déja utilisé!"):t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}}};const $i=c()(Ci,[["render",yi]]);var Di=$i,Ai={class:"editMEMenuC"},wi=Object(i["f"])("img",{src:Bt.a},null,-1),Fi=[wi];function xi(t,e,n,a,o,s){return Object(i["J"])((Object(i["u"])(),Object(i["e"])("div",Ai,[Object(i["f"])("span",null,"Nom: "+Object(i["C"])(o.cite.nom),1),Object(i["f"])("span",null,"Lieu: "+Object(i["C"])(o.cite.location),1),Object(i["f"])("span",null,"Description: "+Object(i["C"])(o.cite.description),1),Object(i["f"])("div",{onClick:e[0]||(e[0]=function(t){return o.Display=!1}),class:"editMEMCloseC"},Fi)],512)),[[i["H"],o.Display]])}var Pi={name:"yAlert",props:{elements:Array},data:function(){return{Display:!1,cite:[]}},methods:{display:function(t){this.Display=!0,this.cite=t}}};n("38f9");const Bi=c()(Pi,[["render",xi]]);var Li=Bi,ki={name:"cites",components:{CiteForm:Di,EditMenu:Tt,YAlert:Ae,LLoading1:ot["a"],YesNo:Ie,CiteInfo:Li},data:function(){return{loading:!1,cites:this.$store.state.load.cites,current:[],menu:["Modifier","Supprimer","Infos"]}},methods:{select:function(t){this.$refs.menu.Display=!1,"Modifier"===t?this.showForm("modify"):"Supprimer"===t?this.$refs.yesNo.display(this.current.nom):"Infos"===t&&this.$refs.citeInfo.display(this.current)},showMenu:function(t){!1===this.$refs.menu.Display&&(this.$refs.menu.Display=!0,this.current=t)},showForm:function(t){this.$refs.form.display(t)},yesNoAction:function(t){"yes"==t&&this.delete()},delete:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"cites.php",{type:"delete",id:this.current.id}).then((function(){t.loadData()})).catch((function(t){console.log(t)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait !")})).catch((function(t){console.log(t)}))},toChambres:function(t){this.$router.push({name:"chambres",params:{citeKey:t}})}},watch:{"$store.state.load.cites":function(){this.cites=this.$store.state.load.cites}},mounted:function(){this.cites=this.$store.state.load.cites}};n("0160");const Ni=c()(ki,[["render",ri]]);var Mi=Ni,Ii=n("ef2b"),Si=n.n(Ii),_i=n("b12c"),Ei=n.n(_i),Ti={class:"chambre"},Ui={style:{"z-index":"1"},class:"lPBFCTitle"},Yi=Object(i["f"])("img",{src:ut.a},null,-1),Hi=[Yi],Ji={class:"chambreBody"},zi={class:"chambreElImg"},Vi=["onClick"],Gi=["onClick"],Ri={class:"chambreElN"},qi={class:"chambreElName"},Wi={class:"chambreMButton"},Xi=["onClick"],Ki={class:"chambrePlus"};function Qi(t,e,n,a,o,s){var c=Object(i["A"])("ChambForm"),r=Object(i["A"])("EditMenu"),l=Object(i["A"])("YAlert"),u=Object(i["A"])("LLoading1"),d=Object(i["A"])("YesNo"),f=Object(i["A"])("Chambre");return Object(i["u"])(),Object(i["e"])("div",Ti,[Object(i["f"])("div",Ui,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){t.$router.go(-1)})},Hi),Object(i["h"])(" Chambres ( "+Object(i["C"])(t.cite.nom)+" ) ",1)]),Object(i["f"])("div",Ji,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.chambres,(function(e,n){return Object(i["u"])(),Object(i["e"])("div",{key:n,class:"chambreElement"},[Object(i["f"])("div",zi,[Object(i["f"])("img",{onClick:function(n){return t.toChambre(e)},src:Si.a},null,8,Vi)]),Object(i["f"])("div",{onClick:function(n){return t.toChambre(e)}},[Object(i["f"])("span",Ri,[Object(i["f"])("span",qi,Object(i["C"])(e.nom),1),Object(i["f"])("span",null,Object(i["C"])(t.getLocataire(e.id)),1)]),Object(i["f"])("div",null,[Object(i["f"])("span",{style:Object(i["q"])({backgroundColor:t.setColor(e.occupied)})},null,4)])],8,Gi),Object(i["f"])("div",Wi,[Object(i["f"])("img",{onClick:function(n){return t.showMenu(e)},src:Ei.a},null,8,Xi)])])})),128)),Object(i["f"])("div",Ki,[Object(i["f"])("img",{onClick:e[1]||(e[1]=function(e){return t.showForm("add")}),src:bt.a})])]),Object(i["i"])(c,{style:{"z-index":"3"},ref:"form",info:t.current,cite:[t.cite]},null,8,["info","cite"]),Object(i["i"])(r,{elements:t.menu,onSelect:t.select,ref:"menu"},null,8,["elements","onSelect"]),Object(i["i"])(l,{ref:"yAlertS",type:"success"},null,512),Object(i["i"])(u,{visible:t.loading},null,8,["visible"]),Object(i["i"])(u,{visible:t.$store.state.load.loading},null,8,["visible"]),Object(i["i"])(d,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"]),Object(i["i"])(f,{ref:"chambre"},null,512)])}var Zi={class:"lPblicationForm"},ta={style:{"z-index":"2"},class:"lPBFCTitle"},ea=Object(i["f"])("img",{src:ut.a},null,-1),na=[ea],ia={class:"lPBFCBody"},aa={class:"lPBFCinput"},oa=Object(i["f"])("span",null,"nom",-1),sa={class:"lPBFCinput"},ca=Object(i["f"])("span",null,"Lieu",-1),ra={class:"lPBFCinput"},la=Object(i["f"])("span",null,"Cité",-1),ua={class:"lPBFCinput"},da=Object(i["f"])("span",null,"Loyer par défaut",-1),fa={class:"lPBFCinput lPBFCText"},pa=Object(i["f"])("span",null,"Desciption",-1),ba=Object(i["f"])("span",null,"Enregistrer",-1),ma=[ba];function ha(t,e,n,a,o,s){var c=Object(i["A"])("LDropDown"),r=Object(i["A"])("LLoading1"),l=Object(i["A"])("YAlert");return Object(i["J"])((Object(i["u"])(),Object(i["e"])("section",Zi,[Object(i["f"])("div",ta,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},na),Object(i["h"])(" "+Object(i["C"])(t.title),1)]),Object(i["f"])("div",ia,[Object(i["f"])("div",aa,[oa,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.nom=e})},null,512),[[i["G"],t.nom]])]),Object(i["f"])("div",sa,[ca,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.location=e})},null,512),[[i["G"],t.location]])]),Object(i["f"])("div",ra,[la,Object(i["i"])(c,{style:{"z-index":"0"},ref:"cite",elements:t.cite,maxHeight:"60px",maxWidth:"100%"},null,8,["elements"])]),Object(i["f"])("div",ua,[da,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.loyerParDefaut=e})},null,512),[[i["G"],t.loyerParDefaut]])]),Object(i["f"])("div",fa,[pa,Object(i["J"])(Object(i["f"])("textarea",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.description=e})},null,512),[[i["G"],t.description]])]),Object(i["f"])("div",{class:"lPBFCButton",onClick:e[5]||(e[5]=function(){return t.publish&&t.publish.apply(t,arguments)})},ma)]),Object(i["i"])(r,{visible:t.loading},null,8,["visible"]),Object(i["i"])(l,{ref:"yAlert"},null,512),Object(i["i"])(l,{onClosed:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClosed"])],512)),[[i["H"],t.Display]])}var Oa={name:"chambForm",components:{LDropDown:be,LLoading1:ot["a"],YAlert:Ae,ImageUploader:we["a"]},props:{info:Object,cite:{type:Array,default:[{nom:""}]}},data:function(){return{type:"add",Display:!1,loading:!1,nom:"",location:"",loyerParDefaut:null,description:""}},computed:{title:function(){return"add"===this.type?"Ajouter une chambre":"Modifier chambre "+this.info.nom}},methods:{display:function(t){"modify"===t&&(this.nom=this.info.nom,this.location=this.info.location,this.loyerParDefaut=this.info.loyerParDefaut,this.description=this.info.description),this.type=t,this.Display=!0},close:function(){this.$refs.yAlertS.Display=!1,this.$refs.yAlert.Display=!1,this.nom="",this.location="",this.loyerParDefaut=1e4,this.description="",this.Display=!1},publish:function(){"add"===this.type?this.addChambre():this.modifyChambre()},validation:function(){return""===this.nom||"undefined"===typeof this.$refs.cite.current},addChambre:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Choissisez au moins un nom et une cité!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"chambres.php",{type:"add",nom:this.nom,location:this.location,cite:this.$refs.cite.current.id,loyerParDefaut:this.loyerParDefaut,description:this.description}).then((function(e){t.loading=!1,console.log(e.data),"exist"===e.data?t.$refs.yAlert.display("Le nom est déja utilisé!"):t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))}},modifyChambre:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez entrer au moins le nom!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"chambres.php",{type:"modify",id:this.info.id,nom:this.nom,location:this.location,loyerParDefaut:this.loyerParDefaut,description:this.description}).then((function(e){t.loading=!1,console.log(e.data),"exist"===e.data?t.$refs.yAlert.display("Le nom est déja utilisé!"):t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}}};const ja=c()(Oa,[["render",ha]]);var ga=ja,va={class:"chambre1"},ya={style:{"z-index":"1"},class:"lPBFCTitle"},Ca=Object(i["f"])("img",{src:ut.a},null,-1),$a=[Ca],Da={class:"chambre1Body"},Aa={class:"chambre1Nom"},wa=Object(i["f"])("div",null,"Nom Chambre",-1),Fa=Object(i["f"])("div",null,"Identifiant",-1),xa=Object(i["f"])("div",null,"Description",-1),Pa=Object(i["f"])("div",null,"Lieu",-1),Ba=Object(i["f"])("div",null,"Cite",-1),La=Object(i["f"])("div",null,"Prix par défaut",-1),ka=Object(i["f"])("div",null,"Occupant",-1),Na=Object(i["f"])("span",null," Aucun ",-1),Ma=[ka,Na],Ia=Object(i["f"])("div",null,"Occupant",-1);function Sa(t,e,n,a,o,s){return Object(i["J"])((Object(i["u"])(),Object(i["e"])("div",va,[Object(i["f"])("div",ya,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.goBack&&t.goBack.apply(t,arguments)})},$a),Object(i["h"])(" CHAMBRE: "+Object(i["C"])(t.chambre.nom),1)]),Object(i["f"])("div",Da,[Object(i["f"])("div",Aa,[wa,Object(i["f"])("span",null,Object(i["C"])(t.chambre.nom),1)]),Object(i["f"])("div",null,[Fa,Object(i["h"])(),Object(i["f"])("span",null,Object(i["C"])(t.chambre.id),1)]),Object(i["f"])("div",null,[xa,Object(i["h"])(),Object(i["f"])("span",null,Object(i["C"])(""==t.chambre.description?"Aucune":t.chambre.description),1)]),Object(i["f"])("div",null,[Pa,Object(i["h"])(),Object(i["f"])("span",null,Object(i["C"])(""==t.chambre.location?"Non spécifié":t.chambre.location),1)]),Object(i["f"])("div",null,[Ba,Object(i["h"])(),Object(i["f"])("span",null,Object(i["C"])(t.cite.nom),1)]),Object(i["f"])("div",null,[La,Object(i["h"])(),Object(i["f"])("span",null,Object(i["C"])(null==t.chambre.loyerParDefaut?"Non spécifié":t.chambre.loyerParDefaut+" FCFA"),1)]),Object(i["J"])(Object(i["f"])("div",null,Ma,512),[[i["H"],0==t.chambre.occupied]]),Object(i["J"])(Object(i["f"])("div",null,[Ia,Object(i["f"])("span",{onClick:e[1]||(e[1]=function(e){return t.toLocataire(t.contrat.locataire)}),style:{color:"rgb(10,10,244)"}},Object(i["C"])(t.contrat.locataireNom)+" "+Object(i["C"])(t.contrat.locatairePrenom),1)],512),[[i["H"],1==t.chambre.occupied]])])],512)),[[i["H"],t.Display]])}var _a={name:"chambre",data:function(){return{Display:!1,chambre:[],cite:[],contrat:[{locataireNom:"Aucun"}]}},methods:{goBack:function(){this.Display=!1},toLocataire:function(t){this.$router.push({name:"locataire",params:{locId:t}})},display:function(t){this.chambre=t,this.getCite(),this.contrat=this.getContrat(this.chambre.id),this.Display=!0},getCite:function(){var t,e=this.$store.state.load.cites,n=e.length;for(t=0;t<n;t++)if(e[t].id===this.chambre.cite){this.cite=e[t];break}},getContrat:function(t){var e,n=this.$store.state.load.contrats,i=n.length;for(e=0;e<i;e++)if(n[e].chambre===t)return n[e];return""}}};n("da4a");const Ea=c()(_a,[["render",Sa]]);var Ta=Ea,Ua={name:"chambres",components:{ChambForm:ga,EditMenu:Tt,YAlert:Ae,LLoading1:ot["a"],YesNo:Ie,Chambre:Ta},data:function(){return{loading:!1,chambres:[{id:1,nom:"chambre A",location:"derrierre boutique",description:"3 pieces",loyerParDefaut:222222},{id:1,nom:"chambre Dagobergo",location:"derrierre boutique",description:"3 pieces"},{id:1,nom:"chamb",location:"derrierre boutique",description:"3 pieces"}],current:[],menu:["Modifier","Supprimer"],cite:[]}},methods:{select:function(t){this.$refs.menu.Display=!1,"Modifier"===t?this.showForm("modify"):"Supprimer"===t&&this.$refs.yesNo.display(this.current.nom)},showMenu:function(t){!1===this.$refs.menu.Display&&(this.$refs.menu.Display=!0,this.current=t)},showForm:function(t){this.$refs.form.display(t)},yesNoAction:function(t){"yes"==t&&this.delete()},delete:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"chambres.php",{type:"delete",id:this.current.id}).then((function(){t.loadData()})).catch((function(e){t.loading=!1,console.log(e)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait !")})).catch((function(t){console.log(t)}))},setColor:function(t){return 0==t?"rgb(10,244,10)":"rgb(244,10,10)"},setChambres:function(){var t=this.$route.params.citeKey,e=this.$store.state.load.cites;this.cite=e[t];var n,i=this.$store.state.load.chambres,a=[],o=i.length;for(n=0;n<o;n++)i[n].cite===this.cite.id&&a.push(i[n]);this.chambres=a},toChambre:function(t){this.$refs.chambre.display(t)},getLocataire:function(t){var e=this.getContrat(t);return e.locataireNom},getContrat:function(t){var e,n=this.$store.state.load.contrats,i=n.length;for(e=0;e<i;e++)if(n[e].chambre===t)return n[e];return{locataireNom:"aucun"}}},watch:{"$store.state.load.chambres":function(){this.setChambres()}},mounted:function(){this.setChambres()}};n("ac03");const Ya=c()(Ua,[["render",Qi]]);var Ha=Ya,Ja=n("6932"),za=n.n(Ja),Va={class:"welcome"},Ga=Object(i["f"])("div",{class:"welImage"},[Object(i["f"])("img",{src:za.a})],-1),Ra={class:"welContinuer"},qa=Object(i["f"])("div",{class:"welMessage"},[Object(i["f"])("span",null,"Logiciel de gestion de cité.@copyright Mr xxxxx")],-1);function Wa(t,e,n,a,o,s){var c=Object(i["A"])("LLoading1");return Object(i["u"])(),Object(i["e"])("div",Va,[Ga,Object(i["f"])("div",Ra,[Object(i["f"])("span",{onClick:e[0]||(e[0]=function(){return t.toLogin&&t.toLogin.apply(t,arguments)})},"Continuer")]),qa,Object(i["i"])(c,{visible:!t.$store.state.load.loading},null,8,["visible"])])}var Xa={name:"welcome",components:{LLoading1:ot["a"]},methods:{toLogin:function(){this.$router.push("login")}}};n("7734");const Ka=c()(Xa,[["render",Wa]]);var Qa=Ka,Za=n("902a"),to=n.n(Za),eo=n("74f3"),no=n.n(eo),io=n("5a42"),ao=n.n(io),oo={class:"login"},so=Object(i["f"])("div",{class:"logBg2"},[Object(i["f"])("img",{src:to.a})],-1),co=Object(i["f"])("div",{class:"logBg1"},[Object(i["f"])("img",{src:no.a})],-1),ro={class:"logBody"},lo=Object(i["f"])("div",{class:"logUser"},[Object(i["f"])("img",{src:ao.a})],-1),uo={class:"logInput"},fo={class:"logInput"},po={style:{color:"red"}},bo={class:"logButton"};function mo(t,e,n,a,o,s){return Object(i["u"])(),Object(i["e"])("div",oo,[so,co,Object(i["f"])("div",ro,[lo,Object(i["f"])("div",uo,[Object(i["h"])("Identifiant :"),Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.login=e}),type:"text"},null,512),[[i["G"],t.login]])]),Object(i["f"])("div",fo,[Object(i["h"])("Mot de passe :"),Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.password=e}),type:"password"},null,512),[[i["G"],t.password]])]),Object(i["J"])(Object(i["f"])("span",po,"Erreur, connexion impossible",512),[[i["H"],t.erreur]]),Object(i["f"])("div",bo,[Object(i["f"])("span",{onClick:e[2]||(e[2]=function(){return t.validate&&t.validate.apply(t,arguments)})},"Valider")])])])}var ho={name:"welcome",data:function(){return{erreur:!1,login:"",password:""}},methods:{validate:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"log",tel:this.login,password:this.password}).then((function(e){var n=e.data;"nothing"!==n?(t.$store.commit("loginCommit",n),t.$router.push("menu")):t.erreur=!0})).catch((function(t){console.log(t)}))}}};n("303b");const Oo=c()(ho,[["render",mo]]);var jo=Oo,go={class:"lPblicationForm"},vo={class:"lPBFCTitle"},yo=Object(i["f"])("img",{src:ut.a},null,-1),Co=[yo],$o={class:"lPBFCBody"},Do={class:"lPBFCImage"},Ao=Object(i["f"])("span",{class:"lPBFCIadd"},"Choisir une image",-1),wo={class:"custom-file-upload"},Fo=Object(i["f"])("img",{src:Yt.a},null,-1),xo=Object(i["f"])("div",null,[Object(i["f"])("img",{id:"lPbblah1",class:"lPbblah"})],-1),Po={class:"lPBFCinput"},Bo=Object(i["f"])("span",null,"Nom",-1),Lo={class:"lPBFCinput"},ko=Object(i["f"])("span",null,"Prénom",-1),No={class:"lPBFCinput"},Mo=Object(i["f"])("span",null,"Tel1",-1),Io={class:"lPBFCinput"},So=Object(i["f"])("span",null,"Tel2",-1),_o={class:"lPBFCinput"},Eo=Object(i["f"])("span",null,"Age",-1),To={class:"lPBFCinput"},Uo=Object(i["f"])("span",null,"Sexe",-1),Yo={class:"lPBFCinput"},Ho=Object(i["f"])("span",null,"Situation",-1),Jo=Object(i["f"])("span",null,"Enregistrer",-1),zo=[Jo];function Vo(t,e,n,a,o,s){var c=Object(i["A"])("ImageUploader"),r=Object(i["A"])("LDropDown"),l=Object(i["A"])("LLoading1"),u=Object(i["A"])("YAlert");return Object(i["u"])(),Object(i["e"])("section",go,[Object(i["f"])("div",vo,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.push("/locataires")})},Co),Object(i["h"])(" Ajouter un Locataire ")]),Object(i["f"])("div",$o,[Object(i["f"])("div",Do,[Ao,Object(i["f"])("label",wo,[Object(i["i"])(c,{ref:"imUploader",debug:1,maxWidth:512,maxHeight:512,autoRotate:!0,quality:1,outputFormat:"blob",preview:!1,onInput:t.preview},null,8,["onInput"]),Fo])]),xo,Object(i["f"])("div",Po,[Bo,Object(i["J"])(Object(i["f"])("textarea",{class:"lPBFCinputStyle","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.nom=e})},null,512),[[i["G"],t.nom]])]),Object(i["f"])("div",Lo,[ko,Object(i["J"])(Object(i["f"])("textarea",{class:"lPBFCinputStyle","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.prenom=e})},null,512),[[i["G"],t.prenom]])]),Object(i["f"])("div",No,[Mo,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.tel1=e})},null,512),[[i["G"],t.tel1]])]),Object(i["f"])("div",Io,[So,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.tel2=e})},null,512),[[i["G"],t.tel2]])]),Object(i["f"])("div",_o,[Eo,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[5]||(e[5]=function(e){return t.age=e})},null,512),[[i["G"],t.age]])]),Object(i["f"])("div",To,[Uo,Object(i["i"])(r,{style:{"z-index":"1"},ref:"sexe",elements:t.sexe,maxHeight:"110px",maxWidth:"100%"},null,8,["elements"])]),Object(i["f"])("div",Yo,[Ho,Object(i["i"])(r,{style:{"z-index":"0"},ref:"situation",elements:t.elements,maxHeight:"110px",maxWidth:"100%"},null,8,["elements"])]),Object(i["f"])("div",{class:"lPBFCButton",onClick:e[6]||(e[6]=function(){return t.sendImage&&t.sendImage.apply(t,arguments)})},zo)]),Object(i["i"])(l,{visible:t.loading},null,8,["visible"]),Object(i["i"])(u,{style:{"z-index":"2"},ref:"yAlert"},null,512),Object(i["i"])(u,{style:{"z-index":"2"},onClosed:e[7]||(e[7]=function(e){return t.$router.push("/locataires")}),ref:"yAlertS",type:"sucess"},null,512)])}var Go={name:"locatForm",components:{LDropDown:be,LLoading1:ot["a"],YAlert:Ae,ImageUploader:we["a"]},data:function(){return{loading:!1,elements:[{nom:"Célibataire"},{nom:"Marié"},{nom:"En couple"}],sexe:[{nom:"Homme"},{nom:"Femme"}],nom:"",prenom:"",tel1:"",tel2:"",age:"",file:"",imageName:""}},methods:{displaying:function(){document.getElementById("lPbblah1").src=""},preview:function(t){t&&(this.file=t,document.getElementById("lPbblah1").src=URL.createObjectURL(t))},sendImage:function(){var t=this;if(this.validation())this.$refs.yAlert.display("veuillez remplir tous les champs importants");else{var e=n("bc3a"),i=new FormData;this.file?(i.append("image_name",this.file),e.post(this.$store.state.baseUrl+"saveLocImg.php",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),"Error"===e.data?(t.loading=!1,t.$refs.yAlert.display(e.data)):(t.imageName=e.data,t.publishing())})).catch((function(t){console.log(t)}))):this.publishing()}},validation:function(){var t=""===this.nom||""===this.prenom||""===this.tel1;return t},publishing:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"saveLocataire.php",{nom:this.nom,prenom:this.prenom,tel1:this.tel1,tel2:this.tel2,age:this.age,image:this.imageName,sexe:this.$refs.sexe.current.nom,situation:this.$refs.situation.current.nom}).then((function(e){var n=e.data;console.log(n),t.loading=!1,"exist"===n?t.$refs.yAlert.display("Le nom est déja utilisé!"):t.loadData()})).catch((function(t){alert(t)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}}};const Ro=c()(Go,[["render",Vo]]);var qo=Ro,Wo={class:"lPblicationForm"},Xo={style:{"z-index":"3"},class:"lPBFCTitle"},Ko=Object(i["f"])("img",{src:ut.a},null,-1),Qo=[Ko],Zo={class:"lPBFCBody"},ts={class:"lPBFCinput"},es=Object(i["f"])("span",null,"Locataire",-1),ns={class:"lPBFCinput"},is=Object(i["f"])("span",null,"Cite",-1),as={class:"lPBFCinput"},os=Object(i["f"])("span",null,"Chambre",-1),ss={class:"lPBFCinput"},cs=Object(i["f"])("span",null,"Loyer par mois",-1),rs={class:"lPBFCinput"},ls=Object(i["f"])("span",null,"Date début",-1),us=Object(i["f"])("span",null,"Enregistrer",-1),ds=[us];function fs(t,e,n,a,o,s){var c=Object(i["A"])("LDropDown"),r=Object(i["A"])("LLoading1"),l=Object(i["A"])("YAlert"),u=Object(i["A"])("YesNo");return Object(i["u"])(),Object(i["e"])("section",Wo,[Object(i["f"])("div",Xo,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},Qo),Object(i["h"])(" Créer Nouveau contrat ")]),Object(i["f"])("div",Zo,[Object(i["f"])("div",ts,[es,Object(i["i"])(c,{style:{"z-index":"2"},ref:"locataire",elements:t.locataires,maxHeight:"110px",maxWidth:"100%"},null,8,["elements"])]),Object(i["f"])("div",ns,[is,Object(i["i"])(c,{onSelected:t.setChambres,style:{"z-index":"1"},elements:t.cites,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(i["f"])("div",as,[os,Object(i["i"])(c,{onSelected:t.setPrice,style:{"z-index":"0"},ref:"chambre",elements:t.chambres,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(i["f"])("div",ss,[cs,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.loyer=e})},null,512),[[i["G"],t.loyer]])]),Object(i["f"])("div",rs,[ls,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"date","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.dateDebut=e})},null,512),[[i["G"],t.dateDebut]])]),Object(i["f"])("div",{class:"lPBFCButton",onClick:e[3]||(e[3]=function(e){return t.showYesNo()})},ds)]),Object(i["i"])(r,{visible:t.loading},null,8,["visible"]),Object(i["i"])(l,{ref:"yAlert"},null,512),Object(i["i"])(l,{onClosed:e[4]||(e[4]=function(e){return t.$router.go(-1)}),ref:"yAlertS",type:"sucess"},null,512),Object(i["i"])(u,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var ps={name:"contratForm",components:{LDropDown:be,LLoading1:ot["a"],YAlert:Ae,YesNo:xn,ImageUploader:we["a"]},data:function(){return{loading:!1,locataires:0==this.$store.state.load.locataires.length?[{nom:""}]:this.$store.state.load.locataires,cites:0==this.$store.state.load.cites.length?[{nom:""}]:this.$store.state.load.cites,chambres:[{nom:""}],loyer:0,dateDebut:""}},methods:{validation:function(){var t=new Date(this.$store.state.load.serverDate),e=new Date(this.dateDebut),n=e.getTime()-t.getTime(),i=this.loyer<0||""===this.loyer||""===this.$refs.chambre.current.nom||isNaN(n);return i},showYesNo:function(){this.$refs.yesNo.Display=!0},yesNoAction:function(t){"yes"==t&&this.publishing()},setChambres:function(t){var e,n=this.$store.state.load.cites,i=n[t],a=this.$store.state.load.chambres,o=[],s=a.length;for(e=0;e<s;e++)a[e].cite===i.id&&0==a[e].occupied&&o.push(a[e]);this.chambres=o.length>0?o:[{nom:""}],o.length>0&&this.setPrice(0)},setPrice:function(t){this.loyer=this.chambres[t].loyerParDefaut},publishing:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez remplir tous les champs!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"add",locataire:this.$refs.locataire.current.id,chambre:this.$refs.chambre.current.id,loyer:this.loyer,dateDebut:this.dateDebut}).then((function(e){console.log(e.data),"error"===e.data?(t.loading=!1,t.$refs.yAlert.display("Erreur chambre occupée!")):t.loadData()})).catch((function(t){alert(t)}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}},mounted:function(){this.setChambres(0)}};const bs=c()(ps,[["render",fs]]);var ms=bs,hs={class:"lPblicationForm"},Os={style:{"z-index":"3"},class:"lPBFCTitle"},js=Object(i["f"])("img",{src:ut.a},null,-1),gs=[js],vs={class:"lPBFCBody"},ys={class:"lPBFCBlock"},Cs={class:"lPBFCinput"},$s=Object(i["f"])("span",null,"Locataire",-1),Ds={class:"lPBFCinput"},As=Object(i["f"])("span",null,"Chambre",-1),ws={class:"lPBFCinput"},Fs=Object(i["f"])("span",{style:{"font-weight":"normal"}},"Prix/mois",-1),xs={class:"lPBFCinput"},Ps=Object(i["f"])("span",{style:{"font-weight":"normal"}},"Dette+solde",-1),Bs={class:"lPBFCinput"},Ls=Object(i["f"])("span",{style:{"font-weight":"normal"}}," Nouvelle dette+solde",-1),ks={class:"lPBFCinput"},Ns=Object(i["f"])("span",{style:{"font-weight":"normal"}},"Montant verser",-1),Ms={class:"lPBFCinput"},Is=Object(i["f"])("span",{style:{"font-weight":"normal"}},"date payment",-1),Ss={class:"lPBFCBlock"},_s=Object(i["f"])("span",null,"ENREGISTRER",-1),Es=[_s];function Ts(t,e,n,a,o,s){var c=Object(i["A"])("LDropDown"),r=Object(i["A"])("LLoading1"),l=Object(i["A"])("YAlert"),u=Object(i["A"])("YesNo");return Object(i["u"])(),Object(i["e"])("section",hs,[Object(i["f"])("div",Os,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},gs),Object(i["h"])(" Effectuer Un Payement ")]),Object(i["f"])("div",vs,[Object(i["f"])("div",ys,[Object(i["f"])("div",Cs,[$s,Object(i["i"])(c,{onSelected:t.setChambres,style:{"z-index":"2"},ref:"locataire",elements:t.locataires,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(i["f"])("div",Ds,[As,Object(i["i"])(c,{onSelected:t.setPrice,style:{"z-index":"0"},ref:"chambre",elements:t.chambres,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(i["f"])("div",ws,[Fs,Object(i["f"])("p",null,Object(i["C"])(t.contrat.loyer)+"FCFA",1)]),Object(i["f"])("div",xs,[Ps,Object(i["h"])(),Object(i["f"])("p",null,Object(i["C"])(t.setBalance(t.contrat))+"FCFA",1)]),Object(i["f"])("div",Bs,[Ls,Object(i["f"])("p",null,Object(i["C"])(t.newBalance)+"FCFA",1)]),Object(i["f"])("div",ks,[Ns,Object(i["J"])(Object(i["f"])("input",{id:"payToPay",class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.payment=e})},null,512),[[i["G"],t.payment]])]),Object(i["f"])("div",Ms,[Is,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"date","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.payDate=e})},null,512),[[i["G"],t.payDate]])])]),Object(i["f"])("div",Ss,[Object(i["f"])("div",{class:"lPBFCButton",onClick:e[3]||(e[3]=function(e){return t.showYesNo()})},Es)])]),Object(i["i"])(r,{visible:t.loading},null,8,["visible"]),Object(i["i"])(l,{ref:"yAlert"},null,512),Object(i["i"])(l,{onClosed:t.toFacture,ref:"yAlertS",type:"sucess"},null,8,["onClosed"]),Object(i["i"])(u,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var Us={name:"paymentForm",components:{LDropDown:be,LLoading1:ot["a"],YAlert:Ae,YesNo:xn},data:function(){return{loading:!1,locataires:0==this.$store.state.load.locataires.length?[{nom:""}]:this.$store.state.load.locataires,chambres:[{nom:""}],contrats:[{nom:""}],contrat:[],loyer:"",payment:0,dateDebut:"",newBalance:0,payDate:"",id:0}},methods:{validation:function(){var t=new Date,e=new Date(this.payDate);if(t.getFullYear()<e.getFullYear()||t.getMonth()<e.getMonth()||t.getDate()<e.getDate())return!0;var n=""===this.payment||""===this.$refs.chambre.current.nom||this.payment<0||""==this.payDate;return n},showYesNo:function(){this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? C'est une opération critique")},yesNoAction:function(t){"yes"==t&&this.publishing()},setChambres:function(t){var e,n=this.$store.state.load.locataires,i=n[t],a=this.$store.state.load.contrats,o=[],s=[],c=a.length;for(e=0;e<c;e++)a[e].locataire===i.id&&(s.push(a[e]),o.push({nom:a[e].chambreNom+", cité: "+a[e].citeNom}));this.chambres=o.length>0?o:[{nom:""}],this.contrats=s.length>0?s:[{nom:""}],o.length>0&&this.setPrice(0)},setPrice:function(t){this.contrat=this.contrats[t],this.newBalance=this.setBalance(this.contrat)},publishing:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez remplir tous les champs correctement!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"pay",manager:this.$store.state.login.id,managerName:this.$store.state.login.login,contrat:this.contrat.id,payment:this.payment,date:this.payDate}).then((function(e){var n=e.data;t.id=n,console.log(n),t.loadData()})).catch((function(t){console.log(t)}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait!")})).catch((function(t){console.log(t)}))},toFacture:function(){this.$router.push({name:"facture",params:{via:"paymentForm",id:this.id}})},endMonth:function(t){return new Date(t.getFullYear(),t.getMonth()+1,0)},setBalance:function(t){if(!t.id)return 0;var e=new Date(this.$store.state.load.serverDate),n=new Date(t.date_debut);if(e.getTime()<n.getTime())return t.totalPayer+t.totalCharge;var i=!0,a=0;while(i){var o=n.getDate();n.setMonth(n.getMonth()+1);var s=new Date(n.getTime());if(o!=n.getDate()&&(s.setMonth(s.getMonth()-1),s=this.endMonth(s)),n.getTime()>=e.getTime()){i=!1;break}a++}return t.totalPayer-a*t.loyer+t.totalCharge}},mounted:function(){this.setChambres(0);var t=this,e=document.getElementById("payToPay");e.addEventListener("input",(function(){var e=isNaN(parseInt(t.payment))||null===t.payment?0:parseInt(t.payment);t.newBalance=parseInt(t.setBalance(t.contrat))+parseInt(e)}))}};const Ys=c()(Us,[["render",Ts]]);var Hs=Ys,Js={class:"lPblicationForm"},zs={style:{"z-index":"3"},class:"lPBFCTitle"},Vs=Object(i["f"])("img",{src:ut.a},null,-1),Gs=[Vs],Rs={class:"lPBFCBody"},qs={class:"lPBFCBlock"},Ws={class:"lPBFCinput"},Xs=Object(i["f"])("span",null,"Locataire",-1),Ks={class:"lPBFCinput"},Qs=Object(i["f"])("span",null,"Chambre",-1),Zs={style:{"padding-right":"0px"},class:"lPBFCinput"},tc=Object(i["f"])("span",null,"Type",-1),ec={style:{"margin-left":"10px",padding:"0px","font-weight":"normal"}},nc={class:"lPBFCinput"},ic=Object(i["f"])("span",{style:{"font-weight":"normal"}},"Montant",-1),ac={class:"lPBFCinput"},oc=Object(i["f"])("span",{style:{"font-weight":"normal"}},"Raison",-1),sc={class:"lPBFCinput"},cc=Object(i["f"])("span",{style:{"font-weight":"normal"}},"date",-1),rc={class:"lPBFCBlock"},lc=Object(i["f"])("span",null,"ENREGISTRER",-1),uc=[lc];function dc(t,e,n,a,o,s){var c=Object(i["A"])("LDropDown"),r=Object(i["A"])("LLoading1"),l=Object(i["A"])("YAlert"),u=Object(i["A"])("YesNo");return Object(i["u"])(),Object(i["e"])("section",Js,[Object(i["f"])("div",zs,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},Gs),Object(i["h"])(" Créer une charge/Décharge ")]),Object(i["f"])("div",Rs,[Object(i["f"])("div",qs,[Object(i["f"])("div",Ws,[Xs,Object(i["i"])(c,{onSelected:t.setChambres,style:{"z-index":"2"},ref:"locataire",elements:t.locataires,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(i["f"])("div",Ks,[Qs,Object(i["i"])(c,{onSelected:t.setContrat,style:{"z-index":"0"},ref:"chambre",elements:t.chambres,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(i["f"])("div",Zs,[tc,Object(i["i"])(c,{onSelected:t.setDescript,style:{"z-index":"0"},ref:"charge",elements:t.chargeElt,maxHeight:"110px",maxWidth:"330px"},null,8,["onSelected","elements"]),Object(i["f"])("span",ec,Object(i["C"])(t.description),1)]),Object(i["f"])("div",nc,[ic,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.amount=e})},null,512),[[i["G"],t.amount]])]),Object(i["f"])("div",ac,[oc,Object(i["J"])(Object(i["f"])("input",{placeholder:"raison de la charge/Décharge",class:"lPBFCinputStyle",type:"text","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.reason=e})},null,512),[[i["G"],t.reason]])]),Object(i["f"])("div",sc,[cc,Object(i["J"])(Object(i["f"])("input",{class:"lPBFCinputStyle",type:"date","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.chargeDate=e})},null,512),[[i["G"],t.chargeDate]])])]),Object(i["f"])("div",rc,[Object(i["f"])("div",{class:"lPBFCButton",onClick:e[4]||(e[4]=function(e){return t.showYesNo()})},uc)])]),Object(i["i"])(r,{visible:t.loading},null,8,["visible"]),Object(i["i"])(l,{ref:"yAlert"},null,512),Object(i["i"])(l,{onClosed:e[5]||(e[5]=function(e){return t.$router.push("/menu")}),ref:"yAlertS",type:"sucess"},null,512),Object(i["i"])(u,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var fc={name:"chargeForm",components:{LDropDown:be,LLoading1:ot["a"],YAlert:Ae,YesNo:xn},data:function(){return{loading:!1,locataires:0==this.$store.state.load.locataires.length?[{nom:""}]:this.$store.state.load.locataires,chambres:[{nom:""}],chargeElt:[{nom:"Charge",description:"montant ajouté au loyer ex: pour l'eau, electri."},{nom:"Décharge",description:"montant retiré au loyer ex:réduction d'un mois"}],description:"",contrats:[],contrat:[],loyer:"",amount:0,reason:"",dateDebut:"",chargeDate:""}},methods:{validation:function(){var t=new Date,e=new Date(this.chargeDate);if(t.getFullYear()<e.getFullYear()||t.getMonth()<e.getMonth()||t.getDate()<e.getDate())return!0;var n=""===this.amount||""===this.$refs.chambre.current.nom||this.amount<0||""==this.chargeDate||""==this.reason;return n},showYesNo:function(){this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? Le montant à payer pour ce mois sera le loyer plus toutes les charges et moins les décharges")},yesNoAction:function(t){"yes"==t&&this.publishing()},setChambres:function(t){var e,n=this.$store.state.load.locataires,i=n[t],a=this.$store.state.load.contrats,o=[],s=[],c=a.length;for(e=0;e<c;e++)a[e].locataire===i.id&&(s.push(a[e]),o.push({nom:a[e].chambreNom+", cité: "+a[e].citeNom}));this.chambres=o.length>0?o:[{nom:""}],this.contrats=s.length>0?s:[{nom:""}],o.length>0&&this.setContrat(0)},setContrat:function(t){this.contrat=this.contrats[t]},setDescript:function(t){this.description=this.chargeElt[t].description},publishing:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez remplir tous les champs correctement!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"charge.php",{type:"add",manager:this.$store.state.login.id,managerName:this.$store.state.login.login,contrat:this.contrat.id,amount:"Charge"==this.$refs.charge.current.nom?-this.amount:this.amount,reason:this.reason,date:this.chargeDate}).then((function(e){var n=e.data;t.id=n,console.log(n),t.loadData()})).catch((function(t){console.log(t)}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait!")})).catch((function(t){console.log(t)}))}},mounted:function(){this.setChambres(0),this.setDescript(0)}};const pc=c()(fc,[["render",dc]]);var bc=pc,mc={class:"lPblicationForm"},hc={style:{"z-index":"2"},class:"lPBFCTitle"},Oc=Object(i["f"])("img",{src:ut.a},null,-1),jc=[Oc],gc={class:"lPBFCBody"},vc={class:"lPBFCinput"},yc=Object(i["f"])("span",null,"Année:",-1),Cc={class:"lPBFCinput"},$c=Object(i["f"])("span",null,"Mois:",-1),Dc={class:"lPBFCinput"},Ac=Object(i["f"])("span",null,"Cité:",-1),wc=Object(i["f"])("span",null,"Suivant",-1),Fc=[wc];function xc(t,e,n,a,o,s){var c=Object(i["A"])("LDropDown"),r=Object(i["A"])("LLoading1"),l=Object(i["A"])("YAlert");return Object(i["u"])(),Object(i["e"])("section",mc,[Object(i["f"])("div",hc,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},jc),Object(i["h"])(" Paramètre recap ")]),Object(i["f"])("div",gc,[Object(i["f"])("div",vc,[yc,Object(i["i"])(c,{style:{"z-index":"2"},ref:"annee",current:t.current.year,elements:t.annees,maxHeight:"110px",maxWidth:"100%"},null,8,["current","elements"])]),Object(i["f"])("div",Cc,[$c,Object(i["i"])(c,{style:{"z-index":"1"},ref:"mois",current:t.current.month,elements:t.mois,maxHeight:"110px",maxWidth:"100%"},null,8,["current","elements"])]),Object(i["f"])("div",Dc,[Ac,Object(i["i"])(c,{style:{"z-index":"0"},ref:"cite",elements:t.cites,maxHeight:"110px",maxWidth:"100%"},null,8,["elements"])]),Object(i["f"])("div",{class:"lPBFCButton",onClick:e[1]||(e[1]=function(){return t.toRecap&&t.toRecap.apply(t,arguments)})},Fc)]),Object(i["i"])(r,{visible:t.loading},null,8,["visible"]),Object(i["i"])(l,{ref:"yAlert"},null,512),Object(i["i"])(l,{onClosed:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClosed"])])}var Pc=n("2909"),Bc={name:"chambForm",components:{LDropDown:be,LLoading1:ot["a"],YAlert:Ae},data:function(){return{loading:!1,info:[{nom:""}],annees:[{nom:2020},{nom:2021},{nom:2022},{nom:2023},{nom:2024},{nom:2025},{nom:2026},{nom:2027},{nom:2028},{nom:2029},{nom:2030},{nom:2031},{nom:2032},{nom:2033},{nom:2034},{nom:2035}],cites:[{nom:""}],mois:[{nom:"Tous",id:-1},{nom:"Janvier",id:0},{nom:"Février",id:1},{nom:"Mars",id:2},{nom:"Avril",id:3},{nom:"Mai",id:4},{nom:"Juin",id:5},{nom:"Juillet",id:6},{nom:"Aout",id:7},{nom:"Septembre",id:8},{nom:"Octobre",id:9},{nom:"Novembre",id:10},{nom:"Décembre",id:11}],current:""}},methods:{close:function(){this.$router.go(-1)},toRecap:function(){var t=this.$refs.annee.current.nom,e=this.$refs.mois.current.nom,n=this.$refs.mois.current.id,i=this.$refs.cite.current.nom,a=this.$refs.cite.current.id;this.$router.push({name:"recap",params:{annee:t,mois:e,cite:i,citeId:a,moisId:n}})}},mounted:function(){this.cites=Object(Pc["a"])(this.$store.state.load.cites),this.cites.unshift({nom:"Toutes",id:"-1"});var t=new Date,e=t.getMonth(),n=t.getFullYear();this.$refs.annee.selecting(n-2020),this.$refs.mois.selecting(e+1)}};const Lc=c()(Bc,[["render",xc]]);var kc=Lc,Nc={class:"compte"},Mc={style:{"z-index":"1"},class:"lPBFCTitle"},Ic=Object(i["f"])("img",{src:ut.a},null,-1),Sc=[Ic],_c={class:"compteBody"},Ec={class:"compteInfo"},Tc=Object(i["f"])("p",{class:"compteHead"},"Administrateur",-1),Uc=Object(i["f"])("div",null,[Object(i["h"])("Password: "),Object(i["f"])("span",null,"******")],-1),Yc={class:"compteForm"},Hc={class:"compteForm"},Jc=Object(i["f"])("p",{class:"compteHead"},"Autre",-1),zc=["onClick"];function Vc(t,e,n,a,o,s){var c=Object(i["A"])("LLoading1"),r=Object(i["A"])("YAlert");return Object(i["u"])(),Object(i["e"])("div",Nc,[Object(i["f"])("div",Mc,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){t.$router.go(-1)})},Sc),Object(i["h"])(" Compte ")]),Object(i["f"])("div",_c,[Object(i["f"])("div",Ec,[Tc,Object(i["f"])("div",null,[Object(i["h"])("Login: "),Object(i["f"])("span",null,Object(i["C"])(t.$store.state.login.login),1)]),Object(i["f"])("div",null,[Object(i["h"])("Tel: "),Object(i["f"])("span",null,Object(i["C"])(t.$store.state.login.tel),1)]),Uc,Object(i["f"])("div",{onClick:e[1]||(e[1]=function(e){return t.form=!t.form}),style:{"margin-top":"15px"},class:"compteModif"},"Modifier"),Object(i["J"])(Object(i["f"])("div",Yc,[Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.login=e}),type:"text",placeholder:"nouveau login"},null,512),[[i["G"],t.login]]),Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.password=e}),type:"text",placeholder:"nouveau mot de passe"},null,512),[[i["G"],t.password]]),Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.tel=e}),type:"number",placeholder:"nouveau téléphone"},null,512),[[i["G"],t.tel]]),Object(i["f"])("p",null,[Object(i["f"])("span",{onClick:e[5]||(e[5]=function(){return t.modify&&t.modify.apply(t,arguments)})},"Enregistrer"),Object(i["f"])("span",{onClick:e[6]||(e[6]=function(e){return t.form=!1})},"Annuler")])],512),[[i["H"],t.form]]),Object(i["f"])("div",{onClick:e[7]||(e[7]=function(e){return t.newForm=!t.newForm}),style:{"margin-top":"15px"},class:"compteModif"},"Créer nouveau compte"),Object(i["J"])(Object(i["f"])("div",Hc,[Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":e[8]||(e[8]=function(e){return t.newLogin=e}),type:"text",placeholder:"login"},null,512),[[i["G"],t.newLogin]]),Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":e[9]||(e[9]=function(e){return t.newPassword=e}),type:"text",placeholder:"password"},null,512),[[i["G"],t.newPassword]]),Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":e[10]||(e[10]=function(e){return t.newTel=e}),type:"number",placeholder:"téléphone"},null,512),[[i["G"],t.newTel]]),Object(i["f"])("div",null,[Object(i["h"])("Admin: "),Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":e[11]||(e[11]=function(e){return t.newAdmin=e}),type:"checkbox"},null,512),[[i["E"],t.newAdmin]])]),Object(i["f"])("p",null,[Object(i["f"])("span",{onClick:e[12]||(e[12]=function(){return t.add&&t.add.apply(t,arguments)})},"Enregistrer"),Object(i["f"])("span",{onClick:e[13]||(e[13]=function(e){return t.newForm=!1})},"Annuler")])],512),[[i["H"],t.newForm]])]),(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.comptes,(function(e,n){return Object(i["u"])(),Object(i["e"])("div",{key:n,class:"compteInfo"},[Jc,Object(i["f"])("div",null,[Object(i["h"])("Login: "),Object(i["f"])("span",null,Object(i["C"])(e.nom),1)]),Object(i["f"])("div",null,[Object(i["h"])("Password: "),Object(i["f"])("span",null,Object(i["C"])(e.password),1)]),Object(i["f"])("div",null,[Object(i["h"])("Tel: "),Object(i["f"])("span",null,Object(i["C"])(e.tel),1)]),Object(i["f"])("div",null,[Object(i["h"])("Administrateur: "),Object(i["f"])("span",null,Object(i["C"])(0==e.isAdmin?"non":"oui"),1)]),Object(i["f"])("div",{onClick:function(n){return t.deleteCompte(e.id)},style:{"margin-top":"15px","background-color":"rgb(244,50,50)"},class:"compteModif"},"Supprimer",8,zc)])})),128))]),Object(i["i"])(c,{visible:t.loading},null,8,["visible"]),Object(i["i"])(r,{ref:"yAlertS",type:"success"},null,512),Object(i["i"])(r,{ref:"yAlert"},null,512)])}var Gc={name:"locataire",components:{EditMenu:Tt,YAlert:Ae,LLoading1:ot["a"]},data:function(){return{loading:!1,newForm:!1,newLogin:"",newPassword:"",newAdmin:!1,newTel:"",comptes:[],form:!1,password:"",login:"",tel:""}},methods:{add:function(){var t=this;if(""!=this.newLogin&&""!=this.newPassword&&""!=this.newTel){this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"addCompte",login:this.newLogin,password:this.newPassword,tel:this.newTel,isAdmin:!0===this.newAdmin?1:0}).then((function(e){var n=e.data;t.loading=!1,"exist"==n?t.$refs.yAlert.display("Données déjà prix"):(t.$refs.yAlertS.display("Fait !"),t.comptes=n,t.newLogin="",t.newAdmin=!1,t.newPassword="",t.newForm=!1)})).catch((function(e){console.log(e),t.loading=!1}))}else this.$refs.yAlert.display("Veuillez remplir les champs")},getCompte:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"get"}).then((function(e){var n=e.data;t.comptes=n,t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},modify:function(){var t=this;if(""!=this.login&&""!=this.password&&""!=this.tel){this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"modify",login:this.login,tel:this.tel,password:this.password}).then((function(e){var n=e.data;t.loading=!1,"exist"==n?t.$refs.yAlert.display("Données déjà prix"):(t.$store.commit("loginCommit",{login:t.login,isAdmin:1}),t.login="",t.password="",t.form=!1,t.$refs.yAlertS.display("Fait !"))})).catch((function(e){console.log(e),t.loading=!1}))}else this.$refs.yAlert.display("Veuillez remplir les champs")},deleteCompte:function(t){var e=this;this.loading=!0;var i=n("bc3a");i.post(this.$store.state.baseUrl+"inscription.php",{type:"delete",id:t}).then((function(t){var n=t.data;e.comptes=n,e.loading=!1})).catch((function(t){console.log(t),e.loading=!1}))}},mounted:function(){this.getCompte()}};n("e10e");const Rc=c()(Gc,[["render",Vc]]);var qc=Rc,Wc=n("3b76"),Xc=n.n(Wc),Kc={class:"facture"},Qc={style:{"z-index":"1"},class:"lPBFCTitle"},Zc=Object(i["f"])("img",{src:ut.a},null,-1),tr=[Zc],er={id:"toPrint",style:{"tex-align":"center"},class:"factBody"},nr=Object(i["g"])('<div class="factBHead"><img src="'+Xc.a+'">GereLeLoyer</div><div class="factContact">Contact manager: <b>6XXXXX678</b></div><div class="factContact">Contact plombier: <b>6XX6589Y6</b></div><span><span>_.........................................................................................</span>_</span><span>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _</span><div style="margin-top:40px;">Locataire:</div>',6),ir={style:{"margin-top":"20px","margin-bottom":"40px"}},ar=Object(i["f"])("span",null,".........................................................................................",-1),or=Object(i["f"])("span",null,"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",-1),sr=Object(i["f"])("div",{style:{"margin-top":"30px","margin-bottom":"20px"}},"Info Payments",-1),cr={class:"factInfo"},rr={style:{"text-align":"right","margin-top":"100px"}},lr={download:"facture.pdf",ref:"lien",style:{display:"none",top:"80px"},class:"factPrint",target:"_blank"};function ur(t,e,n,a,o,s){return Object(i["u"])(),Object(i["e"])("div",Kc,[Object(i["f"])("div",Qc,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.exit&&t.exit.apply(t,arguments)})},tr),Object(i["h"])(" Facture ")]),Object(i["f"])("div",er,[nr,Object(i["f"])("div",ir,[Object(i["f"])("b",null,Object(i["C"])(t.contrat.locataireNom+" "+t.contrat.locatairePrenom),1)]),ar,or,sr,Object(i["f"])("div",cr,[Object(i["f"])("div",null,[Object(i["h"])("Nom cite: "),Object(i["f"])("b",null,Object(i["C"])(t.contrat.citeNom),1)]),Object(i["f"])("div",null,[Object(i["h"])("chambre: "),Object(i["f"])("b",null,Object(i["C"])(t.contrat.chambreNom),1)]),Object(i["f"])("div",null,[Object(i["h"])("Montant versé: "),Object(i["f"])("b",null,Object(i["C"])(t.payment.montant)+" FCFA",1)]),Object(i["f"])("div",null,[Object(i["h"])("Date de fin de loyer: "),Object(i["f"])("b",null,Object(i["C"])(this.dette),1)]),Object(i["f"])("div",null,[Object(i["h"])("dette: "),Object(i["f"])("b",null,Object(i["C"])(t.contrat.balance>=0?0:t.contrat.balance)+" FCFA",1)]),Object(i["f"])("div",null,[Object(i["h"])("Solde: "),Object(i["f"])("b",null,Object(i["C"])(t.contrat.balance>=0?t.contrat.balance:0)+" FCFA",1)])]),Object(i["f"])("div",rr,[Object(i["h"])("Fait le : "),Object(i["f"])("b",null,Object(i["C"])(t.payment.date),1)]),Object(i["f"])("div",null,[Object(i["h"])("Par: "),Object(i["f"])("b",null,Object(i["C"])(t.payment.managerNom),1)])]),Object(i["f"])("div",{onClick:e[1]||(e[1]=function(){return t.print&&t.print.apply(t,arguments)}),class:"factPrint"},"PRINT"),Object(i["f"])("a",lr,"Lien",512)])}var dr=n("d67e"),fr=n.n(dr),pr=n("17b6"),br={name:"facture",data:function(){return{payment:[],contrat:[],dette:0}},methods:{print:function(){var t=document.getElementById("toPrint"),e={margin:1,filename:"myfile.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2,width:1366,windowWidth:1366},jsPDF:{unit:"in",format:"a3",orientation:"portrait"}};fr()().from(t).set(e).toPdf().outputPdf().then((function(t){var e=t;pr["c"].writeFile({path:"secrets/text",data:e,directory:pr["a"].Documents,encoding:pr["b"].UTF8}).then((function(t){alert(t),alert("Sauvegardé dans Ducuments")})).catch((function(t){alert(t)}))}))},setPayment:function(){var t,e=this.$store.state.load.payments,n=this.$route.params.id,i=e.length;for(t=0;t<i;t++)if(e[t].id==n){this.payment=e[t];break}},setContrat:function(){var t,e=this.$store.state.load.contrats,n=this.payment.contratLocation,i=e.length;for(t=0;t<i;t++)if(e[t].id==n){this.contrat=e[t];break}},expiration:function(t){var e=new Date(t.date_debut),n=t.totalPayer+t.totalCharge,i=(n-n%t.loyer)/t.loyer,a=e.getDate();e.setMonth(e.getMonth()+i+1),a!=e.getDate()&&(e.setMonth(e.getMonth()-1),e=this.endMonth(e));var o=e.getFullYear(),s=e.getMonth()+1;a=e.getDate(),s=s<10?"0"+s:s,a=a<10?"0"+a:a;var c=new Date(this.$store.state.load.serverDate),r=e.getTime()<c.getTime()?" (expiré)":"";return a+" "+this.$store.state.mois[s-1]+" "+o+r},exit:function(){"recap"==this.$route.params.via?this.$router.go(-1):this.$router.push("/menu")}},mounted:function(){this.setPayment(),this.setContrat(),this.dette=this.expiration(this.contrat)}};n("7bf4");const mr=c()(br,[["render",ur]]);var hr=mr,Or={class:"payments"},jr={style:{"z-index":"1"},class:"lPBFCTitle"},gr=Object(i["f"])("img",{src:ut.a},null,-1),vr=[gr],yr={class:"paysBody"},Cr=["onClick"];function $r(t,e,n,a,o,s){var c=Object(i["A"])("LLoading1"),r=Object(i["A"])("YAlert"),l=Object(i["A"])("YesNo");return Object(i["u"])(),Object(i["e"])("div",Or,[Object(i["f"])("div",jr,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.push("menu")})},vr),Object(i["h"])(" Annuler payments ")]),Object(i["f"])("div",yr,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.infos,(function(e,n){return Object(i["u"])(),Object(i["e"])("div",{key:n,class:"paysElts"},[Object(i["f"])("div",null,"Nom locataire: "+Object(i["C"])(e.locataireNom+""+e.locatairePrenom),1),Object(i["f"])("div",null,"Nom cite: "+Object(i["C"])(e.citeNom),1),Object(i["f"])("div",null,"chambre: "+Object(i["C"])(e.chambreNom),1),Object(i["f"])("div",null,"Montant versé: "+Object(i["C"])(e.montant)+"FCFA",1),Object(i["f"])("div",null,"Date: "+Object(i["C"])(t.dateFormat(e.date)),1),Object(i["f"])("div",{onClick:function(n){return t.showYesNo(e.payId,e.montant,e.id)},class:"paysButton"},"Annuler",8,Cr)])})),128))]),Object(i["i"])(c,{visible:t.loading},null,8,["visible"]),Object(i["i"])(r,{ref:"yAlert"},null,512),Object(i["i"])(r,{ref:"yAlertS",type:"sucess"},null,512),Object(i["i"])(l,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var Dr={name:"payments",components:{LLoading1:ot["a"],YAlert:Ae,YesNo:xn},data:function(){return{loading:!1,payments:[],id:"",contrat:"",payment:"",infos:[]}},methods:{dateFormat:function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1,a=e.getDate();return i=i<10?"0"+i:i,a=a<10?"0"+a:a,a+" "+this.$store.state.mois[i-1]+" "+n},setContrat:function(){var t,e,n=this.$store.state.load.payments,i=this.$store.state.load.contrats,a=[],o=i.length,s=n.length;for(e=0;e<s;e++)for(t=0;t<o;t++)i[t].id==n[e].contratLocation&&a.push(Object(xt["a"])(Object(xt["a"])({},i[t]),{},{montant:n[e].montant,date:n[e].date,payId:n[e].id}));this.infos=a},showYesNo:function(t,e,n){this.id=t,this.payment=e,this.contrat=n,this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? C'est une opération critique")},yesNoAction:function(t){"yes"==t&&this.supprimer()},supprimer:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"cancelPay",id:this.id,payment:this.payment,contrat:this.contrat}).then((function(e){var n=e.data;console.log(n),t.loadData()})).catch((function(e){t.loading=!1,console.log(e)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.setContrat(),t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}},mounted:function(){this.setContrat()}};n("315c");const Ar=c()(Dr,[["render",$r]]);var wr=Ar,Fr={class:"charge"},xr={style:{"z-index":"1"},class:"lPBFCTitle"},Pr=Object(i["f"])("img",{src:ut.a},null,-1),Br=[Pr],Lr={class:"chargeBody"},kr=["onClick"];function Nr(t,e,n,a,o,s){var c=Object(i["A"])("LLoading1"),r=Object(i["A"])("YAlert"),l=Object(i["A"])("YesNo");return Object(i["u"])(),Object(i["e"])("div",Fr,[Object(i["f"])("div",xr,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.push("menu")})},Br),Object(i["h"])(" Annuler Charges/Décharge ")]),Object(i["f"])("div",Lr,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.infos,(function(e,n){return Object(i["u"])(),Object(i["e"])("div",{key:n,class:"chargeElts"},[Object(i["f"])("div",null,"Nom locataire: "+Object(i["C"])(e.locataireNom+""+e.locatairePrenom),1),Object(i["f"])("div",null,"Nom cite: "+Object(i["C"])(e.citeNom),1),Object(i["f"])("div",null,"chambre: "+Object(i["C"])(e.chambreNom),1),Object(i["f"])("div",null,"Montant: "+Object(i["C"])(e.montant)+"FCFA",1),Object(i["f"])("div",null,"Raison: "+Object(i["C"])(e.reason),1),Object(i["f"])("div",null,"Date: "+Object(i["C"])(t.dateFormat(e.date)),1),Object(i["f"])("div",{onClick:function(n){return t.showYesNo(e.chargeId,e.montant,e.id)},class:"chargeButton"},"Annuler",8,kr)])})),128))]),Object(i["i"])(c,{visible:t.loading},null,8,["visible"]),Object(i["i"])(r,{ref:"yAlert"},null,512),Object(i["i"])(r,{ref:"yAlertS",type:"sucess"},null,512),Object(i["i"])(l,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var Mr={name:"payments",components:{LLoading1:ot["a"],YAlert:Ae,YesNo:xn},data:function(){return{loading:!1,payments:[],toSend:{id:0,montant:0,contrat:0},contrat:"",payment:"",infos:[]}},methods:{dateFormat:function(t){var e=new Date(t),n=e.getFullYear(),i=e.getMonth()+1,a=e.getDate();return i=i<10?"0"+i:i,a=a<10?"0"+a:a,a+" "+this.$store.state.mois[i-1]+" "+n},setContrat:function(){var t,e,n=this.$store.state.load.charges,i=this.$store.state.load.contrats,a=[],o=i.length,s=n.length;for(e=0;e<s;e++)for(t=0;t<o;t++)i[t].id==n[e].contrat&&a.push(Object(xt["a"])(Object(xt["a"])({},i[t]),{},{montant:n[e].montant,date:n[e].date,chargeId:n[e].id,reason:n[e].raison}));this.infos=a},showYesNo:function(t,e,n){this.toSend.id=t,this.toSend.montant=e,this.toSend.contrat=n,this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? C'est une opération critique")},yesNoAction:function(t){"yes"==t&&this.supprimer()},supprimer:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"charge.php",{type:"delete",id:this.toSend.id,montant:this.toSend.montant,contrat:this.toSend.contrat}).then((function(e){var n=e.data;console.log(n),t.loadData()})).catch((function(e){t.loading=!1,console.log(e)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.setContrat(),t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}},mounted:function(){this.setContrat()}};n("81e1");const Ir=c()(Mr,[["render",Nr]]);var Sr=Ir,_r={class:"recap"},Er={style:{"z-index":"1"},class:"lPBFCTitle"},Tr=Object(i["f"])("img",{src:ut.a},null,-1),Ur=[Tr],Yr={class:"recapBody"},Hr={class:"recapVisible"},Jr=["onUpdate:modelValue"],zr={class:"recapTitle"},Vr={style:{color:"rgb(244,10,10)"}},Gr={style:{color:"rgb(10,10,244)"}},Rr=Object(i["f"])("div",{class:"recapLoc"},"Locataire",-1),qr=Object(i["f"])("div",null,"Payements",-1),Wr=Object(i["f"])("div",null,"Dette restante",-1),Xr={class:"recapLoc"},Kr=["onClick"],Qr={class:"recapPay"},Zr=["onClick"],tl={class:"recapPay"},el=Object(i["f"])("div",{class:"recapLoc"},"Total",-1);function nl(t,e,n,a,o,s){return Object(i["u"])(),Object(i["e"])("div",_r,[Object(i["f"])("div",Er,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.goBack&&t.goBack.apply(t,arguments)})},Ur),Object(i["h"])(" Recap ")]),Object(i["f"])("div",Yr,[Object(i["f"])("div",Hr,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.display,(function(e,n){return Object(i["u"])(),Object(i["e"])("span",{key:n},[Object(i["h"])(Object(i["C"])(n)+" ",1),Object(i["J"])(Object(i["f"])("input",{"onUpdate:modelValue":function(e){return t.display[n]=e},type:"checkbox"},null,8,Jr),[[i["E"],t.display[n]]])])})),128))]),Object(i["f"])("div",zr,[Object(i["h"])(" Recapitulatif de "),Object(i["f"])("span",Vr,Object(i["C"])(t.moisC)+" "+Object(i["C"])(t.annee),1),Object(i["h"])(" pour "),Object(i["f"])("span",Gr,Object(i["C"])(t.citeC),1)]),Object(i["f"])("div",{style:Object(i["q"])({width:t.width}),class:"recapEltHead"},[Rr,Object(i["J"])(Object(i["f"])("div",null,"Cite",512),[[i["H"],t.display.cite]]),Object(i["J"])(Object(i["f"])("div",null,"Chambre",512),[[i["H"],t.display.chambre]]),qr,Object(i["J"])(Object(i["f"])("div",null,"Charge/Déch..",512),[[i["H"],t.display.charge]]),Wr,Object(i["J"])(Object(i["f"])("div",null,"Avance ",512),[[i["H"],t.display.avance]]),Object(i["J"])(Object(i["f"])("div",null,"Mois restant",512),[[i["H"],t.display["mois restant"]]]),Object(i["J"])(Object(i["f"])("div",null,"Mois impayé",512),[[i["H"],t.display["mois impayé"]]])],4),(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.contrats,(function(e,n){return Object(i["u"])(),Object(i["e"])("div",{style:Object(i["q"])({width:t.width}),key:n,class:"recapElt"},[Object(i["f"])("div",Xr,[Object(i["f"])("span",{onClick:function(n){return t.$router.push({name:"locataire",params:{locId:e.locataire}})}},Object(i["C"])(e.locataireNom+" "+e.locatairePrenom),9,Kr)]),Object(i["J"])(Object(i["f"])("div",null,Object(i["C"])(e.citeNom),513),[[i["H"],t.display.cite]]),Object(i["J"])(Object(i["f"])("div",null,Object(i["C"])(e.chambreNom)+" ("+Object(i["C"])(e.loyer)+"/mois)",513),[[i["H"],t.display.chambre]]),Object(i["f"])("div",Qr,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.getPayment(e.payments),(function(e,n){return Object(i["u"])(),Object(i["e"])("span",{key:n},[Object(i["h"])(" - le "+Object(i["C"])(e.day+"/"+e.month)+" : "+Object(i["C"])(e.montant)+"FCFA ",1),Object(i["f"])("div",{onClick:function(n){return t.toFacture(e.id)},class:"recapFacture"}," facture ",8,Zr)])})),128)),Object(i["J"])(Object(i["f"])("span",null,"Aucun",512),[[i["H"],0===t.getPayment(e.payments).length]])]),Object(i["J"])(Object(i["f"])("div",tl,[(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.getContrat(e.charges),(function(t,e){return Object(i["u"])(),Object(i["e"])("span",{key:e}," - Raison : "+Object(i["C"])(t.reason)+" - montant : "+Object(i["C"])(t.montant)+"FCFA ",1)})),128)),Object(i["J"])(Object(i["f"])("span",null,"Aucun",512),[[i["H"],0===t.getContrat(e.charges).length]])],512),[[i["H"],t.display.charge]]),Object(i["f"])("div",null,Object(i["C"])(t.dette(e.balance)),1),Object(i["J"])(Object(i["f"])("div",null,Object(i["C"])(t.avance(e.balance)),513),[[i["H"],t.display.avance]]),Object(i["J"])(Object(i["f"])("div",null,Object(i["C"])(t.moisRestant(e.balance,e.loyer)),513),[[i["H"],t.display["mois restant"]]]),Object(i["J"])(Object(i["f"])("div",null,Object(i["C"])(t.moisImpayer(e.balance,e.loyer)),513),[[i["H"],t.display["mois impayé"]]])],4)})),128)),Object(i["f"])("div",{style:Object(i["q"])({width:t.width}),class:"recapElt recapEltLast"},[el,Object(i["J"])(Object(i["f"])("div",null," - ",512),[[i["H"],t.display.cite]]),Object(i["J"])(Object(i["f"])("div",null," - ",512),[[i["H"],t.display.chambre]]),Object(i["f"])("div",null,Object(i["C"])(t.totalPayment)+" FCFA",1),Object(i["J"])(Object(i["f"])("div",null,Object(i["C"])(t.totalCharge)+" FCFA",513),[[i["H"],t.display.charge]]),Object(i["f"])("div",null,Object(i["C"])(t.totalDette())+" FCFA",1),Object(i["J"])(Object(i["f"])("div",null,Object(i["C"])(t.totalAvance())+" FCFA",513),[[i["H"],t.display.avance]]),Object(i["J"])(Object(i["f"])("div",null,Object(i["C"])(t.totalMoisR()),513),[[i["H"],t.display["mois restant"]]]),Object(i["J"])(Object(i["f"])("div",{style:{"border-bottom-right-radius":"0.5em"}},Object(i["C"])(t.totalMoisI()),513),[[i["H"],t.display["mois impayé"]]])],4)])])}var il={name:"recap",data:function(){return{contrat:this.$store.state.load.contrats,annee:"",mois:"",moisId:"",cite:"",contrats:[],payments:[],charges:[],visible:{locataire:!0,cite:!0,chambre:!0,payements:!0,dette:!0,avance:!0,restant:!0,impaye:!0},totalPayment:0,totalCharge:0,display:{cite:!0,chambre:!0,charge:!0,avance:!0,"mois restant":!1,"mois impayé":!1}}},computed:{citeC:function(){return"Toutes"!=this.cite?this.cite:"toutes les cités"},moisC:function(){return"Tous"!=this.mois?this.mois:""},width:function(){var t=0;for(var e in this.display)this.display[e]||t++;return 810-90*t+"px"}},methods:{goBack:function(){this.$router.go(-1)},endMonth:function(t){return new Date(t.getFullYear(),t.getMonth()+1,0)},getPayment:function(t){if(0==t.length)return[];var e=new Date;e.setFullYear(this.annee),e.setMonth(this.moisId),e.setDate(1),e.setHours(0,0,0,0,0,0);var n=e.getTime();e=this.endMonth(e),e.setHours(23,59,59);var i=e.getTime();"Tous"==this.mois&&(e.setFullYear(this.annee,0,1),e.setHours(0,0,0,0,0,0),n=e.getTime(),e.setFullYear(this.annee,11),e=this.endMonth(e),e.setHours(23,59,59),i=e.getTime());var a,o=[],s=t.length;for(a=0;a<s;a++){var c=new Date(t[a].date);if(c.getTime()<=i&&c.getTime()>=n){var r=new Date(t[a].date);o.push({day:r.getDate(),month:r.getMonth(),montant:t[a].montant,id:t[a].id})}}return o},getContrat:function(t){if(0==t.length)return[];var e=new Date;e.setFullYear(this.annee),e.setMonth(this.moisId),e.setDate(1),e.setHours(0,0,0,0,0,0);var n=e.getTime();e=this.endMonth(e),e.setHours(23,59,59);var i=e.getTime();"Tous"==this.mois&&(e.setFullYear(this.annee,0,1),e.setHours(0,0,0,0,0,0),n=e.getTime(),e.setFullYear(this.annee,11),e=this.endMonth(e),e.setHours(23,59,59),i=e.getTime());var a,o=[],s=t.length;for(a=0;a<s;a++){var c=new Date(t[a].date);if(c.getTime()<=i&&c.getTime()>=n){var r=new Date(t[a].date);o.push({day:r.getDate(),month:r.getMonth(),montant:t[a].montant,id:t[a].id,reason:t[a].raison})}}return o},totalPayer:function(t,e){var n,i=0,a=this.payments,o=this.payments.length;for(n=0;n<o;n++){var s=new Date(a[n].date);a[n].contratLocation==t&&s.getTime()<=e&&(i+=a[n].montant)}return i},totalCharger:function(t,e){var n,i=0,a=this.charges,o=this.charges.length;for(n=0;n<o;n++){var s=new Date(a[n].date);a[n].contrat==t&&s.getTime()<=e&&(i+=a[n].montant)}return i},setBalance:function(t){var e=new Date;e.setFullYear(this.annee),e.setMonth(this.moisId),e=this.endMonth(e),e.setHours(23,59,59),"Tous"==this.mois&&(e.setFullYear(this.annee,11),e=this.endMonth(e),e.setHours(23,59,59));var n=this.totalPayer(t.id,e.getTime()),i=this.totalCharger(t.id,e.getTime()),a=new Date(t.date_debut);if(e.getTime()<a.getTime())return n+i;var o=!0,s=0;while(o){var c=a.getDate();a.setMonth(a.getMonth()+1);var r=new Date(a.getTime());if(c!=a.getDate()&&(r.setMonth(r.getMonth()-1),r=this.endMonth(r)),a.getTime()>=e.getTime()){o=!1;break}s++}return n-s*t.loyer+i},moisRestant:function(t,e){return t<0?0:(t-t%e)/e},moisImpayer:function(t,e){return t>=0?0:-(-t- -t%e)/e-(-t%e>0?1:0)},dette:function(t){return t<0?t:0},avance:function(t){return t>0?t:0},totalDette:function(){var t,e=0;for(t=0;t<this.contrats.length;t++)e+=this.dette(this.contrats[t].balance);return e},totalAvance:function(){var t,e=0;for(t=0;t<this.contrats.length;t++)e+=this.avance(this.contrats[t].balance);return e},totalMoisR:function(){var t,e=0;for(t=0;t<this.contrats.length;t++)e+=this.moisRestant(this.contrats[t].balance,this.contrats[t].loyer);return e},totalMoisI:function(){var t,e=0;for(t=0;t<this.contrats.length;t++)e+=this.moisImpayer(this.contrats[t].balance,this.contrats[t].loyer);return e},toFacture:function(t){this.$router.push({name:"facture",params:{via:"recap",id:t}})},init:function(){this.annee=this.$route.params.annee,this.mois=this.$route.params.mois,this.moisId=this.$route.params.moisId,this.cite=this.$route.params.cite;var t=this.$route.params.citeId,e=this.$store.state.load.contrats,n=!1;"Toutes"==this.cite&&(n=!0);var i,a=[],o=e.length;for(i=0;i<o;i++)(e[i].cite==t||n)&&a.push(Object(xt["a"])(Object(xt["a"])({},e[i]),{},{payments:[],charges:[]}));this.contrats=a;var s,c=this.$store.state.load.payments,r=c.length,l=this.contrats.length,u=[];for(i=0;i<r;i++)for(s=0;s<l;s++)if(c[i].contratLocation==this.contrats[s].id){u.push(c[i]),this.contrats[s].payments.push(c[i]),this.totalPayment+=c[i].montant;break}this.payments=u;var d=this.$store.state.load.charges,f=[];for(r=d.length,l=this.contrats.length,i=0;i<r;i++)for(s=0;s<l;s++)if(d[i].contrat==this.contrats[s].id){f.push(d[i]),this.contrats[s].charges.push(d[i]),this.totalCharge+=d[i].montant;break}for(this.charges=f,l=this.contrats.length,s=0;s<l;s++)this.contrats[s]=Object(xt["a"])(Object(xt["a"])({},this.contrats[s]),{},{balance:this.setBalance(this.contrats[s])})}},mounted:function(){this.init()}};n("b26b");const al=c()(il,[["render",nl]]);var ol=al,sl=n("de1f"),cl=n.n(sl),rl=n("fc7b"),ll=n.n(rl),ul=n("ca6a"),dl=n.n(ul),fl={class:"help"},pl={style:{"z-index":"1"},class:"lPBFCTitle"},bl=Object(i["f"])("img",{src:ut.a},null,-1),ml=[bl],hl={class:"helpBody"},Ol={class:"helpHead"},jl=Object(i["f"])("h1",null,"SOMMAIRE",-1),gl=Object(i["g"])('<div class="helpElt"><h2>1. Mes cités</h2><img class="helpWideImg" src="'+cl.a+'"><p>Ici vous pouvez créer, supprimer, modifier des <b>cités*</b>, une cité represente un ensemble de <b>chambre*</b> ou d&#39;appartement ou de pièce. En passant par ce menu vous pouvez également créer, modifier, supprimer des chambres.<br> Une <b>chambre*</b> peut etre assimillée à un appartement, une piece, un studio... </p></div><div class="helpElt"><h2>2. Mes locataires</h2><img class="helpWideImg" src="'+cl.a+'"><p>Ici vous pouvez créer, supprimer, modifier des <b>locataires*</b>, un locataire représente une personne qui est sensé occupé une chambre. En passant par ce menu vous pouvez voir les infos sur le locataire ainsi que les infos sur les différentes pieces occupé par celui ci. <img class="helpWideImg" src="'+ll.a+'"></p><p><b>Chambre CH1: </b> CH1 est le nom de la chambre occupé et <b>NewCity</b> le nom de la cité de la chambre.<br><b>Date début: </b> la date de début du contrat d&#39;occupation de la chambre par le locataire.<br><b>Prix/mois: </b> Le montant du loyer. <br><b>Dette | avance: </b> représente la dette ou l&#39;avance actuelle du client. Si la valeur est négative alors le client doit de l&#39;argent, si elle est positive le client a de l&#39;argent en avance qui représente la somme indiquée. <br><b>Date d&#39;expiration: </b> date après laquelle le locataire va devoir de l&#39;argent. <br><b>Nombre mois payé, total payé, total charge + décharge: </b> le total sur la période correspondant au début du contrat j&#39;usqu&#39;a la date actuelle. <br><b>Nb:</b> pour supprimer ou modifier le contrat il faut presser les 3 points en haut à droite </p></div><div class="helpElt"><h2>3. Contrats</h2><img class="helpWideImg" src="'+cl.a+'"><p>Créer un contrat de location entre un locataire et une chambre</p></div><div class="helpElt"><h2>4. Payments</h2><img class="helpWideImg" src="'+cl.a+'"><p>Enregistrer un payment de loyer</p></div><div class="helpElt"><h2>5. Charges/Décharges</h2><img class="helpWideImg" src="'+cl.a+'"><p>Créer une <b>décharge</b> ou une <b>charge</b>.<br> Une <b>décharge</b> est une somme qu&#39;un client ne devra pas payé donc une somme soustrait au loyer. l&#39;exemple d&#39;une décharge pourrait etre la réduction d&#39;un mois graduit.<br>Une <b>charge</b> est un montant qu&#39;un locataire devra payer en plus du loyer. l&#39;exemple d&#39;une charge pourrait etre la facture d&#39;eau ou d&#39;électricité. </p></div><div class="helpElt"><h2>6. Gestion compte</h2><img class="helpWideImg" src="'+dl.a+'"><p> Créer, supprimer ou modifier des comptes qui pourront acceder cette session </p></div><div class="helpElt"><h2>7. Recap</h2><img class="helpWideImg" src="'+dl.a+'"><p> Récapitulatif total ou par cité. Il montre les etats en fonction du mois choisi. </p></div>',7);function vl(t,e,n,a,o,s){return Object(i["u"])(),Object(i["e"])("div",fl,[Object(i["f"])("div",pl,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},ml),Object(i["h"])(" Help ")]),Object(i["f"])("div",hl,[Object(i["f"])("div",Ol,[jl,(Object(i["u"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.infos,(function(t,e){return Object(i["u"])(),Object(i["e"])("span",{key:e},[Object(i["f"])("span",null,Object(i["C"])(e+1)+".",1),Object(i["h"])(" "+Object(i["C"])(t),1)])})),128))]),gl])])}var yl={name:"help",data:function(){return{infos:["Mes Cités","Mes Locataires","Contrats","Payments","Charges/Décharges","Gestion compte","Recap"]}}};n("d9a5");const Cl=c()(yl,[["render",vl]]);var $l=Cl,Dl={class:"support"},Al={style:{"z-index":"1"},class:"lPBFCTitle"},wl=Object(i["f"])("img",{src:ut.a},null,-1),Fl=[wl],xl=Object(i["f"])("div",{class:"supportBody"},[Object(i["h"])(" Faite une donation pour assurez le fonctionnement, la maintenance, l'évolution de la platforme et surtout pour encourager les developpeurs à mener plus d'initiatives dans ce sens. "),Object(i["f"])("div",null,[Object(i["h"])("Contact: "),Object(i["f"])("span",null,"+237 652952941")]),Object(i["f"])("div",null,[Object(i["h"])("Email: "),Object(i["f"])("span",null,"estadiotamo@gmail.com")]),Object(i["h"])(" N'hesitez pas à utiliser les contacts précédent pour nous soumettre vos commentaires par rapport à l'application ")],-1);function Pl(t,e,n,a,o,s){return Object(i["u"])(),Object(i["e"])("div",Dl,[Object(i["f"])("div",Al,[Object(i["f"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},Fl),Object(i["h"])(" Support ")]),xl])}var Bl={name:"help",data:function(){return{infos:["Mes Cités","Mes Locataires","Contrats","Payments","Charges/Décharges","Gestion compte","Recap"]}}};n("7412");const Ll=c()(Bl,[["render",Pl]]);var kl=Ll,Nl=n("0fa0"),Ml=n.n(Nl),Il={class:"startPage"},Sl=Object(i["f"])("div",{class:"startTitle1"},[Object(i["f"])("img",{src:Ml.a}),Object(i["h"])("GereLeLoyer")],-1),_l=Object(i["f"])("div",null,"Welcome to GLL, Bienvenue",-1),El=Object(i["f"])("div",null,"Avec GereLeLoyer vous pouvez enregistrer vos cités, vos appartements,vos clients, les payments par mois et obtenir continuellement les dates de fins de loyer, les dettes, les recapitulatifs mensuels... ",-1),Tl={class:"startButtons"};function Ul(t,e,n,a,o,s){var c=Object(i["A"])("LLoading"),r=Object(i["A"])("News");return Object(i["u"])(),Object(i["e"])(i["a"],null,[Object(i["f"])("div",Il,[Sl,_l,El,Object(i["f"])("div",Tl,[Object(i["f"])("div",{onClick:e[0]||(e[0]=function(){return t.loadNews&&t.loadNews.apply(t,arguments)})},"Suivant")])]),Object(i["i"])(c,{visible:t.loading},null,8,["visible"]),Object(i["i"])(r,{Display:t.newsDisp,text:t.news},null,8,["Display","text"])],64)}var Yl=n("b7a1"),Hl=n.n(Yl),Jl=Object(i["f"])("img",{src:Hl.a},null,-1),zl=[Jl];function Vl(t,e,n,a,o,s){return Object(i["u"])(),Object(i["e"])("div",{class:"lLoading",style:Object(i["q"])({display:t.Display})},zl,4)}var Gl={name:"lLoading",props:{visible:{type:Boolean,default:!0}},computed:{Display:function(){return this.visible?"flex":"none"}}};n("53ff");const Rl=c()(Gl,[["render",Vl]]);var ql=Rl,Wl={class:"news"},Xl=["innerHTML"];function Kl(t,e,n,a,o,s){return Object(i["J"])((Object(i["u"])(),Object(i["e"])("div",Wl,[Object(i["f"])("span",{innerHTML:n.text},null,8,Xl),Object(i["f"])("div",{onClick:e[0]||(e[0]=function(e){return t.$router.push("/connexion")}),class:"newsButton"},"passer")],512)),[[i["H"],n.Display]])}var Ql={name:"yAlert",props:{Display:{type:Boolean,default:!1},text:String}};n("a801");const Zl=c()(Ql,[["render",Kl]]);var tu=Zl,eu={name:"start",components:{LLoading:ql,News:tu},data:function(){return{loading:!1,newsDisp:!1,news:""}},methods:{loadNews:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"news.php",{}).then((function(e){var n=e.data;t.loading=!1,"0"!=n?(t.newsDisp=!0,t.news=n):t.$router.push("/connexion")})).catch((function(t){console.log(t)}))}}};n("85a5");const nu=c()(eu,[["render",Ul]]);var iu=nu,au=n("cd8d"),ou=n("51d4"),su=function(t){var e=t.store,i=t.next;function a(){var t=n("bc3a");t.post(e.state.baseUrl+"update.php",{type:"post",firstLoad:1}).then((function(t){var n=t.data;e.commit("loadCommit",n),e.commit("loading",!1)})).catch((function(t){alert(t)}))}e.state.load.loaded||(e.commit("loading",!0),e.commit("setLoaded",!0),a()),i()},cu=function(t){var e=t.store,n=t.next;""==e.state.load.serverDate?n("/"):n()},ru=[{path:"/",name:"start",component:iu},{path:"/inscription",name:"inscription",component:au["default"]},{path:"/connexion",name:"connexion",component:ou["default"]},{path:"/welcome",name:"welcome",component:Qa,meta:{}},{path:"/menu",name:"landingPage",component:rt,meta:{middleware:[su]}},{path:"/locataires",name:"locataires",component:Ee,meta:{middleware:[cu]}},{path:"/locataire/:locId",name:"locataire",component:Gn,meta:{middleware:[cu]}},{path:"/locataires/form",name:"locataires/form",component:qo,meta:{middleware:[cu]}},{path:"/cites",name:"cites",component:Mi,meta:{middleware:[cu]}},{path:"/contrat",name:"contrat",component:ms,meta:{middleware:[cu]}},{path:"/payment",name:"payment",component:Hs,meta:{middleware:[cu]}},{path:"/chargeForm",name:"chargeForm",component:bc,meta:{middleware:[cu]}},{path:"/cites/chambres/:citeKey",name:"chambres",component:Ha,meta:{middleware:[cu]}},{path:"/login",name:"login",component:jo},{path:"/compte",name:"compte",component:qc,meta:{middleware:[cu]}},{path:"/facture/via/:via/id/:id",name:"facture",component:hr,meta:{middleware:[cu]}},{path:"/payments",name:"payments",component:wr,meta:{middleware:[cu]}},{path:"/charge",name:"charge",component:Sr,meta:{middleware:[cu]}},{path:"/recapForm",name:"recapForm",component:kc,meta:{middleware:[cu]}},{path:"/recap/annee/:annee/mois/:mois/moisId/:moisId/cite/:cite/citeId/:citeId",name:"recap",component:ol,meta:{middleware:[cu]}},{path:"/help",name:"help",component:$l,meta:{middleware:[cu]}},{path:"/support",name:"support",component:kl,meta:{middleware:[cu]}}],lu=Object(u["a"])({history:Object(u["b"])("/"),routes:ru}),uu=lu,du=n("ebe6"),fu=n.n(du),pu=n("5502"),bu=n("2ad9"),mu=Object(pu["a"])({state:function(){return{baseUrl:"https://renting.sassayer.com/",mois:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"],load:{loading:!0,loaded:!1,cites:[{nom:""}],chambres:[{nom:""}],locataires:[{nom:""}],contrats:[],payments:[],charges:[],serverDate:""},login:{isAdmin:-1,login:"",id:""}}},mutations:{loading:function(t,e){t.load.loading=e},setLoaded:function(t,e){t.load.loaded=e},loadCommit:function(t,e){t.load.cites=e.cites,t.load.chambres=e.chambres,t.load.contrats=e.contrats,t.load.payments=e.payments,t.load.locataires=e.locataires,t.load.charges=e.charges,t.load.serverDate=e.serverDate},citeCommit:function(t,e){t.load.cites=e},chambreCommit:function(t,e){t.load.chambres=e},locataireCommit:function(t,e){t.load.locataires=e},contratCommit:function(t,e){t.load.contrats=e},paymentCommit:function(t,e){t.load.payments=e},loginCommit:function(t,e){t.login.login=e.login,t.login.id=e.id,t.login.isAdmin=e.isAdmin}}}),hu=Object(i["c"])(l);hu.use(uu),hu.use(mu),hu.mount("#app"),uu.beforeEach(fu()({store:mu})),bu["a"].addListener("backButton",(function(t){var e=t.canGoBack;e?window.history.back():bu["a"].exitApp()}))},"57bd":function(t,e,n){"use strict";n("ed2f")},"5a42":function(t,e,n){t.exports=n.p+"img/USER.0cac27a2.svg"},"5f53":function(t,e,n){},6081:function(t,e,n){},"61f3":function(t,e,n){t.exports=n.p+"img/checked.7388a2b6.svg"},6277:function(t,e,n){},6294:function(t,e,n){var i={"./ButtonI0":"0ac1","./ButtonI0.vue":"0ac1","./ButtonI1":"01d5","./ButtonI1.vue":"01d5","./Connexion":"51d4","./Connexion.vue":"51d4","./DropDownList":"374e","./DropDownList.vue":"374e","./InputI0":"f258","./InputI0.vue":"f258","./Inscription":"cd8d","./Inscription.vue":"cd8d","./connexion":"8c00","./connexion.js":"8c00","./image/down_arrow.svg":"734b","./inscription":"2f84","./inscription.css":"c75d","./inscription.js":"2f84"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id="6294"},"63a2":function(t,e,n){},6779:function(t,e,n){"use strict";n("9628")},6874:function(t,e,n){t.exports=n.p+"img/rolling.dbfbcad4.svg"},6932:function(t,e,n){t.exports=n.p+"img/ico.cdd7a348.svg"},"6a9e":function(t,e,n){t.exports=n.p+"img/default.9e33f2c2.png"},"6be6":function(t,e,n){},"6c2d":function(t,e,n){"use strict";n("6277")},"6e4d":function(t,e,n){t.exports=n.p+"img/note.47b7b142.svg"},"709f":function(t,e,n){t.exports=n.p+"img/menu.4e7243b0.svg"},"734b":function(t,e,n){t.exports=n.p+"img/down_arrow.47fb15ce.svg"},7412:function(t,e,n){"use strict";n("cdaa")},"74f3":function(t,e,n){t.exports=n.p+"img/elipse.6f0e9c6e.svg"},7734:function(t,e,n){"use strict";n("0941")},"7bf4":function(t,e,n){"use strict";n("63a2")},"7dbd":function(t,e,n){},"7fe3":function(t,e,n){},"814e":function(t,e,n){t.exports=n.p+"img/ajout.64574c39.png"},"81e1":function(t,e,n){"use strict";n("d221")},"84b1":function(t,e,n){"use strict";n("29f7")},"85a5":function(t,e,n){"use strict";n("cc98")},"85f2":function(t,e,n){t.exports=n.p+"img/menu.4e7243b0.svg"},"89b3":function(t,e,n){t.exports=n.p+"img/MesCites.2ea7fac4.png"},"8c00":function(t,e,n){"use strict";n.r(e);n("ac1f"),n("00b4");var i=n("f258"),a=n("0ac1"),o=n("01d5"),s=n("374e"),c=n("a566");e["default"]={name:"Connexion",components:{InputI0:i["default"],ButtonI0:a["default"],ButtonI1:o["default"],DropDownList:s["default"],LLoading1:c["a"]},data:function(){return{loading:!1}},methods:{submiting:function(t){return t.preventDefault(),!1},loggin:function(){var t=this;if(this.validation()){this.$store.commit("setLoaded",!1),this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"log",tel:this.$refs.tel.message,password:this.$refs.password.message}).then((function(e){var n=e.data;"nothing"!==n?(t.$store.commit("loginCommit",n),t.$router.push("menu")):alert("compt inexistant"),t.loading=!1})).catch((function(t){console.log(t)}))}},validation:function(){var t=/^.{2,22}$/;return t.test(this.$refs.tel.message)?""!=this.$refs.password.message||(alert("password incorrect"),!1):(alert("nom ou téléphone incorrect"),!1)}}}},"8c88":function(t,e,n){t.exports=n.p+"img/more.32a1d5d3.svg"},"902a":function(t,e,n){t.exports=n.p+"img/elipse1.e2fedee4.svg"},"937a":function(t,e,n){"use strict";n("1eb8")},9420:function(t,e,n){},9628:function(t,e,n){},"9d39":function(t,e,n){t.exports=n.p+"img/menuu.4a6ac799.svg"},a566:function(t,e,n){"use strict";var i=n("7a23"),a=n("6874"),o=n.n(a),s=Object(i["f"])("img",{src:o.a},null,-1),c=[s];function r(t,e,n,a,o,s){return Object(i["u"])(),Object(i["e"])("div",{class:"lLoading1",style:Object(i["q"])({display:t.Display})},c,4)}var l={name:"lLoading1",props:{visible:{type:Boolean,default:!0}},computed:{Display:function(){return this.visible?"flex":"none"}}},u=(n("db7d"),n("6b0d")),d=n.n(u);const f=d()(l,[["render",r]]);e["a"]=f},a801:function(t,e,n){"use strict";n("5223")},ac03:function(t,e,n){"use strict";n("1e32")},b092:function(t,e,n){},b12c:function(t,e,n){t.exports=n.p+"img/menu.4e7243b0.svg"},b17e:function(t,e,n){},b26b:function(t,e,n){"use strict";n("d894")},b7a1:function(t,e,n){t.exports=n.p+"img/Ripple-1s-200px.56921976.svg"},b879:function(t,e,n){t.exports=n.p+"img/down_arrow.76bbe7db.svg"},ba4c:function(t,e,n){},c418:function(t,e,n){"use strict";n("b092")},c511:function(t,e,n){"use strict";n("f496")},c75d:function(t,e,n){},ca6a:function(t,e,n){t.exports=n.p+"img/22.5f73e163.png"},cc98:function(t,e,n){},cd8d:function(t,e,n){"use strict";n.r(e);var i=n("7a23"),a={class:"inscription"},o={class:"insMain"},s=Object(i["f"])("div",{class:"insTitle"},[Object(i["f"])("span",null,"Créez un compte")],-1),c={class:"insInput"},r={class:"insInput"},l={class:"insInput"},u={class:"insInput"},d=Object(i["f"])("div",{class:"insLaw"},[Object(i["f"])("span",{class:"insPolicy"},[Object(i["h"])("By signing up, you confirm that you've read and accepted our "),Object(i["f"])("span",null,"Terms of Service"),Object(i["h"])(" and "),Object(i["f"])("span",null,"Privacy Policy"),Object(i["h"])(". ")])],-1),f=Object(i["f"])("div",{class:"insOR"},[Object(i["f"])("span",{class:"insPolicy"},"OR")],-1),p={class:"insLast"};function b(t,e,n,b,m,h){var O=Object(i["A"])("InputI0"),j=Object(i["A"])("ButtonI0"),g=Object(i["A"])("LLoading1");return Object(i["u"])(),Object(i["e"])("section",a,[Object(i["f"])("div",o,[Object(i["f"])("form",{class:"insMainSection",onSubmit:e[2]||(e[2]=function(){return t.submiting&&t.submiting.apply(t,arguments)}),action:"#"},[s,Object(i["f"])("div",c,[Object(i["i"])(O,{placeholder:"Entrez votre nom",ref:"surname",type:"text"},null,512)]),Object(i["f"])("div",r,[Object(i["i"])(O,{placeholder:"Entrez num téléphone (important)",ref:"tel",type:"number"},null,512)]),Object(i["f"])("div",l,[Object(i["i"])(O,{placeholder:"Entrez un mot de passe",ref:"password",type:"password",pattern:"^.{4,22}$"},null,512)]),Object(i["f"])("div",u,[Object(i["i"])(O,{placeholder:"Confirmez le mot de passe",ref:"confirmpw",type:"password",pattern:"^.{4,22}$"},null,512)]),d,Object(i["f"])("div",{onClick:e[0]||(e[0]=function(){return t.save&&t.save.apply(t,arguments)}),class:"insButtonI0"},[Object(i["i"])(j,{message:"Continuez"})]),f,Object(i["f"])("div",p,[Object(i["f"])("a",{onClick:e[1]||(e[1]=function(e){return t.$router.push("/connexion")})},"Vous avez déjà un compte? Connectez vous")])],32)]),Object(i["i"])(g,{visible:t.loading},null,8,["visible"])])}n("ac1f"),n("00b4");var m=n("f258"),h=n("0ac1"),O=n("01d5"),j=n("374e"),g=n("a566"),v={name:"inscription",components:{InputI0:m["default"],ButtonI0:h["default"],ButtonI1:O["default"],DropDownList:j["default"],LLoading1:g["a"]},data:function(){return{loading:!1}},methods:{submiting:function(t){return t.preventDefault(),!1},save:function(){var t=this;this.validation()||this.$store.commit("setLoaded",!1),this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"add",name:this.$refs.surname.message,tel:this.$refs.tel.message,password:this.$refs.password.message,confirmpw:this.$refs.confirmpw.message}).then((function(e){var n=e.data;console.log(n),t.loading=!1,alert("Compte créé avec success !"),t.$router.push("/connexion")})).catch((function(t){console.log(t)}))},validation:function(){var t=/^.{2,22}$/;return""!=this.$refs.surname.message&&t.test(this.$refs.tel.message)?""==this.$refs.password.message?(alert("password incorrect"),!1):this.$refs.password.message===this.$refs.confirmpw.message||(alert("passwords did not match"),!1):(alert("nom ou téléphone incorrect"),!1)}}},y=(n("84b1"),n("6b0d")),C=n.n(y);const $=C()(v,[["render",b]]);e["default"]=$},cdaa:function(t,e,n){},d221:function(t,e,n){},d894:function(t,e,n){},d90b:function(t,e,n){"use strict";n("b17e")},d9a5:function(t,e,n){"use strict";n("ba4c")},da4a:function(t,e,n){"use strict";n("2555")},db7d:function(t,e,n){"use strict";n("f737")},de1f:function(t,e,n){t.exports=n.p+"img/1.a9e7f0fd.png"},e10e:function(t,e,n){"use strict";n("059e")},e599:function(t,e,n){t.exports=n.p+"img/help.fcb58444.svg"},e806:function(t,e,n){},e83f:function(t,e,n){"use strict";n("e806")},ed2f:function(t,e,n){},ef2b:function(t,e,n){t.exports=n.p+"img/chambre.ed080354.jpg"},ef91:function(t,e,n){},f0ff:function(t,e,n){t.exports=n.p+"img/pencil.5847465d.svg"},f258:function(t,e,n){"use strict";n.r(e);var i=n("7a23"),a=["placeholder","type","max","min","pattern"];function o(t,e,n,o,s,c){return Object(i["u"])(),Object(i["e"])("div",null,[Object(i["J"])(Object(i["f"])("input",{placeholder:n.placeholder,type:n.type,max:n.max,min:n.min,pattern:n.pattern,"onUpdate:modelValue":e[0]||(e[0]=function(t){return s.message=t}),class:"inputI0"},null,8,a),[[i["F"],s.message]])])}n("a9e3");var s={name:"InputI0",props:{placeholder:String,type:String,max:Number,min:Number,pattern:String},data:function(){return{message:""}}},c=(n("c418"),n("6b0d")),r=n.n(c);const l=r()(s,[["render",o]]);e["default"]=l},f496:function(t,e,n){},f5be:function(t,e,n){"use strict";n("ef91")},f687:function(t,e,n){t.exports=n.p+"img/cancel.4707e09c.svg"},f737:function(t,e,n){},f77f:function(t,e,n){"use strict";n("7dbd")},f9e2:function(t,e,n){t.exports=n.p+"img/contrat2.7e73547a.png"},fb56:function(t,e,n){t.exports=n.p+"img/recap.02cad89d.svg"},fc7b:function(t,e,n){t.exports=n.p+"img/2.7d7363e1.png"},fd7c:function(t,e,n){},fff5:function(t,e,n){t.exports=n.p+"img/cross.56373fb4.svg"}});
//# sourceMappingURL=app.3ba16908.js.map