(function(t){function e(e){for(var a,s,c=e[0],r=e[1],l=e[2],u=0,p=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var r=n[s];0!==i[r]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},i={app:0},o=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d208e4e":"0802bfa8","chunk-2d216214":"a9f4880f","chunk-2e7fffed":"eefc9161","chunk-4985cb23":"e71296bb"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=i[t]=[e,a]}));e.push(n[2]=a);var o,r=document.createElement("script");r.charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.src=s(t);var l=new Error;o=function(e){r.onerror=r.onload=null,clearTimeout(u);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}i[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:r})}),12e4);r.onerror=r.onload=o,document.head.appendChild(r)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"008e":function(t,e,n){"use strict";n("5f53")},"0120":function(t,e,n){var a={"./checked.svg":"61f3","./cross.svg":"fff5"};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="0120"},"0160":function(t,e,n){"use strict";n("3123")},"01d5":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),i={class:"buttonI1"};function o(t,e,o,s,c,r){return Object(a["v"])(),Object(a["f"])("button",i,[Object(a["g"])("div",{style:Object(a["r"])({backgroundImage:"url("+n("6294")(o.img_src+"")+")"})},null,4),Object(a["g"])("span",null,Object(a["D"])(o.message),1)])}var s={name:"ButtonI1",props:{message:String,img_src:String}},c=(n("13d8"),n("6b0d")),r=n.n(c);const l=r()(s,[["render",o]]);e["default"]=l},"01eb":function(t,e,n){},"02bb":function(t,e,n){},"059e":function(t,e,n){},"0941":function(t,e,n){},"0ac1":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),i={class:"buttonI0",href:"google.com"};function o(t,e,n,o,s,c){return Object(a["v"])(),Object(a["f"])("div",i,Object(a["D"])(n.message),1)}var s={name:"ButtonI0",props:{message:String}},c=(n("1a47"),n("6b0d")),r=n.n(c);const l=r()(s,[["render",o]]);e["default"]=l},"0b30":function(t,e,n){t.exports=n.p+"img/Retour.85ade364.png"},"0e4f":function(t,e,n){t.exports=n.p+"img/check.394ab36e.svg"},"0fa0":function(t,e,n){t.exports=n.p+"img/ico.cdd7a348.svg"},"13d8":function(t,e,n){"use strict";n("02bb")},"1a47":function(t,e,n){"use strict";n("7fe3")},"1e32":function(t,e,n){},"1eb8":function(t,e,n){},2555:function(t,e,n){},2621:function(t,e,n){t.exports=n.p+"img/support.e916db29.svg"},"29f7":function(t,e,n){},"2f84":function(t,e,n){"use strict";n.r(e);n("ac1f"),n("00b4");var a=n("f258"),i=n("0ac1"),o=n("01d5"),s=n("374e"),c=n("a566");e["default"]={name:"inscription",components:{InputI0:a["default"],ButtonI0:i["default"],ButtonI1:o["default"],DropDownList:s["default"],LLoading1:c["a"]},data:function(){return{loading:!1}},methods:{submiting:function(t){return t.preventDefault(),!1},save:function(){var t=this;if(this.validation()){this.$store.commit("setLoaded",!1),this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"add",name:this.$refs.surname.message,tel:this.$refs.tel.message,password:this.$refs.password.message,confirmpw:this.$refs.confirmpw.message}).then((function(e){var n=e.data;console.log(n),t.loading=!1,"exist"==n?alert("nom ou téléphone déjà prix déjà prix"):(alert("Compte créé avec success !"),t.$router.push("/connexion"))})).catch((function(t){console.log(t)}))}},validation:function(){var t=/^.{2,22}$/;return""!=this.$refs.surname.message&&t.test(this.$refs.tel.message)?""==this.$refs.password.message?(alert("password incorrect"),!1):this.$refs.password.message===this.$refs.confirmpw.message||(alert("passwords did not match"),!1):(alert("nom ou téléphone incorrect"),!1)}}}},"303b":function(t,e,n){"use strict";n("6be6")},3123:function(t,e,n){},"315c":function(t,e,n){"use strict";n("3f24")},3446:function(t,e,n){t.exports=n.p+"img/photo.fd0c645b.svg"},"36a2":function(t,e,n){t.exports=n.p+"img/MesLocataires.9e33f2c2.png"},"374e":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),i={class:"DropDownList"},o=Object(a["g"])("option",null," English ",-1),s=Object(a["g"])("option",null," French ",-1),c=[o,s];function r(t,e){return Object(a["v"])(),Object(a["f"])("select",i,c)}n("4786");var l=n("6b0d"),u=n.n(l);const d={},p=u()(d,[["render",r]]);e["default"]=p},"38a4":function(t,e,n){t.exports=n.p+"img/Payements.b073ad31.png"},"38f9":function(t,e,n){"use strict";n("9420")},"3b76":function(t,e,n){t.exports=n.p+"img/house.59578d1f.jpg"},"3f24":function(t,e,n){},4786:function(t,e,n){"use strict";n("fd7c")},"4b8a":function(t,e,n){"use strict";n("01eb")},"51d4":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),i={class:"inscription"},o={class:"insMain"},s=Object(a["g"])("div",{class:"insTitle"},[Object(a["g"])("span",null,"Connexion")],-1),c={class:"insInput"},r={class:"insInput"},l={class:"insLaw"},u=Object(a["g"])("span",null,"Essayez de récupérer votre compte",-1),d=Object(a["g"])("div",{class:"insOR"},[Object(a["g"])("span",{class:"insPolicy"},"OR")],-1),p={class:"insLast"};function b(t,e,n,b,m,g){var h=Object(a["B"])("InputI0"),f=Object(a["B"])("ButtonI0"),j=Object(a["B"])("LLoading1");return Object(a["v"])(),Object(a["f"])("section",i,[Object(a["g"])("div",o,[Object(a["g"])("form",{class:"insMainSection",onSubmit:e[3]||(e[3]=function(){return t.submiting&&t.submiting.apply(t,arguments)}),action:"#"},[s,Object(a["g"])("div",c,[Object(a["j"])(h,{placeholder:"Entrez votre login ou téléphone",ref:"tel",type:"text"},null,512)]),Object(a["g"])("div",r,[Object(a["j"])(h,{placeholder:"Entrez un mot de passe",ref:"password",type:"password",pattern:"^.{4,22}$"},null,512)]),Object(a["g"])("div",l,[Object(a["g"])("span",{onClick:e[0]||(e[0]=function(){return t.contactMe1&&t.contactMe1.apply(t,arguments)}),class:"insPolicy"},[Object(a["i"])("Vous avez oublié votre mot de passe? "),u])]),Object(a["g"])("div",{onClick:e[1]||(e[1]=function(){return t.loggin&&t.loggin.apply(t,arguments)}),class:"insButtonI0"},[Object(a["j"])(f,{message:"Continuez"})]),d,Object(a["g"])("div",p,[Object(a["g"])("a",{onClick:e[2]||(e[2]=function(e){return t.$router.push("/inscription")})},"Vous n'avez pas de compte? Inscrivez vous")])],32)]),Object(a["j"])(j,{visible:t.loading},null,8,["visible"])])}n("ac1f"),n("00b4");var m=n("f258"),g=n("0ac1"),h=n("01d5"),f=n("374e"),j=n("a566"),O={name:"Connexion",components:{InputI0:m["default"],ButtonI0:g["default"],ButtonI1:h["default"],DropDownList:f["default"],LLoading1:j["a"]},data:function(){return{loading:!1}},methods:{submiting:function(t){return t.preventDefault(),!1},contactMe1:function(){alert("Contactez +237 652 95 29 41 ou estadiotamo@gmail.com")},contactMe:function(){alert("Problème de server, svp veuillez contactez +237 652 95 29 41 ou estadiotamo@gmail.com")},loggin:function(){var t=this;if(this.validation()){this.$store.commit("setLoaded",!1),this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"log",tel:this.$refs.tel.message,password:this.$refs.password.message}).then((function(e){var n=e.data;"nothing"!==n?(t.$store.commit("loginCommit",n),t.$router.push("menu")):alert("compt inexistant"),t.loading=!1})).catch((function(t){console.log(t)}))}},validation:function(){var t=/^.{2,22}$/;return t.test(this.$refs.tel.message)?""!=this.$refs.password.message||(alert("password incorrect"),!1):(alert("nom ou téléphone incorrect"),!1)}}},v=(n("84b1"),n("6b0d")),y=n.n(v);const D=y()(O,[["render",b]]);e["default"]=D},5223:function(t,e,n){},"53ff":function(t,e,n){"use strict";n("6081")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function i(t,e,n,i,o,s){var c=Object(a["B"])("router-view");return Object(a["v"])(),Object(a["d"])(c)}var o={name:"App",components:{}},s=(n("6c2d"),n("6b0d")),c=n.n(s);const r=c()(o,[["render",i]]);var l=r,u=n("6605"),d=n("89b3"),p=n.n(d),b=n("36a2"),m=n.n(b),g=n("38a4"),h=n.n(g),f=n("f9e2"),j=n.n(f),O=n("0e4f"),v=n.n(O),y=n("e599"),D=n.n(y),C={class:"landBody"},B={style:{"margin-right":"20px"},class:"landB1Element"},$=Object(a["g"])("span",null,"Mes Cités",-1),w={style:{"margin-left":"20px"},class:"landB1Element"},L=Object(a["g"])("span",null,"Mes Locataires",-1),F={class:"landBody2"},x={style:{"margin-right":"20px"},class:"landB2Element"},P=Object(a["g"])("span",null,"Payments",-1),M={style:{"margin-left":"20px"},class:"landB2Element"},A=Object(a["g"])("span",null,"Contrats",-1),I={class:"landBody2"},k={style:{"margin-right":"20px"},class:"landB2Element"},N=Object(a["g"])("span",null,"Récap",-1),S={style:{"margin-left":"20px"},class:"landB2Element"},T=Object(a["g"])("span",null,"Help",-1);function E(t,e,n,i,o,s){var c=Object(a["B"])("LHeader"),r=Object(a["B"])("LLoading1");return Object(a["v"])(),Object(a["f"])("div",{onClick:e[7]||(e[7]=function(){return t.click&&t.click.apply(t,arguments)}),class:"landingPage"},[Object(a["j"])(c,{ref:"lHeader",title:""},null,512),Object(a["g"])("div",C,[Object(a["g"])("div",B,[Object(a["g"])("img",{onClick:e[0]||(e[0]=function(){return t.toCite&&t.toCite.apply(t,arguments)}),src:p.a}),$]),Object(a["g"])("div",w,[Object(a["g"])("img",{onClick:e[1]||(e[1]=function(){return t.toLocataire&&t.toLocataire.apply(t,arguments)}),src:m.a}),L])]),Object(a["g"])("div",F,[Object(a["L"])(Object(a["g"])("div",x,[Object(a["g"])("div",null,[Object(a["g"])("img",{onClick:e[2]||(e[2]=function(e){return t.$router.push("payment")}),src:h.a})]),P],512),[[a["J"],"superuser"===t.$store.state.login.role||"secretaire"===t.$store.state.login.role]]),Object(a["L"])(Object(a["g"])("div",M,[Object(a["g"])("div",null,[Object(a["g"])("img",{onClick:e[3]||(e[3]=function(e){return t.$router.push("contrat")}),src:j.a})]),A],512),[[a["J"],"superuser"===t.$store.state.login.role]])]),Object(a["g"])("div",I,[Object(a["e"])("",!0),Object(a["g"])("div",k,[Object(a["g"])("div",null,[Object(a["g"])("img",{onClick:e[5]||(e[5]=function(e){return t.$router.push("recapForm")}),src:v.a})]),N]),Object(a["g"])("div",S,[Object(a["g"])("div",null,[Object(a["g"])("img",{onClick:e[6]||(e[6]=function(e){return t.$router.push("Help")}),src:D.a})]),T])]),Object(a["j"])(r,{visible:t.$store.state.load.loading},null,8,["visible"])])}var U=n("9d39"),_=n.n(U),z=n("6e4d"),V=n.n(z),Y=n("f687"),H=n.n(Y),J=n("2621"),R=n.n(J),W={ref:"menu",class:"landHeaderMenu"},q=Object(a["g"])("img",{src:V.a},null,-1),G=Object(a["g"])("img",{src:H.a},null,-1),X=(H.a,Object(a["g"])("img",{src:R.a},null,-1));function K(t,e,n,i,o,s){return Object(a["v"])(),Object(a["f"])("header",{onMouseleave:e[6]||(e[6]=function(e){return t.menu=!1}),class:"landHeader"},[Object(a["g"])("div",{onClick:e[1]||(e[1]=function(){return t.toLanding&&t.toLanding.apply(t,arguments)}),class:"lanHeaderF"},[Object(a["g"])("img",{onMouseover:e[0]||(e[0]=function(e){return t.menu=!0}),src:_.a},null,32)]),Object(a["g"])("span",null,Object(a["D"])(t.title),1),Object(a["L"])(Object(a["g"])("div",W,[Object(a["L"])(Object(a["g"])("span",{onClick:e[2]||(e[2]=function(e){return t.$router.push("compte")})},[q,Object(a["i"])(" Gestion de compte")],512),[[a["J"],"superuser"===t.$store.state.login.role]]),Object(a["g"])("span",{onClick:e[3]||(e[3]=function(e){return t.$router.push("payments")})},[G,Object(a["i"])(" payments")]),Object(a["e"])("",!0),Object(a["g"])("span",{onClick:e[5]||(e[5]=function(e){return t.$router.push("support")})},[X,Object(a["i"])(" Nous supporter/contacter")])],512),[[a["J"],t.menu]])],32)}var Q={name:"lHeader",props:{title:{type:String,default:"Accueil"}},data:function(){return{menu:!1}},methods:{toLanding:function(){this.$router.push("menu")}}};n("c511");const Z=c()(Q,[["render",K]]);var tt=Z,et=n("a566"),nt={name:"landingPage",components:{LHeader:tt,LLoading1:et["a"]},methods:{toLocataire:function(){this.$router.push("locataires")},toCite:function(){this.$router.push("cites")}}};n("937a");const at=c()(nt,[["render",E]]);var it=at,ot=n("0b30"),st=n.n(ot),ct=n("85f2"),rt=n.n(ct),lt=n("814e"),ut=n.n(lt),dt={class:"locataire"},pt={style:{"z-index":"1"},class:"lPBFCTitle"},bt=Object(a["g"])("img",{src:st.a},null,-1),mt=[bt],gt={class:"locatBody"},ht={class:"locatElImg"},ft=["onClick","src"],jt=["onClick"],Ot={class:"locatElName"},vt={class:"locatMButton"},yt=["onClick"],Dt={class:"locatPlus"};function Ct(t,e,i,o,s,c){var r=Object(a["B"])("EditMenu"),l=Object(a["B"])("LocatFImg"),u=Object(a["B"])("YAlert"),d=Object(a["B"])("LLoading1"),p=Object(a["B"])("YesNo");return Object(a["v"])(),Object(a["f"])("div",dt,[Object(a["g"])("div",pt,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.push("menu")})},mt),Object(a["i"])(" MES LOCATAIRES ")]),Object(a["g"])("div",gt,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.locataires,(function(e,i){return Object(a["v"])(),Object(a["f"])("div",{key:i,class:"locatElement"},[Object(a["g"])("div",ht,[Object(a["g"])("img",{onClick:function(n){return t.toLocataire(e.id)},src:""==e.image?n("6a9e"):t.bUrl+e.image},null,8,ft)]),Object(a["g"])("div",{onClick:function(n){return t.toLocataire(e.id)},style:Object(a["r"])({color:t.getDebt(e.id)})},[Object(a["g"])("span",Ot,Object(a["D"])(e.nom),1),Object(a["g"])("span",null,Object(a["D"])(null==e.chambreNom?"Aucun":e.chambreNom),1),Object(a["g"])("span",null,Object(a["D"])(null==e.citeNom?"Aucune":e.citeNom),1)],12,jt),Object(a["L"])(Object(a["g"])("div",vt,[Object(a["g"])("img",{onClick:function(n){return t.showMenu(e)},src:rt.a},null,8,yt)],512),[[a["J"],"superuser"===t.$store.state.login.role]])])})),128)),Object(a["L"])(Object(a["g"])("div",Dt,[Object(a["g"])("img",{onClick:e[1]||(e[1]=function(e){return t.$router.push("/locataires/form")}),src:ut.a})],512),[[a["J"],"superuser"===t.$store.state.login.role]])]),Object(a["j"])(r,{elements:t.menu,onSelect:t.select,ref:"menu"},null,8,["elements","onSelect"]),Object(a["j"])(l,{style:{"z-index":"2"},info:t.current,ref:"LocatFImg"},null,8,["info"]),Object(a["j"])(u,{ref:"yAlertS",type:"success"},null,512),Object(a["j"])(d,{visible:t.loading},null,8,["visible"]),Object(a["j"])(p,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var Bt=n("5530"),$t=n("8c88"),wt=n.n($t),Lt={class:"editMEMenu"},Ft={class:"editMEMenuSon"},xt=["onClick"],Pt=Object(a["g"])("img",{src:wt.a},null,-1),Mt=[Pt];function At(t,e,n,i,o,s){return Object(a["L"])((Object(a["v"])(),Object(a["f"])("div",Lt,[Object(a["g"])("div",Ft,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(n.elements,(function(e,n){return Object(a["v"])(),Object(a["f"])("span",{onClick:function(n){return t.$emit("select",e)},key:n},Object(a["D"])(e),9,xt)})),128)),Object(a["g"])("div",{onClick:e[0]||(e[0]=function(t){return o.Display=!1}),class:"editMEMClose"},Mt)])],512)),[[a["J"],o.Display]])}var It={name:"yAlert",props:{elements:Array},data:function(){return{Display:!1}}};n("4b8a");const kt=c()(It,[["render",At]]);var Nt=kt,St=n("3446"),Tt=n.n(St),Et={class:"lPblicationForm"},Ut={class:"lPBFCTitle"},_t=Object(a["g"])("img",{src:st.a},null,-1),zt=[_t],Vt={class:"lPBFCBody"},Yt={class:"lPBFCImage"},Ht=Object(a["g"])("span",{class:"lPBFCIadd"},"Choisir une image",-1),Jt={class:"custom-file-upload"},Rt=Object(a["g"])("img",{src:Tt.a},null,-1),Wt=Object(a["g"])("div",null,[Object(a["g"])("img",{id:"lPbblah1",class:"lPbblah"})],-1),qt={class:"lPBFCinput"},Gt=Object(a["g"])("span",null," Nouveau Nom:",-1),Xt={class:"lPBFCinput"},Kt=Object(a["g"])("span",null,"Nouveau prénom:",-1),Qt={class:"lPBFCinput"},Zt=Object(a["g"])("span",null,"Nouveau tel:",-1),te=Object(a["g"])("span",null,"Enregistrer",-1),ee=[te];function ne(t,e,n,i,o,s){var c=Object(a["B"])("ImageUploader"),r=Object(a["B"])("LLoading1"),l=Object(a["B"])("YAlert");return Object(a["L"])((Object(a["v"])(),Object(a["f"])("section",Et,[Object(a["g"])("div",Ut,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},zt),Object(a["i"])(" Modifier "+Object(a["D"])(t.info.nom),1)]),Object(a["g"])("div",Vt,[Object(a["g"])("div",Yt,[Ht,Object(a["g"])("label",Jt,[Object(a["j"])(c,{ref:"imUploader",debug:1,maxWidth:700,maxHeight:700,autoRotate:!0,quality:1,outputFormat:"blob",preview:!1,onInput:t.preview},null,8,["onInput"]),Rt])]),Wt,Object(a["g"])("div",qt,[Gt,Object(a["L"])(Object(a["g"])("textarea",{class:"lPBFCinputStyle","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.nom=e})},null,512),[[a["I"],t.nom]])]),Object(a["g"])("div",Xt,[Kt,Object(a["L"])(Object(a["g"])("textarea",{class:"lPBFCinputStyle","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.prenom=e})},null,512),[[a["I"],t.prenom]])]),Object(a["g"])("div",Qt,[Zt,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.tel=e})},null,512),[[a["I"],t.tel]])]),Object(a["g"])("div",{class:"lPBFCButton",onClick:e[4]||(e[4]=function(){return t.sendImage&&t.sendImage.apply(t,arguments)})},ee)]),Object(a["j"])(r,{visible:t.loading},null,8,["visible"]),Object(a["j"])(l,{ref:"yAlert"},null,512),Object(a["j"])(l,{onClick:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClick"])],512)),[[a["J"],t.Display]])}n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var ae=n("b879"),ie=n.n(ae),oe={class:"lDArrow"},se=["onClick"];function ce(t,e,n,i,o,s){return Object(a["v"])(),Object(a["f"])("div",{onMouseleave:e[2]||(e[2]=function(){return t.deCollapse&&t.deCollapse.apply(t,arguments)}),class:"lDropDown",id:"drop",style:Object(a["r"])({width:t.maxWidth})},[Object(a["g"])("div",{onMouseover:e[1]||(e[1]=function(){return t.collapse&&t.collapse.apply(t,arguments)}),class:"lDCurrent"},[Object(a["g"])("div",oe,[Object(a["g"])("img",{onClick:e[0]||(e[0]=function(){return t.heightCollapse&&t.heightCollapse.apply(t,arguments)}),src:ie.a})]),Object(a["g"])("div",null,Object(a["D"])(t.current.nom+" "+t.exist(t.current.prenom)),1)],32),Object(a["g"])("div",{class:"lDCollapse",style:Object(a["r"])({height:t.vheight})},[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.elements,(function(e,n){return Object(a["v"])(),Object(a["f"])("div",{key:n,class:Object(a["q"])(["lDElement",n]),onClick:function(e){return t.selecting(n)}},[Object(a["g"])("div",null,Object(a["D"])(e.nom+" "+t.exist(e.prenom)),1)],10,se)})),128))],4)],36)}var re={name:"lDropDown",props:{bdColor:{type:String,default:"solid 1px black"},maxHeight:{type:String,default:"300%"},maxWidth:{type:String,default:"120px"},elements:{type:Array,default:[{nom:""}]}},data:function(){return{vheight:"0px",isCollapsed:!1,current:this.elements[0]}},methods:{heightCollapse:function(){this.vheight=this.isCollapsed?"0px":this.maxHeight,this.isCollapsed=!this.isCollapsed},deCollapse:function(){this.vheight="0px",this.isCollapsed=!this.isCollapsed},collapse:function(){this.vheight=this.maxHeight,this.isCollapsed=!this.isCollapsed},selecting:function(t){this.current=this.elements[t],this.deCollapse(),this.$emit("selected",t)},exist:function(t){return"undefined"===typeof t?"":t}},watch:{elements:function(t){this.current=t[0]}}};n("6779");const le=c()(re,[["render",ce]]);var ue=le,de=n("fff5"),pe=n.n(de),be={class:"yAlert"},me={class:"yAlertSon"},ge=["src"],he=Object(a["g"])("img",{src:pe.a},null,-1),fe=[he];function je(t,e,i,o,s,c){return Object(a["L"])((Object(a["v"])(),Object(a["f"])("div",be,[Object(a["g"])("div",me,[Object(a["g"])("div",{class:"yAlLogo",style:Object(a["r"])({backgroundColor:c.leftColor})},[Object(a["g"])("img",{onClick:e[0]||(e[0]=function(){return c.displaying&&c.displaying.apply(c,arguments)}),src:n("0120")("./"+c.logo+".svg")},null,8,ge)],4),Object(a["g"])("div",{style:Object(a["r"])({backgroundColor:c.rightColor})},Object(a["D"])(s.message),5),Object(a["g"])("div",{onClick:e[1]||(e[1]=function(){return c.displaying&&c.displaying.apply(c,arguments)}),class:"yAlCross"},fe)])],512)),[[a["J"],s.Display]])}var Oe={name:"yAlert",props:{type:{type:String,default:"danger"},text:{type:String,default:"some text"}},data:function(){return{Display:!1,message:this.text}},methods:{displaying:function(){this.Display=!this.Display,this.$emit("closed")},display:function(t){this.Display="flex",this.message=t}},computed:{leftColor:function(){return"danger"===this.type?"rgb(191, 49, 41,0.8)":"rgb(35, 153, 48,0.8)"},rightColor:function(){return"danger"===this.type?"rgb(255, 65, 54,0.8)":"rgb(37, 204, 64,0.8)"},logo:function(){return"danger"===this.type?"cross":"checked"}}};n("f77f");const ve=c()(Oe,[["render",je]]);var ye=ve,De=n("f0b1"),Ce={name:"locatFImg",components:{LDropDown:ue,LLoading1:et["a"],YAlert:ye,ImageUploader:De["a"]},props:{info:Object},data:function(){return{Display:!1,file:"",loading:!1,imageName:"",nom:"",prenom:"",tel:""}},methods:{close:function(){this.Display=!1,document.getElementById("lPbblah1").src="",this.file=""},preview:function(t){t&&(this.file=t,document.getElementById("lPbblah1").src=URL.createObjectURL(t))},sendImage:function(){var t=this;this.loading=!0;var e=n("bc3a"),a=new FormData;this.file?(a.append("image_name",this.file),e.post(this.$store.state.baseUrl+"saveLocImg.php",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){"Error"===e.data?(t.loading=!1,t.$refs.yAlert.display(e.data)):(t.imageName=e.data,t.publishing())})).catch((function(t){console.log(t)}))):this.publishing()},publishing:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"locataire.php",{type:"modify",id:this.info.id,image:this.imageName,nom:this.nom,prenom:this.prenom,tel:this.tel}).then((function(e){console.log(e.data),t.loadData()})).catch((function(t){console.log(t)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}},watch:{info:function(t){this.nom=t.nom,this.prenom=t.prenom,this.tel=t.tel1,this.imageName=t.image}}};n("008e");const Be=c()(Ce,[["render",ne]]);var $e=Be,we={class:"lPBYesNo"},Le={class:"lPBYesNoSon"};function Fe(t,e,n,i,o,s){return Object(a["L"])((Object(a["v"])(),Object(a["f"])("div",we,[Object(a["g"])("div",Le,[Object(a["g"])("span",null,' Voulez vous vraiment supprimmer "'+Object(a["D"])(o.current)+'" ? cette action est vraiment critique.',1),Object(a["g"])("div",null,[Object(a["g"])("div",{onClick:e[0]||(e[0]=function(t){return s.send("yes")}),class:"lPBYNBut"},"Yes"),Object(a["g"])("div",{onClick:e[1]||(e[1]=function(t){return s.send("no")}),class:"lPBYNBut"},"No")])])],512)),[[a["J"],o.Display]])}var xe={name:"yAlert",props:{elements:Array},data:function(){return{Display:!1,current:"fedf"}},methods:{display:function(t){this.current=t,this.Display=!0},send:function(t){this.$emit("option",t),this.Display=!1}}};n("57bd");const Pe=c()(xe,[["render",Fe]]);var Me=Pe,Ae={name:"locataires",components:{EditMenu:Nt,LocatFImg:$e,YAlert:ye,LLoading1:et["a"],YesNo:Me},data:function(){return{loading:!1,current:[],menu:["Modifier","supprimer"],locataires:this.$store.state.load.locataires,bUrl:this.$store.state.baseUrl}},methods:{select:function(t){this.$refs.menu.Display=!1,"Modifier"===t?this.$refs.LocatFImg.Display=!0:"supprimer"===t&&this.$refs.yesNo.display(this.current.nom)},showMenu:function(t){!1===this.$refs.menu.Display&&(this.$refs.menu.Display=!0,this.current=t)},yesNoAction:function(t){"yes"==t&&this.delete()},delete:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"locataire.php",{type:"delete",id:this.current.id}).then((function(){t.loadData()})).catch((function(e){t.loading=!1,console.log(e)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait!")})).catch((function(t){console.log(t)}))},toLocataire:function(t){this.$router.push({name:"locataire",params:{locId:t}})},getDebt:function(t){var e,n=this.$store.state.load.contrats,a=n.length;for(e=0;e<a;e++)if(n[e].locataire==t&&n[e].balance<0)return"rgb(255, 0, 76)";return"#232323"},getLocContrat:function(t){var e,n=this.$store.state.load.contrats,a=this.$store.state.load.contrats.length;for(e=0;e<a;e++)if(n[e].locataire==t)return{chambreNom:n[e].chambreNom,citeNom:n[e].citeNom}},getLocataire:function(){var t,e=[],n=this.$store.state.load.locataires,a=this.$store.state.load.locataires.length;for(t=0;t<a;t++)e.push(Object(Bt["a"])(Object(Bt["a"])({},n[t]),this.getLocContrat(n[t].id)));this.locataires=e}},watch:{"$store.state.load.locataires":function(){this.getLocataire()}},mounted:function(){this.getLocataire()}};n("f5be");const Ie=c()(Ae,[["render",Ct]]);var ke=Ie,Ne=n("f0ff"),Se=n.n(Ne),Te={class:"locataire1"},Ee={style:{"z-index":"1"},class:"lPBFCTitle"},Ue=Object(a["g"])("img",{src:st.a},null,-1),_e=[Ue],ze={class:"locat1Body"},Ve={class:"locat1Info locat1Block"},Ye=Object(a["g"])("p",{style:{"border-bottom":"solid 1px rgb(230,230,230)","padding-bottom":"2px"},class:"locat1Head"},"Informations",-1),He={class:"locat1InfoImg"},Je=["src"],Re=Object(a["g"])("div",null,"Nom ",-1),We=Object(a["g"])("div",null,"Prenom",-1),qe=Object(a["g"])("div",null,"Tel 1",-1),Ge=Object(a["g"])("div",null,"Tel 2",-1),Xe=Object(a["g"])("div",null,"Age",-1),Ke=Object(a["g"])("div",null,"Situation",-1),Qe={class:"locat1List locat1Block"},Ze={style:{"padding-left":"0px"},class:"locat1Head"},tn={style:{border:"none","margin-top":"30px"}},en=Object(a["g"])("div",null,"Chambre",-1),nn=Object(a["g"])("div",null,"Cité",-1),an=Object(a["g"])("div",null,"Prix/mois",-1),on={class:"locat1Limit"},sn=Object(a["g"])("div",null,"Payements début mois",-1),cn=Object(a["g"])("div",null,"Dette",-1),rn={style:{color:"rgb(233, 27, 62)"}},ln=Object(a["g"])("div",null,"Solde",-1),un=Object(a["g"])("div",null,"Date d'expiration",-1),dn={class:"locat1Limit"},pn=Object(a["g"])("div",null,"Temps restant",-1),bn={class:"locat1Timer"},mn=Object(a["g"])("div",null,"Date début",-1),gn=Object(a["g"])("div",null,"Total payé ",-1),hn=Object(a["g"])("div",{style:{color:"red"}},"Contrat arreté le:",-1),fn={style:{color:"red"}},jn=["onClick"],On=Object(a["g"])("img",{src:Se.a},null,-1);function vn(t,e,i,o,s,c){var r=Object(a["B"])("EditMenu"),l=Object(a["B"])("YesNo"),u=Object(a["B"])("ModifyLocataire"),d=Object(a["B"])("YAlert"),p=Object(a["B"])("LLoading1");return Object(a["v"])(),Object(a["f"])("div",Te,[Object(a["g"])("div",Ee,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){t.$router.go(-1)})},_e),Object(a["i"])(" "+Object(a["D"])(t.locataire.nom),1)]),Object(a["g"])("div",ze,[Object(a["g"])("div",Ve,[Ye,Object(a["g"])("div",He,[Object(a["g"])("img",{src:""!=t.locataire.image?t.$store.state.baseUrl+t.locataire.image:n("36a2")},null,8,Je)]),Object(a["g"])("div",null,[Re,Object(a["g"])("span",null,Object(a["D"])(t.locataire.nom),1)]),Object(a["g"])("div",null,[We,Object(a["g"])("span",null,Object(a["D"])(t.locataire.prenom),1)]),Object(a["g"])("div",null,[qe,Object(a["g"])("span",null,Object(a["D"])(t.locataire.tel1),1)]),Object(a["g"])("div",null,[Ge,Object(a["g"])("span",null,Object(a["D"])(""==t.locataire.tel2?"Aucun":t.locataire.tel2),1)]),Object(a["g"])("div",null,[Xe,Object(a["g"])("span",null,Object(a["D"])(t.locataire.age)+" ans",1)]),Object(a["g"])("div",null,[Ke,Object(a["g"])("span",null,Object(a["D"])(t.locataire.situation_matrimonial),1)])]),Object(a["g"])("div",Qe,[Object(a["g"])("span",Ze,Object(a["D"])(t.contrats.length>0?"":"Aucune")+" Chambre(s) occupé par "+Object(a["D"])(t.locataire.nom),1),(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.contrats,(function(e,n){return Object(a["v"])(),Object(a["f"])("div",{key:n,class:"locat1Contrat"},[Object(a["g"])("div",tn,[en,Object(a["g"])("span",null,Object(a["D"])(e.chambreNom),1)]),Object(a["g"])("div",null,[nn,Object(a["g"])("span",null,Object(a["D"])(e.citeNom),1)]),Object(a["g"])("div",null,[an,Object(a["g"])("span",null,Object(a["D"])(e.loyer)+" FCFA",1)]),Object(a["g"])("div",on,[sn,Object(a["g"])("span",null,Object(a["D"])(1==e.payDebutMois?"oui":"non"),1)]),Object(a["g"])("div",null,[cn,Object(a["g"])("span",rn,Object(a["D"])(e.newBalance>=0?0:e.newBalance)+" FCFA",1)]),Object(a["g"])("div",null,[ln,Object(a["g"])("span",null,Object(a["D"])(e.newBalance>=0?e.newBalance:0)+" FCFA",1)]),Object(a["g"])("div",null,[un,Object(a["g"])("span",null,Object(a["D"])(e.expirationDate),1)]),Object(a["g"])("div",dn,[pn,Object(a["g"])("span",bn,Object(a["D"])(t.expirations[n].value),1)]),Object(a["g"])("div",null,[mn,Object(a["g"])("span",null,Object(a["D"])(t.dateFormat(e.date_debut)),1)]),Object(a["g"])("div",null,[gn,Object(a["g"])("span",null,Object(a["D"])(e.totalPayer)+" FCFA",1)]),Object(a["L"])(Object(a["g"])("div",null,[hn,Object(a["g"])("span",fn,Object(a["D"])(t.dateFormat(e.stopped))+" FCFA",1)],512),[[a["J"],2==e.deleted]]),Object(a["L"])(Object(a["g"])("span",{onClick:function(n){return t.showMenu(e)},class:"locat1Menu"},[Object(a["i"])("Modifier"),On],8,jn),[[a["J"],"superuser"==t.$store.state.login.role&&0==e.deleted]])])})),128))])]),Object(a["j"])(r,{elements:t.menu,onSelect:t.select,ref:"menu"},null,8,["elements","onSelect"]),Object(a["j"])(l,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"]),Object(a["j"])(l,{ref:"yesNo1",onOption:t.yesNoAction1},null,8,["onOption"]),Object(a["j"])(u,{ref:"modifier",onModified:t.setContrat,style:{"z-index":"1"}},null,8,["onModified"]),Object(a["j"])(d,{ref:"yAlertS",type:"sucess"},null,512),Object(a["j"])(p,{visible:t.loading},null,8,["visible"])])}var yn={class:"lPBYesNo"},Dn={class:"lPBYesNoSon"};function Cn(t,e,n,i,o,s){return Object(a["L"])((Object(a["v"])(),Object(a["f"])("div",yn,[Object(a["g"])("div",Dn,[Object(a["g"])("span",null,Object(a["D"])(o.current),1),Object(a["g"])("div",null,[Object(a["g"])("div",{onClick:e[0]||(e[0]=function(t){return s.send("yes")}),class:"lPBYNBut"},"Oui"),Object(a["g"])("div",{onClick:e[1]||(e[1]=function(t){return s.send("no")}),class:"lPBYNBut"},"Non")])])],512)),[[a["J"],o.Display]])}var Bn={name:"yAlert",props:{elements:Array},data:function(){return{Display:!1,current:"Voulez vous vraiment créer ce nouveau contrat ? cette action est vraiment critique."}},methods:{display:function(t){this.current=t,this.Display=!0},send:function(t){this.$emit("option",t),this.Display=!1}}};n("d90b");const $n=c()(Bn,[["render",Cn]]);var wn=$n,Ln=(n("a4d3"),n("e01a"),{class:"lPblicationForm"}),Fn={class:"lPBFCTitle"},xn=Object(a["g"])("img",{src:st.a},null,-1),Pn=[xn],Mn={class:"lPBFCBody"},An={class:"lPBFCinput"},In=Object(a["g"])("span",null,"Paye en début de mois",-1),kn={class:"lPBFCinput",style:{"flex-direction":"column","align-items":"flex-start"}},Nn=Object(a["g"])("span",null,"Montant des charges",-1),Sn={class:"lPBFVButton"},Tn={class:"lPBFVMore"},En={class:"lPBFVDesc"},Un=Object(a["g"])("span",null,"Description",-1),_n={class:"lPBFVDesc"},zn=Object(a["g"])("span",null,"Montant",-1),Vn={class:"lPBFVDrop"},Yn=Object(a["g"])("span",null,"date de début",-1),Hn={class:"lPBFVButtonF"};function Jn(t,e,n,i,o,s){var c=Object(a["B"])("LDropDown"),r=Object(a["B"])("LLoading1"),l=Object(a["B"])("YAlert"),u=Object(a["B"])("YesNo");return Object(a["L"])((Object(a["v"])(),Object(a["f"])("section",Ln,[Object(a["g"])("div",Fn,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},Pn),Object(a["i"])(" Modifier contrat ")]),Object(a["g"])("div",Mn,[Object(a["g"])("div",An,[In,Object(a["L"])(Object(a["g"])("input",{type:"checkbox",onChange:e[1]||(e[1]=function(){return t.avantFin&&t.avantFin.apply(t,arguments)}),"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.startMonthPaying=e})},null,544),[[a["F"],t.startMonthPaying]])]),Object(a["g"])("div",kn,[Nn,(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.contrat.variants,(function(n,i){return Object(a["v"])(),Object(a["f"])("div",{key:i,class:"lPBFVariants"},[Object(a["g"])("span",null,"De "+Object(a["D"])(t.setDate(n.startMonth))+" à "+Object(a["D"])(t.setEndDate(i)),1),Object(a["g"])("div",null,[Object(a["i"])("Montant"),Object(a["g"])("span",null,Object(a["D"])(n.montant)+" FCFA",1)]),Object(a["g"])("div",null,[Object(a["i"])("Raison"),Object(a["g"])("span",null,Object(a["D"])(n.description),1)]),Object(a["L"])(Object(a["g"])("p",Sn,[Object(a["g"])("span",{onClick:e[3]||(e[3]=function(e){return t.showForm("modify")})},"Modifier"),Object(a["L"])(Object(a["g"])("span",{onClick:e[4]||(e[4]=function(){return t.deleteVariant&&t.deleteVariant.apply(t,arguments)})},"Supprimer",512),[[a["J"],0!=i]])],512),[[a["J"],i==t.contrat.variants.length-1]])])})),128)),Object(a["g"])("p",Tn,[Object(a["g"])("span",{onClick:e[5]||(e[5]=function(e){return t.showForm("add")})},"Ajouter un autre intervalle")])])]),Object(a["L"])(Object(a["g"])("div",{onClick:e[9]||(e[9]=function(){return t.exitForm&&t.exitForm.apply(t,arguments)}),ref:"form",class:"lPBFVForm"},[Object(a["g"])("div",null,[Object(a["g"])("h3",null,Object(a["D"])("add"==t.typeForm?"Ajouter un ":"Modifier l'")+"intervalle ",1),Object(a["g"])("div",En,[Un,Object(a["L"])(Object(a["g"])("input",{placeholder:"description","onUpdate:modelValue":e[6]||(e[6]=function(e){return t.description=e}),type:"text"},null,512),[[a["I"],t.description]])]),Object(a["g"])("div",_n,[zn,Object(a["L"])(Object(a["g"])("input",{placeholder:"0","onUpdate:modelValue":e[7]||(e[7]=function(e){return t.montant=e}),type:"number"},null,512),[[a["I"],t.montant]])]),Object(a["L"])(Object(a["g"])("div",Vn,[Yn,Object(a["g"])("div",null,[Object(a["i"])(Object(a["D"])(t.jourDebut)+" ",1),Object(a["j"])(c,{style:{"z-index":"1"},onSelected:t.setDayDebut,ref:"moisDebut",elements:t.mois,maxHeight:"110px",maxWidth:"120px"},null,8,["onSelected","elements"]),Object(a["j"])(c,{style:{"z-index":"1"},onSelected:t.setDayDebut,ref:"anneeDebut",elements:t.annees,maxHeight:"110px",maxWidth:"90px"},null,8,["onSelected","elements"])])],512),[[a["J"],!("modify"==t.typeForm&&1==t.contrat.variants.length)]]),Object(a["g"])("p",Hn,[Object(a["g"])("span",{onClick:e[8]||(e[8]=function(){return t.setNewIntervall&&t.setNewIntervall.apply(t,arguments)})},"Enregistrer")])])],512),[[a["J"],t.DispForm]]),Object(a["j"])(r,{visible:t.loading},null,8,["visible"]),Object(a["j"])(l,{ref:"yAlert"},null,512),Object(a["j"])(l,{onClick:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClick"]),Object(a["j"])(u,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])],512)),[[a["J"],t.Display]])}var Rn={name:"modifyLocataire",components:{LDropDown:ue,LLoading1:et["a"],YAlert:ye,YesNo:wn},data:function(){return{Display:!1,DispForm:!1,loading:!1,contrat:[],startMonthPaying:"",annees:[{nom:2020},{nom:2021},{nom:2022},{nom:2023},{nom:2024},{nom:2025},{nom:2026},{nom:2027},{nom:2028},{nom:2029},{nom:2030},{nom:2031},{nom:2032},{nom:2033},{nom:2034},{nom:2035}],mois:[{nom:"Janvier",id:0},{nom:"Février",id:1},{nom:"Mars",id:2},{nom:"Avril",id:3},{nom:"Mai",id:4},{nom:"Juin",id:5},{nom:"Juillet",id:6},{nom:"Aout",id:7},{nom:"Septembre",id:8},{nom:"Octobre",id:9},{nom:"Novembre",id:10},{nom:"Décembre",id:11}],jour:1,jourDebut:1,description:"",montant:"",typeForm:"add"}},methods:{showForm:function(t){this.typeForm=t;var e=this.contrat.variants[this.contrat.variants.length-1],n=new Date(e.startMonth);this.$refs.anneeDebut.selecting(n.getFullYear()-2020),this.$refs.moisDebut.selecting(n.getMonth()),"add"==t?(this.description="",this.montant=0):(this.description=e.description,this.montant=e.montant),this.DispForm=!0},exitForm:function(t){t.target==this.$refs.form&&(this.DispForm=!1)},endMonth:function(t){return new Date(t.getFullYear(),t.getMonth()+1,0)},setDayDebut:function(){var t=this.unsetDate(this.$refs.anneeDebut.current.nom,this.$refs.moisDebut.current.id+1,1),e=this.endMonth(new Date(t)).getDate();this.jourDebut=e<this.jour?e:this.jour},setEndDate:function(t){var e=this.contrat.variants;return e.length-1==t?"indéterminé":this.setDate(e[t+1].startMonth)},unsetDate:function(t,e,n){var a="????"==t?2100:t,i=new Date(a+"/"+e+"/"+n);return i.getTime()},setNewIntervall:function(){var t=this.contrat.variants,e="add"==this.typeForm||1==t.length?t[t.length-1]:t[t.length-2],n=new Date(e.startMonth).getTime(),a=this.unsetDate(this.$refs.anneeDebut.current.nom,this.$refs.moisDebut.current.id+1,this.jourDebut);if(""!=this.description){if(""!==this.montant)return a<=n?1==t.length&&"modify"==this.typeForm?void this.modify():void alert("La date de début ne peut etre inférieur ou égal à la date de début du dernier intervalle"):void("add"==this.typeForm?this.addNew():this.modify());alert("Entrez un montant correcte pour cette période.")}else alert("Entrez une description des charges pour cette période.")},setDate:function(t){var e=new Date(t);return 2100==e.getFullYear()?"indeterminé":e.getDate()+" "+this.$store.state.mois[e.getMonth()]+" "+e.getFullYear()},display:function(t){this.contrat=t,this.startMonthPaying=1==t.payDebutMois,this.jour=new Date(this.contrat.date_debut).getDate();var e=this.contrat.variants[this.contrat.variants.length-1],n=new Date(e.startMonth);console.log(e.startMonth),this.$refs.anneeDebut.selecting(n.getFullYear()-2020),this.$refs.moisDebut.selecting(n.getMonth()),this.Display=!0},close:function(){this.loyer="",this.Display=!1},showYesNo:function(){this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? toutes les données du contrat seront reinitialisées")},yesNoAction:function(t){"yes"==t&&this.publish()},validation:function(){var t=new Date(this.$store.state.load.serverDate),e=new Date(this.dateDebut),n=e.getTime()-t.getTime();return""===this.loyer||this.loyer<0||isNaN(n)},addNew:function(){var t=this;if(1!=this.loading){this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"addVariant",description:this.description,montant:this.montant,dateDebut:this.$refs.anneeDebut.current.nom+"-"+(this.$refs.moisDebut.current.id+1)+"-"+this.jourDebut,contrat:this.contrat.id}).then((function(e){var n=e.data;"done"!=n?alert("Données incorrecte"):(t.DispForm=!1,t.loadData())})).catch((function(e){alert(e),t.loading=!1}))}},modify:function(){var t=this;if(1!=this.loading){this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"modifyVariant",description:this.description,montant:this.montant,dateDebut:this.$refs.anneeDebut.current.nom+"-"+(this.$refs.moisDebut.current.id+1)+"-"+this.jourDebut,id:this.contrat.variants[this.contrat.variants.length-1].id,contrat:this.contrat.id}).then((function(e){var n=e.data;t.loading=!1,"done"!=n?alert("Date de début incorrecte"):(t.DispForm=!1,t.loadData())})).catch((function(e){alert(e),t.loading=!1}))}},deleteVariant:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"deleteVariant",contrat:this.contrat.id,id:this.contrat.variants[this.contrat.variants.length-1].id}).then((function(e){var n=e.data;"done"!=n?alert("Impossible de supprimer"):(t.DispForm=!1,t.loadData())})).catch((function(e){alert(e),t.loading=!1}))},avantFin:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"avantFinVariant",debutMois:this.startMonthPaying?1:0,contrat:this.contrat.id}).then((function(){t.DispForm=!1,t.loadData()})).catch((function(e){alert(e),t.loading=!1}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}}};const Wn=c()(Rn,[["render",Jn]]);var qn=Wn,Gn={name:"locataire",components:{EditMenu:Nt,YesNo:wn,YAlert:ye,ModifyLocataire:qn,LLoading1:et["a"]},data:function(){return{loading:!1,menu:["Modifier","Supprimer","Arreter"],locataire:[],contrats:[],ctr:[],variants:[],expirations:{}}},methods:{balanceColor:function(t){return"black"},setLocataire:function(){var t,e=this.$store.state.load.locataires,n=this.$route.params.locId,a=e.length;for(t=0;t<a;t++)if(e[t].id==n){this.locataire=e[t];break}this.setContrat(),this.setVariant()},setContrat:function(){var t,e=this.$store.state.load.contrats,n=[],a=e.length;for(t=0;t<a;t++)e[t].locataire===this.locataire.id&&n.push(e[t]);for(this.contrats=n,t=0;t<n.length;t++)this.setVariant(n[t].id,t),this.setBalance(n[t]),this.expiration(n[t],t)},setVariant:function(t,e){var n,a=this.$store.state.load.variants,i=[],o=a.length;for(n=0;n<o;n++)a[n].contrat===t&&i.push(a[n]);this.contrats[e]=Object(Bt["a"])(Object(Bt["a"])({},this.contrats[e]),{},{variants:i})},select:function(t){this.$refs.menu.Display=!1,"Modifier"===t?this.$refs.modifier.display(this.ctr):"Supprimer"===t?this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? C'est une opération critique"):"Arreter"===t&&this.$refs.yesNo1.display("Voulez vous vraiment arreter le contrat ? C'est une opération critique")},showMenu:function(t){!1===this.$refs.menu.Display&&(this.$refs.menu.Display=!0,this.ctr=t)},yesNoAction:function(t){"yes"==t&&this.delete()},yesNoAction1:function(t){"yes"==t&&this.stopContrat()},delete:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{id:this.ctr.id,type:"delete"}).then((function(e){var n=e.data;console.log(n),t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))},stopContrat:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{id:this.ctr.id,type:"stop"}).then((function(e){var n=e.data;console.log(n),t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait!")})).catch((function(t){console.log(t)}))},dateFormat:function(t){var e=new Date(t),n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,i+" "+this.$store.state.mois[a-1]+" "+n},endMonth:function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0);return e},nextMonth:function(t,e){t.setDate(1),t.setMonth(t.getMonth()+1);var n=this.endMonth(t);return n.getDate()<e?t=n:t.setDate(e),t},previousMonth:function(t,e){t.setDate(1),t.setMonth(t.getMonth()-1);var n=this.endMonth(t);return n.getDate()<e?t=n:t.setDate(e),t},setBalance:function(t){var e=new Date(this.$store.state.load.serverDate);e.setHours(23,59,59,0);var n=new Date(t.stopped),a=n.getTime()<this.maxTime?n.getTime():e.getTime(),i=new Date(t.date_debut);i.setHours(0,0,0,0);var o=i.getDate();i=1==t.payDebutMois?this.previousMonth(i,o):i;var s=0,c=!0,r=new Date(i);while(c){if(r=this.nextMonth(r,o),r.getTime()>a){c=!1;break}s++}t.newBalance=t.totalPayer-s*t.loyer+t.totalCharge-this.setTotalVariant(t,a,i)},setTotalVariant:function(t,e,n){var a=new Date(n),i=a.getDate(),o=0,s=0,c=t.variants,r=t.variants.length;for(s=0;s<r;s++){var l=s==r-1?new Date("2100-1-1"):new Date(c[s+1].startMonth);if(l.setHours(23,59,59,0),a.getTime()>e)break;s>0&&(a=this.previousMonth(a,i));var u=!0;while(u){if(a=this.nextMonth(a,i),a.getTime()>l.getTime()||a.getTime()>e){u=!1;break}o+=c[s].montant}}return o},expiration:function(t,e){var n=t.totalPayer+t.totalCharge,a=0,i=new Date(t.date_debut);i.setHours(0,0,0,0);var o=i.getDate();i=1==t.payDebutMois?this.previousMonth(i,o):i;var s=!0,c=new Date(i),r=new Date(i);r=this.nextMonth(r,o);while(s){if(c=this.nextMonth(c,o),a+=t.loyer+this.setTotalVariant(t,c.getTime(),i),console.log(n),a>n){s=!1;break}r=c}this.setExpirations(e,r);var l=r.getFullYear(),u=r.getMonth(),d=r.getDate();d=d<10?"0"+d:d,t.expirationDate=d+" "+this.$store.state.mois[u]+" "+l},setExpirations:function(t,e){if("undefined"===typeof this.expirations[t]){this.expirations[t]={expDate:e,index:t,value:0};var n=this;setInterval((function(){var a=new Date,i=e.getTime()-a.getTime();if(i<0)n.expirations[t].value="0jrs:0h:0m:0s";else{var o,s=i,c=864e5,r=Math.floor(i/c);s-=r*c;var l=Math.floor(s/36e5);s-=60*l*60*1e3;var u=Math.floor(s/6e4);s-=60*u*1e3;var d=Math.floor(s/1e3);o=r+"jrs:"+l+"h:"+u+"m:"+(d<10?"0"+d:d)+"s",n.expirations[t].value=o}}),1e3)}}},watch:{"$store.state.load.locataires":function(){this.setLocataire()},"$store.state.load.contrats":function(){this.setLocataire()}},mounted:function(){this.setLocataire()}};n("e83f");const Xn=c()(Gn,[["render",vn]]);var Kn=Xn,Qn=n("709f"),Zn=n.n(Qn),ta={class:"cite"},ea={style:{"z-index":"1"},class:"lPBFCTitle"},na=Object(a["g"])("img",{src:st.a},null,-1),aa=[na],ia={class:"citeBody"},oa={class:"citeElImg"},sa=["onClick"],ca=["onClick"],ra={class:"citeElName"},la={style:{color:"rgb(255, 0, 76)"}},ua={class:"citeMButton"},da=["onClick"],pa={class:"citePlus"};function ba(t,e,n,i,o,s){var c=Object(a["B"])("CiteForm"),r=Object(a["B"])("EditMenu"),l=Object(a["B"])("YAlert"),u=Object(a["B"])("LLoading1"),d=Object(a["B"])("YesNo"),b=Object(a["B"])("CiteInfo");return Object(a["v"])(),Object(a["f"])("div",ta,[Object(a["g"])("div",ea,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){t.$router.go(-1)})},aa),Object(a["i"])(" MES CITES ")]),Object(a["g"])("div",ia,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.cites,(function(e,n){return Object(a["v"])(),Object(a["f"])("div",{key:n,class:"citeElement"},[Object(a["g"])("div",oa,[Object(a["g"])("img",{onClick:function(e){return t.toChambres(n)},src:p.a},null,8,sa)]),Object(a["g"])("div",{onClick:function(e){return t.toChambres(n)}},[Object(a["g"])("span",ra,Object(a["D"])(e.nom),1),Object(a["g"])("span",la,Object(a["D"])(e.nbrChambre)+" Chambres",1)],8,ca),Object(a["L"])(Object(a["g"])("div",ua,[Object(a["g"])("img",{onClick:function(n){return t.showMenu(e)},src:Zn.a},null,8,da)],512),[[a["J"],"superuser"===t.$store.state.login.role]])])})),128)),Object(a["L"])(Object(a["g"])("div",pa,[Object(a["g"])("img",{onClick:e[1]||(e[1]=function(e){return t.showForm("add")}),src:ut.a})],512),[[a["J"],"superuser"===t.$store.state.login.role]])]),Object(a["j"])(c,{style:{"z-index":"3"},ref:"form",info:t.current},null,8,["info"]),Object(a["j"])(r,{elements:t.menu,onSelect:t.select,ref:"menu"},null,8,["elements","onSelect"]),Object(a["j"])(l,{ref:"yAlertS",type:"success"},null,512),Object(a["j"])(u,{visible:t.loading},null,8,["visible"]),Object(a["j"])(d,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"]),Object(a["j"])(b,{ref:"citeInfo"},null,512)])}var ma={class:"lPblicationForm"},ga={class:"lPBFCTitle"},ha=Object(a["g"])("img",{src:st.a},null,-1),fa=[ha],ja={class:"lPBFCBody"},Oa={class:"lPBFCinput"},va=Object(a["g"])("span",null,"nom",-1),ya={class:"lPBFCinput"},Da=Object(a["g"])("span",null,"Lieu",-1),Ca={class:"lPBFCinput lPBFCText"},Ba=Object(a["g"])("span",null,"Desciption",-1),$a={class:"lPBFCButton"};function wa(t,e,n,i,o,s){var c=Object(a["B"])("LLoading1"),r=Object(a["B"])("YAlert");return Object(a["L"])((Object(a["v"])(),Object(a["f"])("section",ma,[Object(a["g"])("div",ga,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},fa),Object(a["i"])(" "+Object(a["D"])(t.title),1)]),Object(a["g"])("div",ja,[Object(a["g"])("div",Oa,[va,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.nom=e})},null,512),[[a["I"],t.nom]])]),Object(a["g"])("div",ya,[Da,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.location=e})},null,512),[[a["I"],t.location]])]),Object(a["g"])("div",Ca,[Ba,Object(a["L"])(Object(a["g"])("textarea",{"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.description=e})},null,512),[[a["I"],t.description]])]),Object(a["g"])("div",$a,[Object(a["g"])("span",{onClick:e[4]||(e[4]=function(){return t.publish&&t.publish.apply(t,arguments)})},"Enregistrer")])]),Object(a["j"])(c,{visible:t.loading},null,8,["visible"]),Object(a["j"])(r,{ref:"yAlert"},null,512),Object(a["j"])(r,{onClosed:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClosed"])],512)),[[a["J"],t.Display]])}var La={name:"citeForm",components:{LDropDown:ue,LLoading1:et["a"],YAlert:ye,ImageUploader:De["a"]},props:{info:Object},data:function(){return{type:"add",Display:!1,loading:!1,nom:"",location:"",description:""}},computed:{title:function(){return"add"===this.type?"Ajouter une cité":"Modifier cité "+this.info.nom}},methods:{display:function(t){"modify"===t&&(this.nom=this.info.nom,this.location=this.info.location,this.description=this.info.description),this.type=t,this.Display=!0},close:function(){this.$refs.yAlertS.Display=!1,this.$refs.yAlert.Display=!1,this.nom="",this.location="",this.description="",this.Display=!1},publish:function(){"add"===this.type?this.addCite():this.modifyCite()},validation:function(){return""===this.nom},addCite:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez entrer au moins le nom!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"cites.php",{type:"add",nom:this.nom,location:this.location,description:this.description}).then((function(e){var n=e.data;"exist"===n?(t.loading=!1,t.$refs.yAlert.display("Le nom est déja utilisé!")):t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))}},modifyCite:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez entrer au moins le nom!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"cites.php",{type:"modify",id:this.info.id,nom:this.nom,location:this.location,description:this.description}).then((function(e){var n=e.data;"exist"===n?(t.loading=!1,t.$refs.yAlert.display("Le nom est déja utilisé!")):t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}}};const Fa=c()(La,[["render",wa]]);var xa=Fa,Pa={class:"editMEMenuC"},Ma=Object(a["g"])("img",{src:wt.a},null,-1),Aa=[Ma];function Ia(t,e,n,i,o,s){return Object(a["L"])((Object(a["v"])(),Object(a["f"])("div",Pa,[Object(a["g"])("span",null,"Nom: "+Object(a["D"])(o.cite.nom),1),Object(a["g"])("span",null,"Lieu: "+Object(a["D"])(o.cite.location),1),Object(a["g"])("span",null,"Description: "+Object(a["D"])(o.cite.description),1),Object(a["g"])("div",{onClick:e[0]||(e[0]=function(t){return o.Display=!1}),class:"editMEMCloseC"},Aa)],512)),[[a["J"],o.Display]])}var ka={name:"yAlert",props:{elements:Array},data:function(){return{Display:!1,cite:[]}},methods:{display:function(t){this.Display=!0,this.cite=t}}};n("38f9");const Na=c()(ka,[["render",Ia]]);var Sa=Na,Ta={name:"cites",components:{CiteForm:xa,EditMenu:Nt,YAlert:ye,LLoading1:et["a"],YesNo:Me,CiteInfo:Sa},data:function(){return{loading:!1,cites:this.$store.state.load.cites,current:[],menu:["Modifier","Supprimer","Infos"]}},methods:{select:function(t){this.$refs.menu.Display=!1,"Modifier"===t?this.showForm("modify"):"Supprimer"===t?this.$refs.yesNo.display(this.current.nom):"Infos"===t&&this.$refs.citeInfo.display(this.current)},showMenu:function(t){!1===this.$refs.menu.Display&&(this.$refs.menu.Display=!0,this.current=t)},showForm:function(t){this.$refs.form.display(t)},yesNoAction:function(t){"yes"==t&&this.delete()},delete:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"cites.php",{type:"delete",id:this.current.id}).then((function(){t.loadData()})).catch((function(t){console.log(t)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait !")})).catch((function(t){console.log(t)}))},toChambres:function(t){this.$router.push({name:"chambres",params:{citeKey:t}})}},watch:{"$store.state.load.cites":function(){this.cites=this.$store.state.load.cites}},mounted:function(){this.cites=this.$store.state.load.cites}};n("0160");const Ea=c()(Ta,[["render",ba]]);var Ua=Ea,_a=n("ef2b"),za=n.n(_a),Va=n("b12c"),Ya=n.n(Va),Ha={class:"chambre"},Ja={style:{"z-index":"1"},class:"lPBFCTitle"},Ra=Object(a["g"])("img",{src:st.a},null,-1),Wa=[Ra],qa={class:"chambreBody"},Ga={class:"chambreElImg"},Xa=["onClick"],Ka=["onClick"],Qa={class:"chambreElN"},Za={class:"chambreElName"},ti={class:"chambreMButton"},ei=["onClick"],ni={class:"chambrePlus"};function ai(t,e,n,i,o,s){var c=Object(a["B"])("ChambForm"),r=Object(a["B"])("EditMenu"),l=Object(a["B"])("YAlert"),u=Object(a["B"])("LLoading1"),d=Object(a["B"])("YesNo"),p=Object(a["B"])("Chambre");return Object(a["v"])(),Object(a["f"])("div",Ha,[Object(a["g"])("div",Ja,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){t.$router.go(-1)})},Wa),Object(a["i"])(" Chambres ( "+Object(a["D"])(t.cite.nom)+" ) ",1)]),Object(a["g"])("div",qa,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.chambres,(function(e,n){return Object(a["v"])(),Object(a["f"])("div",{key:n,class:"chambreElement"},[Object(a["g"])("div",Ga,[Object(a["g"])("img",{onClick:function(n){return t.toChambre(e)},src:za.a},null,8,Xa)]),Object(a["g"])("div",{onClick:function(n){return t.toChambre(e)}},[Object(a["g"])("span",Qa,[Object(a["g"])("span",Za,Object(a["D"])(e.nom),1),Object(a["g"])("span",null,Object(a["D"])(t.getLocataire(e.id)),1)]),Object(a["g"])("div",null,[Object(a["g"])("span",{style:Object(a["r"])({backgroundColor:t.setColor(e.occupied)})},null,4)])],8,Ka),Object(a["L"])(Object(a["g"])("div",ti,[Object(a["g"])("img",{onClick:function(n){return t.showMenu(e)},src:Ya.a},null,8,ei)],512),[[a["J"],"superuser"===t.$store.state.login.role]])])})),128)),Object(a["L"])(Object(a["g"])("div",ni,[Object(a["g"])("img",{onClick:e[1]||(e[1]=function(e){return t.showForm("add")}),src:ut.a})],512),[[a["J"],"superuser"===t.$store.state.login.role]])]),Object(a["j"])(c,{style:{"z-index":"3"},ref:"form",info:t.current,cite:[t.cite]},null,8,["info","cite"]),Object(a["j"])(r,{elements:t.menu,onSelect:t.select,ref:"menu"},null,8,["elements","onSelect"]),Object(a["j"])(l,{ref:"yAlertS",type:"success"},null,512),Object(a["j"])(u,{visible:t.loading},null,8,["visible"]),Object(a["j"])(u,{visible:t.$store.state.load.loading},null,8,["visible"]),Object(a["j"])(d,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"]),Object(a["j"])(p,{ref:"chambre"},null,512)])}var ii={class:"lPblicationForm"},oi={style:{"z-index":"2"},class:"lPBFCTitle"},si=Object(a["g"])("img",{src:st.a},null,-1),ci=[si],ri={class:"lPBFCBody"},li={class:"lPBFCinput"},ui=Object(a["g"])("span",null,"nom",-1),di={class:"lPBFCinput"},pi=Object(a["g"])("span",null,"Lieu",-1),bi={class:"lPBFCinput"},mi=Object(a["g"])("span",null,"Cité",-1),gi={class:"lPBFCinput"},hi=Object(a["g"])("span",null,"Loyer par défaut",-1),fi={class:"lPBFCinput lPBFCText"},ji=Object(a["g"])("span",null,"Desciption",-1),Oi=Object(a["g"])("span",null,"Enregistrer",-1),vi=[Oi];function yi(t,e,n,i,o,s){var c=Object(a["B"])("LDropDown"),r=Object(a["B"])("LLoading1"),l=Object(a["B"])("YAlert");return Object(a["L"])((Object(a["v"])(),Object(a["f"])("section",ii,[Object(a["g"])("div",oi,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},ci),Object(a["i"])(" "+Object(a["D"])(t.title),1)]),Object(a["g"])("div",ri,[Object(a["g"])("div",li,[ui,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.nom=e})},null,512),[[a["I"],t.nom]])]),Object(a["g"])("div",di,[pi,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.location=e})},null,512),[[a["I"],t.location]])]),Object(a["g"])("div",bi,[mi,Object(a["j"])(c,{style:{"z-index":"0"},ref:"cite",elements:t.cite,maxHeight:"60px",maxWidth:"100%"},null,8,["elements"])]),Object(a["g"])("div",gi,[hi,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.loyerParDefaut=e})},null,512),[[a["I"],t.loyerParDefaut]])]),Object(a["g"])("div",fi,[ji,Object(a["L"])(Object(a["g"])("textarea",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.description=e})},null,512),[[a["I"],t.description]])]),Object(a["g"])("div",{class:"lPBFCButton",onClick:e[5]||(e[5]=function(){return t.publish&&t.publish.apply(t,arguments)})},vi)]),Object(a["j"])(r,{visible:t.loading},null,8,["visible"]),Object(a["j"])(l,{ref:"yAlert"},null,512),Object(a["j"])(l,{onClosed:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClosed"])],512)),[[a["J"],t.Display]])}var Di={name:"chambForm",components:{LDropDown:ue,LLoading1:et["a"],YAlert:ye,ImageUploader:De["a"]},props:{info:Object,cite:{type:Array,default:[{nom:""}]}},data:function(){return{type:"add",Display:!1,loading:!1,nom:"",location:"",loyerParDefaut:null,description:""}},computed:{title:function(){return"add"===this.type?"Ajouter une chambre":"Modifier chambre "+this.info.nom}},methods:{display:function(t){"modify"===t&&(this.nom=this.info.nom,this.location=this.info.location,this.loyerParDefaut=this.info.loyerParDefaut,this.description=this.info.description),this.type=t,this.Display=!0},close:function(){this.$refs.yAlertS.Display=!1,this.$refs.yAlert.Display=!1,this.nom="",this.location="",this.loyerParDefaut=1e4,this.description="",this.Display=!1},publish:function(){"add"===this.type?this.addChambre():this.modifyChambre()},validation:function(){return""===this.nom||"undefined"===typeof this.$refs.cite.current},addChambre:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Choissisez au moins un nom et une cité!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"chambres.php",{type:"add",nom:this.nom,location:this.location,cite:this.$refs.cite.current.id,loyerParDefaut:this.loyerParDefaut,description:this.description}).then((function(e){"exist"===e.data?(t.loading=!1,t.$refs.yAlert.display("Le nom est déja utilisé!")):t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))}},modifyChambre:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez entrer au moins le nom!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"chambres.php",{type:"modify",id:this.info.id,nom:this.nom,location:this.location,loyerParDefaut:this.loyerParDefaut,description:this.description}).then((function(e){"exist"===e.data?(t.loading=!1,t.$refs.yAlert.display("Le nom est déja utilisé!")):t.loadData()})).catch((function(e){console.log(e),t.loading=!1}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}}};const Ci=c()(Di,[["render",yi]]);var Bi=Ci,$i={class:"chambre1"},wi={style:{"z-index":"1"},class:"lPBFCTitle"},Li=Object(a["g"])("img",{src:st.a},null,-1),Fi=[Li],xi={class:"chambre1Body"},Pi={class:"chambre1Nom"},Mi=Object(a["g"])("div",null,"Nom Chambre",-1),Ai=Object(a["g"])("div",null,"Identifiant",-1),Ii=Object(a["g"])("div",null,"Description",-1),ki=Object(a["g"])("div",null,"Lieu",-1),Ni=Object(a["g"])("div",null,"Cite",-1),Si=Object(a["g"])("div",null,"Prix par défaut",-1),Ti=Object(a["g"])("div",null,"Occupant",-1),Ei=Object(a["g"])("span",null," Aucun ",-1),Ui=[Ti,Ei],_i=Object(a["g"])("div",null,"Occupant",-1);function zi(t,e,n,i,o,s){return Object(a["L"])((Object(a["v"])(),Object(a["f"])("div",$i,[Object(a["g"])("div",wi,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.goBack&&t.goBack.apply(t,arguments)})},Fi),Object(a["i"])(" CHAMBRE: "+Object(a["D"])(t.chambre.nom),1)]),Object(a["g"])("div",xi,[Object(a["g"])("div",Pi,[Mi,Object(a["g"])("span",null,Object(a["D"])(t.chambre.nom),1)]),Object(a["g"])("div",null,[Ai,Object(a["i"])(),Object(a["g"])("span",null,Object(a["D"])(t.chambre.id),1)]),Object(a["g"])("div",null,[Ii,Object(a["i"])(),Object(a["g"])("span",null,Object(a["D"])(""==t.chambre.description?"Aucune":t.chambre.description),1)]),Object(a["g"])("div",null,[ki,Object(a["i"])(),Object(a["g"])("span",null,Object(a["D"])(""==t.chambre.location?"Non spécifié":t.chambre.location),1)]),Object(a["g"])("div",null,[Ni,Object(a["i"])(),Object(a["g"])("span",null,Object(a["D"])(t.cite.nom),1)]),Object(a["g"])("div",null,[Si,Object(a["i"])(),Object(a["g"])("span",null,Object(a["D"])(null==t.chambre.loyerParDefaut?"Non spécifié":t.chambre.loyerParDefaut+" FCFA"),1)]),Object(a["L"])(Object(a["g"])("div",null,Ui,512),[[a["J"],0==t.chambre.occupied]]),Object(a["L"])(Object(a["g"])("div",null,[_i,Object(a["g"])("span",{onClick:e[1]||(e[1]=function(e){return t.toLocataire(t.contrat.locataire)}),style:{color:"rgb(10,10,244)"}},Object(a["D"])(t.contrat.locataireNom)+" "+Object(a["D"])(t.contrat.locatairePrenom),1)],512),[[a["J"],1==t.chambre.occupied]])])],512)),[[a["J"],t.Display]])}var Vi={name:"chambre",data:function(){return{Display:!1,chambre:[],cite:[],contrat:[{locataireNom:"Aucun"}]}},methods:{goBack:function(){this.Display=!1},toLocataire:function(t){this.$router.push({name:"locataire",params:{locId:t}})},display:function(t){this.chambre=t,this.getCite(),this.contrat=this.getContrat(this.chambre.id),this.Display=!0},getCite:function(){var t,e=this.$store.state.load.cites,n=e.length;for(t=0;t<n;t++)if(e[t].id===this.chambre.cite){this.cite=e[t];break}},getContrat:function(t){var e,n=this.$store.state.load.contrats,a=n.length;for(e=0;e<a;e++)if(n[e].chambre===t)return n[e];return""}}};n("da4a");const Yi=c()(Vi,[["render",zi]]);var Hi=Yi,Ji={name:"chambres",components:{ChambForm:Bi,EditMenu:Nt,YAlert:ye,LLoading1:et["a"],YesNo:Me,Chambre:Hi},data:function(){return{loading:!1,chambres:[{id:1,nom:"chambre A",location:"derrierre boutique",description:"3 pieces",loyerParDefaut:222222},{id:1,nom:"chambre Dagobergo",location:"derrierre boutique",description:"3 pieces"},{id:1,nom:"chamb",location:"derrierre boutique",description:"3 pieces"}],current:[],menu:["Modifier","Supprimer"],cite:[]}},methods:{select:function(t){this.$refs.menu.Display=!1,"Modifier"===t?this.showForm("modify"):"Supprimer"===t&&this.$refs.yesNo.display(this.current.nom)},showMenu:function(t){!1===this.$refs.menu.Display&&(this.$refs.menu.Display=!0,this.current=t)},showForm:function(t){this.$refs.form.display(t)},yesNoAction:function(t){"yes"==t&&this.delete()},delete:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"chambres.php",{type:"delete",id:this.current.id}).then((function(){t.loadData()})).catch((function(e){t.loading=!1,console.log(e)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait !")})).catch((function(t){console.log(t)}))},setColor:function(t){return 0==t?"rgb(10,244,10)":"rgb(244,10,10)"},setChambres:function(){var t=this.$route.params.citeKey,e=this.$store.state.load.cites;this.cite=e[t];var n,a=this.$store.state.load.chambres,i=[],o=a.length;for(n=0;n<o;n++)a[n].cite===this.cite.id&&i.push(a[n]);this.chambres=i},toChambre:function(t){this.$refs.chambre.display(t)},getLocataire:function(t){var e=this.getContrat(t);return e.locataireNom},getContrat:function(t){var e,n=this.$store.state.load.contrats,a=n.length;for(e=0;e<a;e++)if(n[e].chambre===t)return n[e];return{locataireNom:"aucun"}}},watch:{"$store.state.load.chambres":function(){this.setChambres()}},mounted:function(){this.setChambres()}};n("ac03");const Ri=c()(Ji,[["render",ai]]);var Wi=Ri,qi=n("6932"),Gi=n.n(qi),Xi={class:"welcome"},Ki=Object(a["g"])("div",{class:"welImage"},[Object(a["g"])("img",{src:Gi.a})],-1),Qi={class:"welContinuer"},Zi=Object(a["g"])("div",{class:"welMessage"},[Object(a["g"])("span",null,"Logiciel de gestion de cité.@copyright Mr xxxxx")],-1);function to(t,e,n,i,o,s){var c=Object(a["B"])("LLoading1");return Object(a["v"])(),Object(a["f"])("div",Xi,[Ki,Object(a["g"])("div",Qi,[Object(a["g"])("span",{onClick:e[0]||(e[0]=function(){return t.toLogin&&t.toLogin.apply(t,arguments)})},"Continuer")]),Zi,Object(a["j"])(c,{visible:!t.$store.state.load.loading},null,8,["visible"])])}var eo={name:"welcome",components:{LLoading1:et["a"]},methods:{toLogin:function(){this.$router.push("login")}}};n("7734");const no=c()(eo,[["render",to]]);var ao=no,io=n("902a"),oo=n.n(io),so=n("74f3"),co=n.n(so),ro=n("5a42"),lo=n.n(ro),uo={class:"login"},po=Object(a["g"])("div",{class:"logBg2"},[Object(a["g"])("img",{src:oo.a})],-1),bo=Object(a["g"])("div",{class:"logBg1"},[Object(a["g"])("img",{src:co.a})],-1),mo={class:"logBody"},go=Object(a["g"])("div",{class:"logUser"},[Object(a["g"])("img",{src:lo.a})],-1),ho={class:"logInput"},fo={class:"logInput"},jo={style:{color:"red"}},Oo={class:"logButton"};function vo(t,e,n,i,o,s){return Object(a["v"])(),Object(a["f"])("div",uo,[po,bo,Object(a["g"])("div",mo,[go,Object(a["g"])("div",ho,[Object(a["i"])("Identifiant :"),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.login=e}),type:"text"},null,512),[[a["I"],t.login]])]),Object(a["g"])("div",fo,[Object(a["i"])("Mot de passe :"),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.password=e}),type:"password"},null,512),[[a["I"],t.password]])]),Object(a["L"])(Object(a["g"])("span",jo,"Erreur, connexion impossible",512),[[a["J"],t.erreur]]),Object(a["g"])("div",Oo,[Object(a["g"])("span",{onClick:e[2]||(e[2]=function(){return t.validate&&t.validate.apply(t,arguments)})},"Valider")])])])}var yo={name:"welcome",data:function(){return{erreur:!1,login:"",password:""}},methods:{validate:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"log",tel:this.login,password:this.password}).then((function(e){var n=e.data;"nothing"!==n?(t.$store.commit("loginCommit",n),t.$router.push("menu")):t.erreur=!0})).catch((function(t){console.log(t)}))}}};n("303b");const Do=c()(yo,[["render",vo]]);var Co=Do,Bo={class:"lPblicationForm"},$o={class:"lPBFCTitle"},wo=Object(a["g"])("img",{src:st.a},null,-1),Lo=[wo],Fo={class:"lPBFCBody"},xo={class:"lPBFCImage"},Po=Object(a["g"])("span",{class:"lPBFCIadd"},"Choisir une image",-1),Mo={class:"custom-file-upload"},Ao=Object(a["g"])("img",{src:Tt.a},null,-1),Io=Object(a["g"])("div",null,[Object(a["g"])("img",{id:"lPbblah1",class:"lPbblah"})],-1),ko={class:"lPBFCinput"},No=Object(a["g"])("span",null,"Nom",-1),So={class:"lPBFCinput"},To=Object(a["g"])("span",null,"Prénom",-1),Eo={class:"lPBFCinput"},Uo=Object(a["g"])("span",null,"Tel1",-1),_o={class:"lPBFCinput"},zo=Object(a["g"])("span",null,"Tel2",-1),Vo={class:"lPBFCinput"},Yo=Object(a["g"])("span",null,"Age",-1),Ho={class:"lPBFCinput"},Jo=Object(a["g"])("span",null,"Sexe",-1),Ro={class:"lPBFCinput"},Wo=Object(a["g"])("span",null,"Situation",-1),qo=Object(a["g"])("span",null,"Enregistrer",-1),Go=[qo];function Xo(t,e,n,i,o,s){var c=Object(a["B"])("ImageUploader"),r=Object(a["B"])("LDropDown"),l=Object(a["B"])("LLoading1"),u=Object(a["B"])("YAlert");return Object(a["v"])(),Object(a["f"])("section",Bo,[Object(a["g"])("div",$o,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.push("/locataires")})},Lo),Object(a["i"])(" Ajouter un Locataire ")]),Object(a["g"])("div",Fo,[Object(a["g"])("div",xo,[Po,Object(a["g"])("label",Mo,[Object(a["j"])(c,{ref:"imUploader",debug:1,maxWidth:512,maxHeight:512,autoRotate:!0,quality:1,outputFormat:"blob",preview:!1,onInput:t.preview},null,8,["onInput"]),Ao])]),Io,Object(a["g"])("div",ko,[No,Object(a["L"])(Object(a["g"])("textarea",{class:"lPBFCinputStyle","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.nom=e})},null,512),[[a["I"],t.nom]])]),Object(a["g"])("div",So,[To,Object(a["L"])(Object(a["g"])("textarea",{class:"lPBFCinputStyle","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.prenom=e})},null,512),[[a["I"],t.prenom]])]),Object(a["g"])("div",Eo,[Uo,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.tel1=e})},null,512),[[a["I"],t.tel1]])]),Object(a["g"])("div",_o,[zo,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.tel2=e})},null,512),[[a["I"],t.tel2]])]),Object(a["g"])("div",Vo,[Yo,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[5]||(e[5]=function(e){return t.age=e})},null,512),[[a["I"],t.age]])]),Object(a["g"])("div",Ho,[Jo,Object(a["j"])(r,{style:{"z-index":"1"},ref:"sexe",elements:t.sexe,maxHeight:"110px",maxWidth:"100%"},null,8,["elements"])]),Object(a["g"])("div",Ro,[Wo,Object(a["j"])(r,{style:{"z-index":"0"},ref:"situation",elements:t.elements,maxHeight:"110px",maxWidth:"100%"},null,8,["elements"])]),Object(a["g"])("div",{class:"lPBFCButton",onClick:e[6]||(e[6]=function(){return t.sendImage&&t.sendImage.apply(t,arguments)})},Go)]),Object(a["j"])(l,{visible:t.loading},null,8,["visible"]),Object(a["j"])(u,{style:{"z-index":"2"},ref:"yAlert"},null,512),Object(a["j"])(u,{style:{"z-index":"2"},onClosed:e[7]||(e[7]=function(e){return t.$router.push("/locataires")}),ref:"yAlertS",type:"sucess"},null,512)])}var Ko={name:"locatForm",components:{LDropDown:ue,LLoading1:et["a"],YAlert:ye,ImageUploader:De["a"]},data:function(){return{loading:!1,elements:[{nom:"Célibataire"},{nom:"Marié"},{nom:"En couple"}],sexe:[{nom:"Homme"},{nom:"Femme"}],nom:"",prenom:"",tel1:"",tel2:"",age:"",file:"",imageName:""}},methods:{displaying:function(){document.getElementById("lPbblah1").src=""},preview:function(t){t&&(this.file=t,document.getElementById("lPbblah1").src=URL.createObjectURL(t))},sendImage:function(){var t=this;if(this.validation())this.$refs.yAlert.display("veuillez remplir tous les champs importants");else{var e=n("bc3a"),a=new FormData;this.file?(a.append("image_name",this.file),e.post(this.$store.state.baseUrl+"saveLocImg.php",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),"Error"===e.data?(t.loading=!1,t.$refs.yAlert.display(e.data)):(t.imageName=e.data,t.publishing())})).catch((function(t){console.log(t)}))):this.publishing()}},validation:function(){var t=""===this.nom||""===this.prenom||""===this.tel1;return t},publishing:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"saveLocataire.php",{nom:this.nom,prenom:this.prenom,tel1:this.tel1,tel2:this.tel2,age:this.age,image:this.imageName,sexe:this.$refs.sexe.current.nom,situation:this.$refs.situation.current.nom}).then((function(e){var n=e.data;"exist"===n?(t.loading=!1,t.$refs.yAlert.display("Le nom est déja utilisé!")):t.loadData()})).catch((function(t){alert(t)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}}};const Qo=c()(Ko,[["render",Xo]]);var Zo=Qo,ts={class:"lPblicationForm"},es={style:{"z-index":"3"},class:"lPBFCTitle"},ns=Object(a["g"])("img",{src:st.a},null,-1),as=[ns],is={class:"lPBFCBody"},os={class:"lPBFCinput"},ss=Object(a["g"])("span",null,"Locataire",-1),cs={class:"lPBFCinput"},rs=Object(a["g"])("span",null,"Cite",-1),ls={class:"lPBFCinput"},us=Object(a["g"])("span",null,"Chambre",-1),ds={class:"lPBFCinput"},ps=Object(a["g"])("span",null,"Loyer par mois",-1),bs={class:"lPBFCinput"},ms=Object(a["g"])("span",null,"Charges",-1),gs={class:"lPBFCinput"},hs=Object(a["g"])("span",null,"Description desharges",-1),fs={class:"lPBFCinput"},js=Object(a["g"])("span",null,"Paye en début de mois",-1),Os={class:"lPBFCinput"},vs=Object(a["g"])("span",null,"Date début",-1),ys=Object(a["g"])("span",null,"Enregistrer",-1),Ds=[ys];function Cs(t,e,n,i,o,s){var c=Object(a["B"])("LDropDown"),r=Object(a["B"])("LLoading1"),l=Object(a["B"])("YAlert"),u=Object(a["B"])("YesNo");return Object(a["v"])(),Object(a["f"])("section",ts,[Object(a["g"])("div",es,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},as),Object(a["i"])(" Créer Nouveau contrat ")]),Object(a["g"])("div",is,[Object(a["g"])("div",os,[ss,Object(a["j"])(c,{style:{"z-index":"2"},ref:"locataire",elements:t.locataires,maxHeight:"110px",maxWidth:"100%"},null,8,["elements"])]),Object(a["g"])("div",cs,[rs,Object(a["j"])(c,{onSelected:t.setChambres,style:{"z-index":"1"},elements:t.cites,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(a["g"])("div",ls,[us,Object(a["j"])(c,{onSelected:t.setPrice,style:{"z-index":"0"},ref:"chambre",elements:t.chambres,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(a["g"])("div",ds,[ps,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.loyer=e})},null,512),[[a["I"],t.loyer]])]),Object(a["g"])("div",bs,[ms,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.charges=e})},null,512),[[a["I"],t.charges]])]),Object(a["g"])("div",gs,[hs,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",placeholder:"ex: eau, cable, aucune",type:"text","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.descripCharges=e})},null,512),[[a["I"],t.descripCharges]])]),Object(a["g"])("div",fs,[js,Object(a["L"])(Object(a["g"])("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.startMonthPaying=e})},null,512),[[a["F"],t.startMonthPaying]])]),Object(a["g"])("div",Os,[vs,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"date","onUpdate:modelValue":e[5]||(e[5]=function(e){return t.dateDebut=e})},null,512),[[a["I"],t.dateDebut]])]),Object(a["g"])("div",{class:"lPBFCButton",onClick:e[6]||(e[6]=function(e){return t.showYesNo()})},Ds)]),Object(a["j"])(r,{visible:t.loading},null,8,["visible"]),Object(a["j"])(l,{ref:"yAlert"},null,512),Object(a["j"])(l,{onClosed:e[7]||(e[7]=function(e){return t.$router.go(-1)}),ref:"yAlertS",type:"sucess"},null,512),Object(a["j"])(u,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var Bs={name:"contratForm",components:{LDropDown:ue,LLoading1:et["a"],YAlert:ye,YesNo:wn,ImageUploader:De["a"]},data:function(){return{loading:!1,locataires:0==this.$store.state.load.locataires.length?[{nom:""}]:this.$store.state.load.locataires,cites:0==this.$store.state.load.cites.length?[{nom:""}]:this.$store.state.load.cites,chambres:[{nom:""}],loyer:0,dateDebut:"",charges:0,descripCharges:"",startMonthPaying:!1}},methods:{validation:function(){var t=new Date(this.$store.state.load.serverDate),e=new Date(this.dateDebut),n=e.getTime()-t.getTime(),a=this.loyer<0||""===this.loyer||""===this.$refs.chambre.current.nom||isNaN(n);return""==this.charges&&(this.charges=0),a},showYesNo:function(){this.$refs.yesNo.Display=!0},yesNoAction:function(t){"yes"==t&&this.publishing()},setChambres:function(t){var e,n=this.$store.state.load.cites,a=n[t],i=this.$store.state.load.chambres,o=[],s=i.length;for(e=0;e<s;e++)i[e].cite===a.id&&0==i[e].occupied&&o.push(i[e]);this.chambres=o.length>0?o:[{nom:""}],o.length>0&&this.setPrice(0)},setPrice:function(t){this.loyer=this.chambres[t].loyerParDefaut},publishing:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez remplir tous les champs!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"add",locataire:this.$refs.locataire.current.id,chambre:this.$refs.chambre.current.id,loyer:this.loyer,charges:this.charges,descripCharges:this.descripCharges,startMonthPaying:this.startMonthPaying?1:0,dateDebut:this.dateDebut}).then((function(e){"error"===e.data?(t.loading=!1,t.$refs.yAlert.display("Erreur chambre occupée!")):t.loadData()})).catch((function(t){alert(t)}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}},mounted:function(){this.setChambres(0)}};const $s=c()(Bs,[["render",Cs]]);var ws=$s,Ls={class:"lPblicationForm"},Fs={style:{"z-index":"3"},class:"lPBFCTitle"},xs=Object(a["g"])("img",{src:st.a},null,-1),Ps=[xs],Ms={class:"lPBFCBody"},As={class:"lPBFCBlock"},Is={class:"lPBFCinput"},ks=Object(a["g"])("span",null,"Locataire",-1),Ns={class:"lPBFCinput"},Ss=Object(a["g"])("span",null,"Chambre",-1),Ts={class:"lPBFCinput"},Es=Object(a["g"])("span",{style:{"font-weight":"normal"}},"Prix/mois",-1),Us={class:"lPBFCinput"},_s=Object(a["g"])("span",{style:{"font-weight":"normal"}},"Dette+solde",-1),zs={class:"lPBFCinput"},Vs=Object(a["g"])("span",{style:{"font-weight":"normal"}}," Nouvelle dette+solde",-1),Ys={class:"lPBFCinput"},Hs=Object(a["g"])("span",{style:{"font-weight":"normal"}},"Montant verser",-1),Js={class:"lPBFCinput"},Rs=Object(a["g"])("span",{style:{"font-weight":"normal"}},"date payment",-1),Ws={class:"lPBFCBlock"},qs=Object(a["g"])("span",null,"ENREGISTRER",-1),Gs=[qs];function Xs(t,e,n,i,o,s){var c=Object(a["B"])("LDropDown"),r=Object(a["B"])("LLoading1"),l=Object(a["B"])("YAlert"),u=Object(a["B"])("YesNo");return Object(a["v"])(),Object(a["f"])("section",Ls,[Object(a["g"])("div",Fs,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},Ps),Object(a["i"])(" Effectuer Un Payement ")]),Object(a["g"])("div",Ms,[Object(a["g"])("div",As,[Object(a["g"])("div",Is,[ks,Object(a["j"])(c,{onSelected:t.setChambres,style:{"z-index":"2"},ref:"locataire",elements:t.locataires,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(a["g"])("div",Ns,[Ss,Object(a["j"])(c,{onSelected:t.setPrice,style:{"z-index":"0"},ref:"chambre",elements:t.chambres,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(a["g"])("div",Ts,[Es,Object(a["g"])("p",null,Object(a["D"])(t.contrat.loyer)+"FCFA",1)]),Object(a["g"])("div",Us,[_s,Object(a["i"])(),Object(a["g"])("p",null,Object(a["D"])(t.setBalance(t.contrat))+"FCFA",1)]),Object(a["g"])("div",zs,[Vs,Object(a["g"])("p",null,Object(a["D"])(t.newBalance)+"FCFA",1)]),Object(a["g"])("div",Ys,[Hs,Object(a["L"])(Object(a["g"])("input",{id:"payToPay",class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.payment=e})},null,512),[[a["I"],t.payment]])]),Object(a["g"])("div",Js,[Rs,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"date","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.payDate=e})},null,512),[[a["I"],t.payDate]])])]),Object(a["g"])("div",Ws,[Object(a["g"])("div",{class:"lPBFCButton",onClick:e[3]||(e[3]=function(e){return t.showYesNo()})},Gs)])]),Object(a["j"])(r,{visible:t.loading},null,8,["visible"]),Object(a["j"])(l,{ref:"yAlert"},null,512),Object(a["j"])(l,{onClosed:t.toFacture,ref:"yAlertS",type:"sucess"},null,8,["onClosed"]),Object(a["j"])(u,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var Ks={name:"paymentForm",components:{LDropDown:ue,LLoading1:et["a"],YAlert:ye,YesNo:wn},data:function(){return{loading:!1,locataires:0==this.$store.state.load.locataires.length?[{nom:""}]:this.$store.state.load.locataires,chambres:[{nom:""}],contrats:[{nom:""}],contrat:[],loyer:"",payment:0,dateDebut:"",newBalance:0,payDate:"",id:0}},methods:{validation:function(){var t=new Date;t.setHours(0,0,0,0);var e=new Date(this.payDate);if(e.setHours(0,0,0,0),console.log(t.getTime()),console.log(e.getTime()),e.getTime()<t.getTime())return!0;var n=""===this.payment||""===this.$refs.chambre.current.nom||this.payment<0||""==this.payDate;return n},showYesNo:function(){this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? C'est une opération critique")},yesNoAction:function(t){"yes"==t&&this.publishing()},setChambres:function(t){var e,n=this.$store.state.load.locataires,a=n[t],i=this.$store.state.load.contrats,o=[],s=[],c=i.length;for(e=0;e<c;e++)i[e].locataire===a.id&&(s.push(i[e]),o.push({nom:i[e].chambreNom+", cité: "+i[e].citeNom}));this.chambres=o.length>0?o:[{nom:""}],this.contrats=s.length>0?s:[{nom:""}],o.length>0&&this.setPrice(0)},setPrice:function(t){this.contrat=this.contrats[t],this.newBalance=this.setBalance(this.contrat)},publishing:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez remplir tous les champs correctement!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"pay",manager:this.$store.state.login.id,managerName:this.$store.state.login.login,contrat:this.contrat.id,payment:this.payment,date:this.payDate}).then((function(e){var n=e.data;t.id=n,console.log(n),t.loadData()})).catch((function(t){console.log(t)}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait!")})).catch((function(t){console.log(t)}))},toFacture:function(){this.$router.push({name:"facture",params:{via:"paymentForm",ctId:this.contrat.id,payId:this.id}})},endMonth:function(t){return new Date(t.getFullYear(),t.getMonth()+1,0)},setBalance:function(t){if(!t.id)return 0;var e=new Date(this.$store.state.load.serverDate),n=new Date(t.date_debut);if(e.getTime()<n.getTime())return t.totalPayer+t.totalCharge;var a=!0,i=0;while(a){var o=n.getDate();n.setMonth(n.getMonth()+1);var s=new Date(n.getTime());if(o!=n.getDate()&&(s.setMonth(s.getMonth()-1),s=this.endMonth(s)),n.getTime()>=e.getTime()){a=!1;break}i++}return t.totalPayer-i*t.loyer+t.totalCharge}},mounted:function(){this.setChambres(0);var t=this,e=document.getElementById("payToPay");e.addEventListener("input",(function(){var e=isNaN(parseInt(t.payment))||null===t.payment?0:parseInt(t.payment);t.newBalance=parseInt(t.setBalance(t.contrat))+parseInt(e)}))}};const Qs=c()(Ks,[["render",Xs]]);var Zs=Qs,tc={class:"lPblicationForm"},ec={style:{"z-index":"3"},class:"lPBFCTitle"},nc=Object(a["g"])("img",{src:st.a},null,-1),ac=[nc],ic={class:"lPBFCBody"},oc={class:"lPBFCBlock"},sc={class:"lPBFCinput"},cc=Object(a["g"])("span",null,"Locataire",-1),rc={class:"lPBFCinput"},lc=Object(a["g"])("span",null,"Chambre",-1),uc={style:{"padding-right":"0px"},class:"lPBFCinput"},dc=Object(a["g"])("span",null,"Type",-1),pc={style:{"margin-left":"10px",padding:"0px","font-weight":"normal"}},bc={class:"lPBFCinput"},mc=Object(a["g"])("span",{style:{"font-weight":"normal"}},"Montant",-1),gc={class:"lPBFCinput"},hc=Object(a["g"])("span",{style:{"font-weight":"normal"}},"Raison",-1),fc={class:"lPBFCinput"},jc=Object(a["g"])("span",{style:{"font-weight":"normal"}},"date",-1),Oc={class:"lPBFCBlock"},vc=Object(a["g"])("span",null,"ENREGISTRER",-1),yc=[vc];function Dc(t,e,n,i,o,s){var c=Object(a["B"])("LDropDown"),r=Object(a["B"])("LLoading1"),l=Object(a["B"])("YAlert"),u=Object(a["B"])("YesNo");return Object(a["v"])(),Object(a["f"])("section",tc,[Object(a["g"])("div",ec,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},ac),Object(a["i"])(" Créer une charge/Décharge ")]),Object(a["g"])("div",ic,[Object(a["g"])("div",oc,[Object(a["g"])("div",sc,[cc,Object(a["j"])(c,{onSelected:t.setChambres,style:{"z-index":"2"},ref:"locataire",elements:t.locataires,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(a["g"])("div",rc,[lc,Object(a["j"])(c,{onSelected:t.setContrat,style:{"z-index":"0"},ref:"chambre",elements:t.chambres,maxHeight:"110px",maxWidth:"100%"},null,8,["onSelected","elements"])]),Object(a["g"])("div",uc,[dc,Object(a["j"])(c,{onSelected:t.setDescript,style:{"z-index":"0"},ref:"charge",elements:t.chargeElt,maxHeight:"110px",maxWidth:"330px"},null,8,["onSelected","elements"]),Object(a["g"])("span",pc,Object(a["D"])(t.description),1)]),Object(a["g"])("div",bc,[mc,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"number","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.amount=e})},null,512),[[a["I"],t.amount]])]),Object(a["g"])("div",gc,[hc,Object(a["L"])(Object(a["g"])("input",{placeholder:"raison de la charge/Décharge",class:"lPBFCinputStyle",type:"text","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.reason=e})},null,512),[[a["I"],t.reason]])]),Object(a["g"])("div",fc,[jc,Object(a["L"])(Object(a["g"])("input",{class:"lPBFCinputStyle",type:"date","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.chargeDate=e})},null,512),[[a["I"],t.chargeDate]])])]),Object(a["g"])("div",Oc,[Object(a["g"])("div",{class:"lPBFCButton",onClick:e[4]||(e[4]=function(e){return t.showYesNo()})},yc)])]),Object(a["j"])(r,{visible:t.loading},null,8,["visible"]),Object(a["j"])(l,{ref:"yAlert"},null,512),Object(a["j"])(l,{onClosed:e[5]||(e[5]=function(e){return t.$router.push("/menu")}),ref:"yAlertS",type:"sucess"},null,512),Object(a["j"])(u,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var Cc={name:"chargeForm",components:{LDropDown:ue,LLoading1:et["a"],YAlert:ye,YesNo:wn},data:function(){return{loading:!1,locataires:0==this.$store.state.load.locataires.length?[{nom:""}]:this.$store.state.load.locataires,chambres:[{nom:""}],chargeElt:[{nom:"Charge",description:"montant ajouté au loyer ex: pour l'eau, electri."},{nom:"Décharge",description:"montant retiré au loyer ex:réduction d'un mois"}],description:"",contrats:[],contrat:[],loyer:"",amount:0,reason:"",dateDebut:"",chargeDate:""}},methods:{validation:function(){var t=new Date,e=new Date(this.chargeDate);if(t.getFullYear()<e.getFullYear()||t.getMonth()<e.getMonth()||t.getDate()<e.getDate())return!0;var n=""===this.amount||""===this.$refs.chambre.current.nom||this.amount<0||""==this.chargeDate||""==this.reason;return n},showYesNo:function(){this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? Le montant à payer pour ce mois sera le loyer plus toutes les charges et moins les décharges")},yesNoAction:function(t){"yes"==t&&this.publishing()},setChambres:function(t){var e,n=this.$store.state.load.locataires,a=n[t],i=this.$store.state.load.contrats,o=[],s=[],c=i.length;for(e=0;e<c;e++)i[e].locataire===a.id&&(s.push(i[e]),o.push({nom:i[e].chambreNom+", cité: "+i[e].citeNom}));this.chambres=o.length>0?o:[{nom:""}],this.contrats=s.length>0?s:[{nom:""}],o.length>0&&this.setContrat(0)},setContrat:function(t){this.contrat=this.contrats[t]},setDescript:function(t){this.description=this.chargeElt[t].description},publishing:function(){var t=this;if(this.validation())this.$refs.yAlert.display("Veuillez remplir tous les champs correctement!");else{this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"charge.php",{type:"add",manager:this.$store.state.login.id,managerName:this.$store.state.login.login,contrat:this.contrat.id,amount:"Charge"==this.$refs.charge.current.nom?-this.amount:this.amount,reason:this.reason,date:this.chargeDate}).then((function(e){var n=e.data;t.id=n,t.loadData()})).catch((function(t){console.log(t)}))}},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.$refs.yAlertS.display("Fait!")})).catch((function(t){console.log(t)}))}},mounted:function(){this.setChambres(0),this.setDescript(0)}};const Bc=c()(Cc,[["render",Dc]]);var $c=Bc,wc={class:"lPblicationForm"},Lc={style:{"z-index":"2"},class:"lPBFCTitle"},Fc=Object(a["g"])("img",{src:st.a},null,-1),xc=[Fc],Pc={class:"lPBFCBody"},Mc={class:"lPBFCinput"},Ac=Object(a["g"])("span",null,"Année:",-1),Ic={class:"lPBFCinput"},kc=Object(a["g"])("span",null,"Mois:",-1),Nc={class:"lPBFCinput"},Sc=Object(a["g"])("span",null,"Cité:",-1),Tc=Object(a["g"])("span",null,"Suivant",-1),Ec=[Tc];function Uc(t,e,n,i,o,s){var c=Object(a["B"])("LDropDown"),r=Object(a["B"])("LLoading1"),l=Object(a["B"])("YAlert");return Object(a["v"])(),Object(a["f"])("section",wc,[Object(a["g"])("div",Lc,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.close&&t.close.apply(t,arguments)})},xc),Object(a["i"])(" Paramètre recap ")]),Object(a["g"])("div",Pc,[Object(a["g"])("div",Mc,[Ac,Object(a["j"])(c,{style:{"z-index":"2"},ref:"annee",current:t.current.year,elements:t.annees,maxHeight:"110px",maxWidth:"100%"},null,8,["current","elements"])]),Object(a["g"])("div",Ic,[kc,Object(a["j"])(c,{style:{"z-index":"1"},ref:"mois",current:t.current.month,elements:t.mois,maxHeight:"110px",maxWidth:"100%"},null,8,["current","elements"])]),Object(a["g"])("div",Nc,[Sc,Object(a["j"])(c,{style:{"z-index":"0"},ref:"cite",elements:t.cites,maxHeight:"110px",maxWidth:"100%"},null,8,["elements"])]),Object(a["g"])("div",{class:"lPBFCButton",onClick:e[1]||(e[1]=function(){return t.toRecap&&t.toRecap.apply(t,arguments)})},Ec)]),Object(a["j"])(r,{visible:t.loading},null,8,["visible"]),Object(a["j"])(l,{ref:"yAlert"},null,512),Object(a["j"])(l,{onClosed:t.close,ref:"yAlertS",type:"sucess"},null,8,["onClosed"])])}var _c=n("2909"),zc={name:"chambForm",components:{LDropDown:ue,LLoading1:et["a"],YAlert:ye},data:function(){return{loading:!1,info:[{nom:""}],annees:[{nom:2020},{nom:2021},{nom:2022},{nom:2023},{nom:2024},{nom:2025},{nom:2026},{nom:2027},{nom:2028},{nom:2029},{nom:2030},{nom:2031},{nom:2032},{nom:2033},{nom:2034},{nom:2035}],cites:[{nom:""}],mois:[{nom:"Tous",id:-1},{nom:"Janvier",id:0},{nom:"Février",id:1},{nom:"Mars",id:2},{nom:"Avril",id:3},{nom:"Mai",id:4},{nom:"Juin",id:5},{nom:"Juillet",id:6},{nom:"Aout",id:7},{nom:"Septembre",id:8},{nom:"Octobre",id:9},{nom:"Novembre",id:10},{nom:"Décembre",id:11}],current:""}},methods:{close:function(){this.$router.go(-1)},toRecap:function(){var t=this.$refs.annee.current.nom,e=this.$refs.mois.current.nom,n=this.$refs.mois.current.id,a=this.$refs.cite.current.nom,i=this.$refs.cite.current.id;this.$router.push({name:"recap",params:{annee:t,mois:e,cite:a,citeId:i,moisId:n}})}},mounted:function(){this.cites=Object(_c["a"])(this.$store.state.load.cites),this.cites.unshift({nom:"Toutes",id:"-1"});var t=new Date,e=t.getMonth(),n=t.getFullYear();this.$refs.annee.selecting(n-2020),this.$refs.mois.selecting(e+1)}};const Vc=c()(zc,[["render",Uc]]);var Yc=Vc,Hc={class:"compte"},Jc={style:{"z-index":"1"},class:"lPBFCTitle"},Rc=Object(a["g"])("img",{src:st.a},null,-1),Wc=[Rc],qc={class:"compteBody"},Gc={class:"compteInfo"},Xc=Object(a["g"])("p",{class:"compteHead"},"Administrateur",-1),Kc=Object(a["g"])("div",null,[Object(a["i"])("Password: "),Object(a["g"])("span",null,"******")],-1),Qc={class:"compteForm"},Zc={class:"compteForm"},tr={class:"compteSelect"},er=Object(a["g"])("span",null,"Type de compte",-1),nr=Object(a["g"])("option",null,"superviseur",-1),ar=Object(a["g"])("option",null,"secretaire",-1),ir=[nr,ar],or={class:"compteCities"},sr=["onUpdate:modelValue"],cr=Object(a["g"])("p",{class:"compteHead"},"Autre",-1),rr=["onClick"];function lr(t,e,n,i,o,s){var c=Object(a["B"])("LLoading1"),r=Object(a["B"])("YAlert");return Object(a["v"])(),Object(a["f"])("div",Hc,[Object(a["g"])("div",Jc,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){t.$router.go(-1)})},Wc),Object(a["i"])(" Compte ")]),Object(a["g"])("div",qc,[Object(a["g"])("div",Gc,[Xc,Object(a["g"])("div",null,[Object(a["i"])("Login: "),Object(a["g"])("span",null,Object(a["D"])(t.$store.state.login.login),1)]),Object(a["g"])("div",null,[Object(a["i"])("Tel: "),Object(a["g"])("span",null,Object(a["D"])(t.$store.state.login.tel),1)]),Kc,Object(a["g"])("div",{onClick:e[1]||(e[1]=function(e){return t.form=!t.form}),style:{"margin-top":"15px"},class:"compteModif"},"Modifier"),Object(a["L"])(Object(a["g"])("div",Qc,[Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.login=e}),type:"text",placeholder:"nouveau login"},null,512),[[a["I"],t.login]]),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.password=e}),type:"text",placeholder:"nouveau mot de passe"},null,512),[[a["I"],t.password]]),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.tel=e}),type:"number",placeholder:"nouveau téléphone"},null,512),[[a["I"],t.tel]]),Object(a["g"])("p",null,[Object(a["g"])("span",{onClick:e[5]||(e[5]=function(){return t.modify&&t.modify.apply(t,arguments)})},"Enregistrer"),Object(a["g"])("span",{onClick:e[6]||(e[6]=function(e){return t.form=!1})},"Annuler")])],512),[[a["J"],t.form]]),Object(a["g"])("div",{onClick:e[7]||(e[7]=function(e){return t.newForm=!t.newForm}),style:{"margin-top":"15px"},class:"compteModif"},"Créer nouveau compte"),Object(a["L"])(Object(a["g"])("div",Zc,[Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[8]||(e[8]=function(e){return t.newLogin=e}),type:"text",placeholder:"login"},null,512),[[a["I"],t.newLogin]]),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[9]||(e[9]=function(e){return t.newPassword=e}),type:"text",placeholder:"password"},null,512),[[a["I"],t.newPassword]]),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":e[10]||(e[10]=function(e){return t.newTel=e}),type:"number",placeholder:"téléphone"},null,512),[[a["I"],t.newTel]]),Object(a["g"])("div",tr,[er,Object(a["L"])(Object(a["g"])("select",{"onUpdate:modelValue":e[11]||(e[11]=function(e){return t.newRole=e})},ir,512),[[a["H"],t.newRole]])]),Object(a["L"])(Object(a["g"])("div",or,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.cities,(function(t,e){return Object(a["v"])(),Object(a["f"])("div",{key:e},[Object(a["i"])(" Accès à "+Object(a["D"])(t.nom)+" ",1),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":function(e){return t.chosen=e},type:"checkbox"},null,8,sr),[[a["F"],t.chosen]])])})),128))],512),[[a["J"],"superuser"!=t.newRole]]),Object(a["g"])("p",null,[Object(a["g"])("span",{onClick:e[12]||(e[12]=function(){return t.add&&t.add.apply(t,arguments)})},"Enregistrer"),Object(a["g"])("span",{onClick:e[13]||(e[13]=function(e){return t.newForm=!1})},"Annuler")])],512),[[a["J"],t.newForm]])]),(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.comptes,(function(e,n,i){return Object(a["v"])(),Object(a["f"])("div",{key:i,class:"compteInfo"},[cr,Object(a["g"])("div",null,[Object(a["i"])("Login: "),Object(a["g"])("span",null,Object(a["D"])(e.nom),1)]),Object(a["g"])("div",null,[Object(a["i"])("Password: "),Object(a["g"])("span",null,Object(a["D"])(e.password),1)]),Object(a["g"])("div",null,[Object(a["i"])("Tel: "),Object(a["g"])("span",null,Object(a["D"])(e.tel),1)]),Object(a["g"])("div",null,[Object(a["i"])("role: "),Object(a["g"])("span",null,Object(a["D"])(e.role),1)]),Object(a["g"])("div",null,[Object(a["i"])("Accès à: "),(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(e.cities,(function(t,n){return Object(a["v"])(),Object(a["f"])("span",{key:n},[Object(a["i"])(Object(a["D"])(t.nom)+" ",1),Object(a["L"])(Object(a["g"])("span",null,",",512),[[a["J"],n!=e.cities.length-1]])])})),128))]),Object(a["g"])("div",{onClick:function(n){return t.deleteCompte(e)},style:{"margin-top":"15px","background-color":"rgb(244,50,50)"},class:"compteModif"},"Supprimer",8,rr)])})),128))]),Object(a["j"])(c,{visible:t.loading},null,8,["visible"]),Object(a["j"])(r,{ref:"yAlertS",type:"success"},null,512),Object(a["j"])(r,{ref:"yAlert"},null,512)])}var ur={name:"locataire",components:{EditMenu:Nt,YAlert:ye,LLoading1:et["a"]},data:function(){return{loading:!1,newForm:!1,newLogin:"",newPassword:"",newRole:"secretaire",newTel:"",comptes:[],cities:[],form:!1,password:"",login:"",tel:""}},methods:{add:function(){var t=this;if(""!=this.newLogin&&""!=this.newPassword&&""!=this.newTel){var e=0,a=[];for(e=0;e<this.cities.length;e++)this.cities[e].chosen&&a.push(this.cities[e].id);if(0!=a.length){this.loading=!0;var i=n("bc3a");i.post(this.$store.state.baseUrl+"inscription.php",{type:"addCompte",login:this.newLogin,password:this.newPassword,tel:this.newTel,role:this.newRole,cities:a}).then((function(e){var n=e.data;t.loading=!1,"exist"==n?t.$refs.yAlert.display("Données déjà prix"):(t.$refs.yAlertS.display("Fait !"),t.settingCompte(n),t.newLogin="",t.newAdmin=!1,t.newPassword="",t.newForm=!1)})).catch((function(e){console.log(e),t.loading=!1}))}else this.$refs.yAlert.display("Un compte doit avoir accès à au moins une cité")}else this.$refs.yAlert.display("Veuillez remplir les champs")},getCompte:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"get"}).then((function(e){var n=e.data;t.settingCompte(n),t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},modify:function(){var t=this;if(""!=this.login&&""!=this.password&&""!=this.tel){this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"modify",login:this.login,tel:this.tel,password:this.password}).then((function(e){var n=e.data;t.loading=!1,"exist"==n?t.$refs.yAlert.display("Données déjà prix"):(t.$store.commit("loginCommit",{login:t.login,isAdmin:1}),t.login="",t.password="",t.form=!1,t.$refs.yAlertS.display("Fait !"))})).catch((function(e){console.log(e),t.loading=!1}))}else this.$refs.yAlert.display("Veuillez remplir les champs")},deleteCompte:function(t){var e=this;this.loading=!0;var a=n("bc3a");a.post(this.$store.state.baseUrl+"inscription.php",{type:"delete",id:t.id,nom:t.nom,tel:t.tel,password:t.password}).then((function(t){var n=t.data;e.settingCompte(n),e.loading=!1})).catch((function(t){console.log(t),e.loading=!1}))},settingCompte:function(t){var e=0,n={};for(e=0;e<t.length;e++){"undefined"===typeof n[t[e].id]&&(n[t[e].id]=Object(Bt["a"])(Object(Bt["a"])({},t[e]),{},{cities:[]}));var a=0;for(a=0;a<this.cities.length;a++)t[e].cite==this.cities[a].id&&n[t[e].id].cities.push(Object(Bt["a"])({},this.cities[a]))}this.comptes=n}},mounted:function(){var t,e=this.$store.state.load.cites,n=[];for(t=0;t<e.length;t++)n.push({id:e[t].id,nom:e[t].nom,chosen:!1});this.cities=n,this.getCompte()}};n("e10e");const dr=c()(ur,[["render",lr]]);var pr=dr,br=n("3b76"),mr=n.n(br),gr={class:"facture"},hr={style:{"z-index":"1"},class:"lPBFCTitle"},fr=Object(a["g"])("img",{src:st.a},null,-1),jr=[fr],Or={id:"toPrint",style:{"tex-align":"center"},class:"factBody"},vr=Object(a["h"])('<div class="factBHead"><img src="'+mr.a+'">JC City</div><div class="factContact">Contact manager: <b>6XXXXX678</b></div><div class="factContact">Contact plombier: <b>6XX6589Y6</b></div><span><span>_.........................................................................................</span>_</span><span>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _</span><div style="margin-top:40px;">Locataire:</div>',6),yr={style:{"margin-top":"20px","margin-bottom":"40px"}},Dr=Object(a["g"])("span",null,".........................................................................................",-1),Cr=Object(a["g"])("span",null,"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",-1),Br=Object(a["g"])("div",{style:{"margin-top":"30px","margin-bottom":"20px"}},"Info Payments",-1),$r={class:"factInfo"},wr={style:{"text-align":"right","margin-top":"100px"}},Lr={download:"facture.pdf",ref:"lien",style:{display:"none",top:"80px"},class:"factPrint",target:"_blank"};function Fr(t,e,n,i,o,s){var c=Object(a["B"])("LLoading1");return Object(a["v"])(),Object(a["f"])("div",gr,[Object(a["g"])("div",hr,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.exit&&t.exit.apply(t,arguments)})},jr),Object(a["i"])(" Facture ")]),Object(a["g"])("div",Or,[vr,Object(a["g"])("div",yr,[Object(a["g"])("b",null,Object(a["D"])(t.contrat.locataireNom+" "+t.contrat.locatairePrenom),1)]),Dr,Cr,Br,Object(a["g"])("div",$r,[Object(a["g"])("div",null,[Object(a["i"])("Nom cite: "),Object(a["g"])("b",null,Object(a["D"])(t.contrat.citeNom),1)]),Object(a["g"])("div",null,[Object(a["i"])("chambre: "),Object(a["g"])("b",null,Object(a["D"])(t.contrat.chambreNom),1)]),Object(a["g"])("div",null,[Object(a["i"])("Montant versé: "),Object(a["g"])("b",null,Object(a["D"])(t.payment.montant)+" FCFA",1)]),Object(a["g"])("div",null,[Object(a["i"])("Date d'expiration: "),Object(a["g"])("b",null,Object(a["D"])(t.contrat.expirationDate),1)]),Object(a["g"])("div",null,[Object(a["i"])("dette: "),Object(a["g"])("b",null,Object(a["D"])(t.contrat.newBalance>=0?0:t.contrat.newBalance)+" FCFA",1)]),Object(a["g"])("div",null,[Object(a["i"])("Solde: "),Object(a["g"])("b",null,Object(a["D"])(t.contrat.newBalance>=0?t.contrat.newBalance:0)+" FCFA",1)])]),Object(a["g"])("div",wr,[Object(a["i"])("Fait le : "),Object(a["g"])("b",null,Object(a["D"])(t.payment.date),1)]),Object(a["g"])("div",null,[Object(a["i"])("Par: "),Object(a["g"])("b",null,Object(a["D"])(t.payment.managerNom),1)])]),Object(a["g"])("div",{onClick:e[1]||(e[1]=function(){return t.print&&t.print.apply(t,arguments)}),class:"factPrint"},"PRINT"),Object(a["g"])("a",Lr,"Lien",512),Object(a["j"])(c,{visible:t.loading},null,8,["visible"])])}var xr=n("d67e"),Pr=n.n(xr),Mr=n("17b6"),Ar={name:"facture",components:{LLoading1:et["a"]},data:function(){return{payment:[],totalPaid:0,contrat:[],dette:0,loading:!1}},methods:{print:function(){this.loading=!0;var t=document.getElementById("toPrint"),e={margin:1,filename:"myfile.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2,width:1366,windowWidth:1366},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}},n=this;Pr()().from(t).set(e).toPdf().output("blob").then((function(t){var e=new FileReader,a=n;e.readAsDataURL(t),e.onloadend=function(){var t=e.result;Mr["b"].writeFile({path:"Factures/facture"+(new Date).getTime()+".pdf",data:t,directory:Mr["a"].Documents,recursive:!0}).then((function(){a.loading=!1,alert("Sauvegardé dans Factures")})).catch((function(t){a.loading=!1,alert(t)}))}}))},nextMonth:function(t,e){t.setDate(1),t.setMonth(t.getMonth()+1);var n=this.endMonth(t);return n.getDate()<e?t=n:t.setDate(e),t},previousMonth:function(t,e){t.setDate(1),t.setMonth(t.getMonth()-1);var n=this.endMonth(t);return n.getDate()<e?t=n:t.setDate(e),t},endMonth:function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0);return e},totalPayer:function(){var t,e=this.$route.params.payId,n=this.$route.params.ctId,a=0,i=this.$store.state.load.payments,o=i.length-1;for(t=o;t>=0;t--)if(i[t].contratLocation==n&&i[t].id<=e&&(a+=i[t].montant),i[t].id==e){this.payment=i[t],this.totalPaid=a;break}},setContrat:function(){var t,e=this.$store.state.load.contrats,n=this.payment.contratLocation,a=e.length;for(t=0;t<a;t++)if(e[t].id==n){this.contrat=e[t];break}var i=new Date(this.payment.date);i.setHours(23,59,59),this.setVariant(n),this.setBalance(this.contrat,i),this.expiration(this.contrat)},setBalance:function(t,e){var n=new Date(t.date_debut);n.setHours(0,0,0,0);var a=n.getDate();n=1==t.payDebutMois?this.previousMonth(n,a):n;var i=0,o=!0,s=new Date(n);while(o){if(s=this.nextMonth(s,a),s.getTime()>e){o=!1;break}i++}t.newBalance=this.totalPaid-i*t.loyer-this.setTotalVariant(t,e,n)},setTotalVariant:function(t,e,n){var a=new Date(n),i=a.getDate(),o=0,s=0,c=t.variants,r=t.variants.length;for(s=0;s<r;s++){var l=s==r-1?new Date("2100-1-1"):new Date(c[s+1].startMonth);if(l.setHours(23,59,59,0),a.getTime()>e)break;s>0&&(a=this.previousMonth(a,i));var u=!0;while(u){if(a=this.nextMonth(a,i),a.getTime()>l.getTime()||a.getTime()>e){u=!1;break}o+=c[s].montant}}return o},expiration:function(t){var e=this.totalPaid,n=0,a=new Date(t.date_debut);a.setHours(0,0,0);var i=a.getDate();a=1==t.payDebutMois?this.previousMonth(a,i):a;var o=!0,s=new Date(a),c=new Date(a);c=this.nextMonth(c,i);while(o){if(s=this.nextMonth(s,i),n+=t.loyer+this.setTotalVariant(t,s.getTime(),a),console.log(e),n>e){o=!1;break}c=s}var r=c.getFullYear(),l=c.getMonth(),u=c.getDate();u=u<10?"0"+u:u,t.expirationDate=u+" "+this.$store.state.mois[l]+" "+r},setVariant:function(t){var e,n=this.$store.state.load.variants,a=[],i=n.length;for(e=0;e<i;e++)n[e].contrat===t&&a.push(n[e]);this.contrat=Object(Bt["a"])(Object(Bt["a"])({},this.contrat),{},{variants:a})},exit:function(){"recap"==this.$route.params.via?this.$router.go(-1):this.$router.push("/menu")}},mounted:function(){this.totalPayer(),this.setContrat(),this.dette=this.expiration(this.contrat)}};n("7bf4");const Ir=c()(Ar,[["render",Fr]]);var kr=Ir,Nr={class:"payments"},Sr={style:{"z-index":"1"},class:"lPBFCTitle"},Tr=Object(a["g"])("img",{src:st.a},null,-1),Er=[Tr],Ur={class:"paysBody"},_r=["onClick"];function zr(t,e,n,i,o,s){var c=Object(a["B"])("LLoading1"),r=Object(a["B"])("YAlert"),l=Object(a["B"])("YesNo");return Object(a["v"])(),Object(a["f"])("div",Nr,[Object(a["g"])("div",Sr,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.push("menu")})},Er),Object(a["i"])(" Annuler payments ")]),Object(a["g"])("div",Ur,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.infos,(function(e,n){return Object(a["v"])(),Object(a["f"])("div",{key:n,class:"paysElts"},[Object(a["g"])("div",null,"Nom locataire: "+Object(a["D"])(e.locataireNom+" "+e.locatairePrenom),1),Object(a["g"])("div",null,"Nom cite: "+Object(a["D"])(e.citeNom),1),Object(a["g"])("div",null,"chambre: "+Object(a["D"])(e.chambreNom),1),Object(a["g"])("div",null,"Montant versé: "+Object(a["D"])(e.montant)+"FCFA",1),Object(a["g"])("div",null,"Date: "+Object(a["D"])(t.dateFormat(e.date)),1),Object(a["L"])(Object(a["g"])("div",{onClick:function(n){return t.showYesNo(e.payId,e.montant,e.id)},class:"paysButton"},"Annuler",8,_r),[[a["J"],"superuser"===t.$store.state.login.role]])])})),128))]),Object(a["j"])(c,{visible:t.loading},null,8,["visible"]),Object(a["j"])(r,{ref:"yAlert"},null,512),Object(a["j"])(r,{ref:"yAlertS",type:"sucess"},null,512),Object(a["j"])(l,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var Vr={name:"payments",components:{LLoading1:et["a"],YAlert:ye,YesNo:wn},data:function(){return{loading:!1,payments:[],id:"",contrat:"",payment:"",infos:[]}},methods:{dateFormat:function(t){var e=new Date(t),n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,i+" "+this.$store.state.mois[a-1]+" "+n},setContrat:function(){var t,e,n=this.$store.state.load.payments,a=this.$store.state.load.contrats,i=[],o=a.length,s=n.length;for(e=0;e<s;e++)for(t=0;t<o;t++)a[t].id==n[e].contratLocation&&i.push(Object(Bt["a"])(Object(Bt["a"])({},a[t]),{},{montant:n[e].montant,date:n[e].date,payId:n[e].id}));this.infos=i},showYesNo:function(t,e,n){this.id=t,this.payment=e,this.contrat=n,this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? C'est une opération critique")},yesNoAction:function(t){"yes"==t&&this.supprimer()},supprimer:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"contrat.php",{type:"cancelPay",id:this.id,payment:this.payment,contrat:this.contrat}).then((function(e){var n=e.data;console.log(n),t.loadData()})).catch((function(e){t.loading=!1,console.log(e)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.setContrat(),t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}},mounted:function(){this.setContrat()}};n("315c");const Yr=c()(Vr,[["render",zr]]);var Hr=Yr,Jr={class:"charge"},Rr={style:{"z-index":"1"},class:"lPBFCTitle"},Wr=Object(a["g"])("img",{src:st.a},null,-1),qr=[Wr],Gr={class:"chargeBody"},Xr=["onClick"];function Kr(t,e,n,i,o,s){var c=Object(a["B"])("LLoading1"),r=Object(a["B"])("YAlert"),l=Object(a["B"])("YesNo");return Object(a["v"])(),Object(a["f"])("div",Jr,[Object(a["g"])("div",Rr,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.push("menu")})},qr),Object(a["i"])(" Annuler Charges/Décharge ")]),Object(a["g"])("div",Gr,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.infos,(function(e,n){return Object(a["v"])(),Object(a["f"])("div",{key:n,class:"chargeElts"},[Object(a["g"])("div",null,"Nom locataire: "+Object(a["D"])(e.locataireNom+" "+e.locatairePrenom),1),Object(a["g"])("div",null,"Nom cite: "+Object(a["D"])(e.citeNom),1),Object(a["g"])("div",null,"chambre: "+Object(a["D"])(e.chambreNom),1),Object(a["g"])("div",null,"Montant: "+Object(a["D"])(e.montant)+"FCFA",1),Object(a["g"])("div",null,"Raison: "+Object(a["D"])(e.reason),1),Object(a["g"])("div",null,"Date: "+Object(a["D"])(t.dateFormat(e.date)),1),Object(a["g"])("div",{onClick:function(n){return t.showYesNo(e.chargeId,e.montant,e.id)},class:"chargeButton"},"Annuler",8,Xr)])})),128))]),Object(a["j"])(c,{visible:t.loading},null,8,["visible"]),Object(a["j"])(r,{ref:"yAlert"},null,512),Object(a["j"])(r,{ref:"yAlertS",type:"sucess"},null,512),Object(a["j"])(l,{ref:"yesNo",onOption:t.yesNoAction},null,8,["onOption"])])}var Qr={name:"payments",components:{LLoading1:et["a"],YAlert:ye,YesNo:wn},data:function(){return{loading:!1,payments:[],toSend:{id:0,montant:0,contrat:0},contrat:"",payment:"",infos:[]}},methods:{dateFormat:function(t){var e=new Date(t),n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,i+" "+this.$store.state.mois[a-1]+" "+n},setContrat:function(){var t,e,n=this.$store.state.load.charges,a=this.$store.state.load.contrats,i=[],o=a.length,s=n.length;for(e=0;e<s;e++)for(t=0;t<o;t++)a[t].id==n[e].contrat&&i.push(Object(Bt["a"])(Object(Bt["a"])({},a[t]),{},{montant:n[e].montant,date:n[e].date,chargeId:n[e].id,reason:n[e].raison}));this.infos=i},showYesNo:function(t,e,n){this.toSend.id=t,this.toSend.montant=e,this.toSend.contrat=n,this.$refs.yesNo.display("Voulez vous vraiment éffectuer cette opération ? C'est une opération critique")},yesNoAction:function(t){"yes"==t&&this.supprimer()},supprimer:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"charge.php",{type:"delete",id:this.toSend.id,montant:this.toSend.montant,contrat:this.toSend.contrat}).then((function(e){var n=e.data;console.log(n),t.loadData()})).catch((function(e){t.loading=!1,console.log(e)}))},loadData:function(){var t=this,e=n("bc3a");e.post(this.$store.state.baseUrl+"update.php",{type:"get"}).then((function(e){var n=e.data;t.$store.commit("loadCommit",n),t.loading=!1,t.setContrat(),t.$refs.yAlertS.display("Enregistré!")})).catch((function(t){console.log(t)}))}},mounted:function(){this.setContrat()}};n("81e1");const Zr=c()(Qr,[["render",Kr]]);var tl=Zr,el=(n("4de4"),{class:"recap"}),nl={style:{"z-index":"1"},class:"lPBFCTitle"},al=Object(a["g"])("img",{src:st.a},null,-1),il=[al],ol={class:"recapBody"},sl={class:"recapVisible"},cl=["onUpdate:modelValue"],rl={class:"recapTitle"},ll={style:{color:"rgb(244,10,10)"}},ul={style:{color:"rgb(10,10,244)"}},dl={class:"recapTable"},pl=Object(a["g"])("div",{class:"recapLoc"},"Locataire",-1),bl=Object(a["g"])("div",null,"Payements",-1),ml=Object(a["g"])("div",null,"Dette restante",-1),gl={class:"recapLoc"},hl=["onClick"],fl={class:"recapPay"},jl=["onClick"],Ol=Object(a["g"])("div",{class:"recapLoc"},"Total",-1),vl={class:"recapTable"},yl=Object(a["g"])("div",{style:{width:"270px"},class:"recapEltHead"},[Object(a["g"])("div",{class:"recapLoc"},"Locataire"),Object(a["g"])("div",null,"Dette restante"),Object(a["g"])("div",null,"Paye en avance ")],-1),Dl={class:"recapLoc"},Cl=["onClick"],Bl={style:{width:"270px"},class:"recapElt recapEltLast"},$l=Object(a["g"])("div",{class:"recapLoc"},"Total",-1),wl=Object(a["g"])("div",{style:{"border-bottom-right-radius":"0.5em"}},"- ",-1),Ll={class:"recapTable"},Fl=Object(a["g"])("div",{style:{width:"270px"},class:"recapEltHead"},[Object(a["g"])("div",{class:"recapLoc"},"Locataire"),Object(a["g"])("div",null,"Solde"),Object(a["g"])("div",null,"Paye en avance ")],-1),xl={class:"recapLoc"},Pl=["onClick"],Ml={style:{width:"270px"},class:"recapElt recapEltLast"},Al=Object(a["g"])("div",{class:"recapLoc"},"Total",-1),Il=Object(a["g"])("div",{style:{"border-bottom-right-radius":"0.5em"}},"- ",-1);function kl(t,e,n,i,o,s){return Object(a["v"])(),Object(a["f"])("div",el,[Object(a["g"])("div",nl,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(){return t.goBack&&t.goBack.apply(t,arguments)})},il),Object(a["i"])(" Recap ")]),Object(a["g"])("div",ol,[Object(a["g"])("div",sl,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.display,(function(e,n){return Object(a["L"])((Object(a["v"])(),Object(a["f"])("span",{key:n},[Object(a["i"])(Object(a["D"])(n)+" ",1),Object(a["L"])(Object(a["g"])("input",{"onUpdate:modelValue":function(e){return t.display[n]=e},type:"checkbox"},null,8,cl),[[a["F"],t.display[n]]])])),[[a["J"],"mois restant"!=n&&"mois impayé"!=n]])})),128))]),Object(a["g"])("div",rl,[Object(a["i"])(" Recapitulatif de "),Object(a["g"])("span",ll,Object(a["D"])(t.moisC)+" "+Object(a["D"])(t.annee),1),Object(a["i"])(" pour "),Object(a["g"])("span",ul,Object(a["D"])(t.citeC),1)]),Object(a["g"])("div",dl,[Object(a["g"])("div",{style:Object(a["r"])({width:t.width}),class:"recapEltHead"},[pl,Object(a["L"])(Object(a["g"])("div",null,"Cite",512),[[a["J"],t.display.cite]]),Object(a["L"])(Object(a["g"])("div",null,"Chambre",512),[[a["J"],t.display.chambre]]),bl,Object(a["L"])(Object(a["g"])("div",null,"Charges",512),[[a["J"],t.display.charge]]),ml,Object(a["L"])(Object(a["g"])("div",null,"Solde ",512),[[a["J"],t.display.avance]]),Object(a["L"])(Object(a["g"])("div",null,"Paye en avance ",512),[[a["J"],t.display["paye en avance"]]]),Object(a["L"])(Object(a["g"])("div",null,"Mois restant",512),[[a["J"],t.display["mois restant"]]]),Object(a["L"])(Object(a["g"])("div",null,"Mois impayé",512),[[a["J"],t.display["mois impayé"]]])],4),(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.contrats,(function(e,n){return Object(a["v"])(),Object(a["f"])("div",{style:Object(a["r"])({width:t.width}),key:n,class:"recapElt"},[Object(a["g"])("div",gl,[Object(a["g"])("span",{onClick:function(n){return t.$router.push({name:"locataire",params:{locId:e.locataire}})}},Object(a["D"])(e.locataireNom+" "+e.locatairePrenom),9,hl)]),Object(a["L"])(Object(a["g"])("div",null,Object(a["D"])(e.citeNom),513),[[a["J"],t.display.cite]]),Object(a["L"])(Object(a["g"])("div",null,Object(a["D"])(e.chambreNom)+" ("+Object(a["D"])(e.loyer)+"/mois)",513),[[a["J"],t.display.chambre]]),Object(a["g"])("div",fl,[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.getPayment(e.payments),(function(n,i){return Object(a["v"])(),Object(a["f"])("span",{key:i},[Object(a["i"])(" - le "+Object(a["D"])(n.day+"/"+n.month)+" : "+Object(a["D"])(n.montant)+"FCFA ",1),Object(a["g"])("div",{onClick:function(a){return t.toFacture(e.id,n.id)},class:"recapFacture"}," facture ",8,jl)])})),128)),Object(a["L"])(Object(a["g"])("span",null,"Aucun",512),[[a["J"],0===t.getPayment(e.payments).length]])]),Object(a["g"])("div",null,Object(a["D"])(e.totalVariant),1),Object(a["g"])("div",null,Object(a["D"])(t.dette(e.balance)),1),Object(a["L"])(Object(a["g"])("div",null,Object(a["D"])(t.avance(e.balance)),513),[[a["J"],t.display.avance]]),Object(a["L"])(Object(a["g"])("div",null,Object(a["D"])(1==e.payDebutMois?"oui":"non"),513),[[a["J"],t.display["paye en avance"]]]),Object(a["L"])(Object(a["g"])("div",null,Object(a["D"])(t.moisRestant(e.balance,e.loyer)),513),[[a["J"],t.display["mois restant"]]]),Object(a["L"])(Object(a["g"])("div",null,Object(a["D"])(t.moisImpayer(e.balance,e.loyer)),513),[[a["J"],t.display["mois impayé"]]])],4)})),128)),Object(a["g"])("div",{style:Object(a["r"])({width:t.width}),class:"recapElt recapEltLast"},[Ol,Object(a["L"])(Object(a["g"])("div",null," - ",512),[[a["J"],t.display.cite]]),Object(a["L"])(Object(a["g"])("div",null," - ",512),[[a["J"],t.display.chambre]]),Object(a["g"])("div",null,Object(a["D"])(t.totalPayment)+" FCFA",1),Object(a["g"])("div",null,Object(a["D"])("Tous"==t.mois?t.totalVariant:t.totalVariant1)+" FCFA",1),Object(a["g"])("div",null,Object(a["D"])(t.totalDette())+" FCFA",1),Object(a["L"])(Object(a["g"])("div",null,Object(a["D"])(t.totalAvance())+" FCFA",513),[[a["J"],t.display.avance]]),Object(a["L"])(Object(a["g"])("div",null,"-",512),[[a["J"],t.display["paye en avance"]]]),Object(a["L"])(Object(a["g"])("div",null,Object(a["D"])(t.totalMoisR()),513),[[a["J"],t.display["mois restant"]]]),Object(a["L"])(Object(a["g"])("div",{style:{"border-bottom-right-radius":"0.5em"}},Object(a["D"])(t.totalMoisI()),513),[[a["J"],t.display["mois impayé"]]])],4)]),Object(a["g"])("div",vl,[yl,(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.contrats.filter((function(t){return t.balance<0})),(function(e,n){return Object(a["v"])(),Object(a["f"])("div",{style:{width:"270px"},key:n,class:"recapElt"},[Object(a["g"])("div",Dl,[Object(a["g"])("span",{onClick:function(n){return t.$router.push({name:"locataire",params:{locId:e.locataire}})}},Object(a["D"])(e.locataireNom+" "+e.locatairePrenom),9,Cl)]),Object(a["g"])("div",null,Object(a["D"])(t.dette(e.balance)),1),Object(a["g"])("div",null,Object(a["D"])(1==e.payDebutMois?"oui":"non"),1)])})),128)),Object(a["g"])("div",Bl,[$l,Object(a["g"])("div",null,Object(a["D"])(t.totalDette())+" FCFA",1),wl])]),Object(a["g"])("div",Ll,[Fl,(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.contrats.filter((function(t){return t.balance>=0})),(function(e,n){return Object(a["v"])(),Object(a["f"])("div",{style:{width:"270px"},key:n,class:"recapElt"},[Object(a["g"])("div",xl,[Object(a["g"])("span",{onClick:function(n){return t.$router.push({name:"locataire",params:{locId:e.locataire}})}},Object(a["D"])(e.locataireNom+" "+e.locatairePrenom),9,Pl)]),Object(a["g"])("div",null,Object(a["D"])(t.avance(e.balance)),1),Object(a["g"])("div",null,Object(a["D"])(1==e.payDebutMois?"oui":"non"),1)])})),128)),Object(a["g"])("div",Ml,[Al,Object(a["g"])("div",null,Object(a["D"])(t.totalAvance())+" FCFA",1),Il])])])])}var Nl={name:"recap",data:function(){return{contrat:this.$store.state.load.contrats,annee:"",mois:"",moisId:"",cite:"",contrats:[],payments:[],charges:[],visible:{locataire:!0,cite:!0,chambre:!0,payements:!0,dette:!0,avance:!0,restant:!0,impaye:!0},totalPayment:0,totalCharge:0,totalVariant:0,totalVariant1:0,maxTime:0,display:{cite:!0,chambre:!0,charge:!0,avance:!0,"paye en avance":!0,"mois restant":!1,"mois impayé":!1}}},computed:{citeC:function(){return"Toutes"!=this.cite?this.cite:"toutes les cités"},moisC:function(){return"Tous"!=this.mois?this.mois:""},width:function(){var t=0;for(var e in this.display)this.display[e]||t++;return 810-90*t+"px"}},methods:{goBack:function(){this.$router.go(-1)},endMonth:function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0);return e.setHours(23,59,59,0),e},nextMonth:function(t,e){t.setDate(1),t.setMonth(t.getMonth()+1);var n=this.endMonth(t);return n.getDate()<e?t=n:t.setDate(e),t},previousMonth:function(t,e){t.setDate(1),t.setMonth(t.getMonth()-1);var n=this.endMonth(t);return n.getDate()<e?t=n:t.setDate(e),t},getPayment:function(t){if(0==t.length)return[];var e=new Date;e.setFullYear(this.annee),e.setMonth(this.moisId),e.setDate(1),e.setHours(0,0,0,0);var n=e.getTime();e=this.endMonth(e),e.setHours(23,59,59,0);var a=e.getTime();"Tous"==this.mois&&(e.setFullYear(this.annee,0,1),e.setHours(0,0,0,0),n=e.getTime(),e.setFullYear(this.annee,11),e=this.endMonth(e),e.setHours(23,59,59,0),a=e.getTime());var i,o=[],s=t.length;for(i=0;i<s;i++){var c=new Date(t[i].date);if(c.getTime()<=a&&c.getTime()>=n){var r=new Date(t[i].date);o.push({day:r.getDate(),month:r.getMonth(),montant:t[i].montant,id:t[i].id})}}return o},getContrat:function(t){if(0==t.length)return[];var e=new Date;e.setFullYear(this.annee),e.setMonth(this.moisId),e.setDate(1),e.setHours(0,0,0,0);var n=e.getTime();e=this.endMonth(e),e.setHours(23,59,59,0);var a=e.getTime();"Tous"==this.mois&&(e.setFullYear(this.annee,0,1),e.setHours(0,0,0,0),n=e.getTime(),e.setFullYear(this.annee,11),e=this.endMonth(e),e.setHours(23,59,59,0),a=e.getTime());var i,o=[],s=t.length;for(i=0;i<s;i++){var c=new Date(t[i].date);if(c.getTime()<=a&&c.getTime()>=n){var r=new Date(t[i].date);o.push({day:r.getDate(),month:r.getMonth(),montant:t[i].montant,id:t[i].id,reason:t[i].raison})}}return o},totalPayer:function(t,e){var n,a=0,i=t.payments,o=i.length;for(n=0;n<o;n++){var s=new Date(i[n].date);s.getTime()<=e&&(a+=i[n].montant)}return a},totalCharger:function(t,e){var n,a=0,i=this.charges,o=this.charges.length;for(n=0;n<o;n++){var s=new Date(i[n].date);i[n].contrat==t&&s.getTime()<=e&&(a+=i[n].montant)}return a},totalVarier:function(t,e,n){var a=new Date(n),i=a.getDate(),o=0,s=0,c=0,r=t.variants,l=t.variants.length;for(c=0;c<l;c++){var u=c==l-1?new Date("2100-1-1"):new Date(r[c+1].startMonth);if(u.setHours(23,59,59,0),a.getTime()>e)break;c>0&&(a=this.previousMonth(a,i));var d=!0;while(d){if(a=this.nextMonth(a,i),a.getTime()>=u.getTime()||a.getTime()>e){d=!1;break}o+=r[c].montant,s=r[c].montant}}return this.totalVariant+=o,this.totalVariant1+=s,{totalVariant:o,variant:s}},setBalance:function(t){var e=new Date(t.stopped),n=e.getTime()<this.maxTime?e.getTime():this.maxTime,a=this.totalPayer(t,n),i=this.totalCharger(t.id,n),o=new Date(t.date_debut);o.setHours(0,0,0,0);var s=o.getDate();o=1==t.payDebutMois?this.previousMonth(o,s):o;var c=this.totalVarier(t,n,o);t.totalVariant="Tous"==this.mois?c.totalVariant:c.variant;var r=0,l=!0;while(l){if(o=this.nextMonth(o,s),o.getTime()>n){l=!1;break}r++}return a-r*t.loyer+i-c.totalVariant},moisRestant:function(t,e){return t<0?0:(t-t%e)/e},moisImpayer:function(t,e){return t>=0?0:-(-t- -t%e)/e-(-t%e>0?1:0)},dette:function(t){return t<0?t:0},avance:function(t){return t>0?t:0},totalDette:function(){var t,e=0;for(t=0;t<this.contrats.length;t++)e+=this.dette(this.contrats[t].balance);return e},totalAvance:function(){var t,e=0;for(t=0;t<this.contrats.length;t++)e+=this.avance(this.contrats[t].balance);return e},totalMoisR:function(){var t,e=0;for(t=0;t<this.contrats.length;t++)e+=this.moisRestant(this.contrats[t].balance,this.contrats[t].loyer);return e},totalMoisI:function(){var t,e=0;for(t=0;t<this.contrats.length;t++)e+=this.moisImpayer(this.contrats[t].balance,this.contrats[t].loyer);return e},toFacture:function(t,e){this.$router.push({name:"facture",params:{via:"recap",ctId:t,payId:e}})},init:function(){this.annee=this.$route.params.annee,this.mois=this.$route.params.mois,this.moisId=this.$route.params.moisId,this.cite=this.$route.params.cite;var t=this.$route.params.citeId,e=new Date;e.setFullYear(this.annee),e.setMonth(this.moisId),e=this.endMonth(e),e.setHours(23,59,59,0),"Tous"==this.mois&&(e.setFullYear(this.annee,11),e=this.endMonth(e)),this.maxTime=e.getTime();var n=this.$store.state.load.contrats,a=!1;"Toutes"==this.cite&&(a=!0);var i,o=[],s=n.length;for(i=0;i<s;i++)(n[i].cite==t||a)&&o.push(Object(Bt["a"])(Object(Bt["a"])({},n[i]),{},{payments:[],charges:[],variants:[],totalVariant:0}));this.contrats=o;var c,r=this.$store.state.load.payments,l=r.length,u=this.contrats.length,d=[];for(i=0;i<l;i++)for(c=0;c<u;c++)if(r[i].contratLocation==this.contrats[c].id){d.push(r[i]),this.contrats[c].payments.push(r[i]),this.totalPayment+=r[i].montant;break}this.payments=d;var p=this.$store.state.load.charges,b=[];for(l=p.length,u=this.contrats.length,i=0;i<l;i++)for(c=0;c<u;c++)if(p[i].contrat==this.contrats[c].id){b.push(p[i]),this.contrats[c].charges.push(p[i]),this.totalCharge+=p[i].montant;break}this.charges=b;var m=this.$store.state.load.variants;for(l=m.length,u=this.contrats.length,i=0;i<l;i++)for(c=0;c<u;c++)if(m[i].contrat==this.contrats[c].id){this.contrats[c].variants.push(m[i]);break}for(u=this.contrats.length,c=0;c<u;c++){var g=this.setBalance(this.contrats[c]);this.contrats[c]=Object(Bt["a"])(Object(Bt["a"])({},this.contrats[c]),{},{balance:g})}}},mounted:function(){this.init()}};n("b26b");const Sl=c()(Nl,[["render",kl]]);var Tl=Sl,El=n("de1f"),Ul=n.n(El),_l=n("fc7b"),zl=n.n(_l),Vl=n("ca6a"),Yl=n.n(Vl),Hl={class:"help"},Jl={style:{"z-index":"1"},class:"lPBFCTitle"},Rl=Object(a["g"])("img",{src:st.a},null,-1),Wl=[Rl],ql={class:"helpBody"},Gl={class:"helpHead"},Xl=Object(a["g"])("h1",null,"SOMMAIRE",-1),Kl=Object(a["h"])('<div class="helpElt"><h2>1. Mes cités</h2><img class="helpWideImg" src="'+Ul.a+'"><p>Ici vous pouvez créer, supprimer, modifier des <b>cités*</b>, une cité represente un ensemble de <b>chambre*</b> ou d&#39;appartement ou de pièce. En passant par ce menu vous pouvez également créer, modifier, supprimer des chambres.<br> Une <b>chambre*</b> peut etre assimillée à un appartement, une piece, un studio... </p></div><div class="helpElt"><h2>2. Mes locataires</h2><img class="helpWideImg" src="'+Ul.a+'"><p>Ici vous pouvez créer, supprimer, modifier des <b>locataires*</b>, un locataire représente une personne qui est sensée occuper une chambre. En passant par ce menu vous pouvez voir les infos sur le locataire ainsi que les infos sur les différentes pieces occupées par celui ci. <img class="helpWideImg" src="'+zl.a+'"></p><p><b>Chambre CH1: </b> CH1 est le nom de la chambre occupé et <b>NewCity</b> le nom de la cité de la chambre.<br><b>Date début: </b> la date de début du contrat d&#39;occupation de la chambre par le locataire.<br><b>Prix/mois: </b> Le montant du loyer. <br><b>Dette: </b> représente la dette du client, si elle est supérieur à 0 le client a au moins 1 mois d&#39;aéré de loyer. <br><b>Solde: </b>Représente l&#39;argent que le client a comme avance.<br><b>Temps restant: </b>Temps après lequel le client aura des aérées.<br><b>Date d&#39;expiration: </b> date après laquelle le locataire va devoir de l&#39;argent. <br><b>Total payé, total charge + décharge: </b> le total sur la période correspondant au début du contrat j&#39;usqu&#39;a la date actuelle. <br><b>Nb:</b> Le boutton modifier permet de supprimer ou de modifier le contrat. </p></div><div class="helpElt"><h2>3. Contrats</h2><img class="helpWideImg" src="'+Ul.a+'"><p>Créer un contrat de location entre un locataire et une chambre</p></div><div class="helpElt"><h2>4. Payments</h2><img class="helpWideImg" src="'+Ul.a+'"><p>Enregistrer un payment de loyer</p></div><div class="helpElt"><h2>5. Charges/Décharges</h2><img class="helpWideImg" src="'+Ul.a+'"><p>Créer une <b>décharge</b> ou une <b>charge</b>.<br> Une <b>décharge</b> est une somme qu&#39;un client ne devra pas payé donc une somme soustrait au loyer. l&#39;exemple d&#39;une décharge pourrait etre la réduction d&#39;un mois graduit.<br>Une <b>charge</b> est un montant qu&#39;un locataire devra payer en plus du loyer. l&#39;exemple d&#39;une charge pourrait etre la facture d&#39;eau ou d&#39;électricité. </p></div><div class="helpElt"><h2>6. Gestion compte</h2><img class="helpWideImg" src="'+Yl.a+'"><p> Créer, supprimer ou modifier des comptes qui pourront acceder cette session </p></div><div class="helpElt"><h2>7. Recap</h2><img class="helpWideImg" src="'+Yl.a+'"><p> Récapitulatif total ou par cité. Il montre les etats en fonction du mois choisi. </p></div>',7);function Ql(t,e,n,i,o,s){return Object(a["v"])(),Object(a["f"])("div",Hl,[Object(a["g"])("div",Jl,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},Wl),Object(a["i"])(" Help ")]),Object(a["g"])("div",ql,[Object(a["g"])("div",Gl,[Xl,(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t.infos,(function(t,e){return Object(a["v"])(),Object(a["f"])("span",{key:e},[Object(a["g"])("span",null,Object(a["D"])(e+1)+".",1),Object(a["i"])(" "+Object(a["D"])(t),1)])})),128))]),Kl])])}var Zl={name:"help",data:function(){return{infos:["Mes Cités","Mes Locataires","Contrats","Payments","Charges/Décharges","Gestion compte","Recap"]}}};n("d9a5");const tu=c()(Zl,[["render",Ql]]);var eu=tu,nu={class:"support"},au={style:{"z-index":"1"},class:"lPBFCTitle"},iu=Object(a["g"])("img",{src:st.a},null,-1),ou=[iu],su=Object(a["g"])("div",{class:"supportBody"},[Object(a["i"])(" Faite une donation pour assurez le fonctionnement, la maintenance, l'évolution de la platforme et surtout pour encourager les developpeurs à mener plus d'initiatives dans ce sens. "),Object(a["g"])("div",null,[Object(a["i"])("Contact: "),Object(a["g"])("span",null,"+237 652952941")]),Object(a["g"])("div",null,[Object(a["i"])("Email: "),Object(a["g"])("span",null,"estadiotamo@gmail.com")]),Object(a["i"])(" N'hesitez pas à utiliser les contacts précédent pour nous soumettre vos commentaires par rapport à l'application. ")],-1);function cu(t,e,n,i,o,s){return Object(a["v"])(),Object(a["f"])("div",nu,[Object(a["g"])("div",au,[Object(a["g"])("div",{class:"lPBFCCross",onClick:e[0]||(e[0]=function(e){return t.$router.go(-1)})},ou),Object(a["i"])(" Support ")]),su])}var ru={name:"help",data:function(){return{infos:["Mes Cités","Mes Locataires","Contrats","Payments","Charges/Décharges","Gestion compte","Recap"]}}};n("7412");const lu=c()(ru,[["render",cu]]);var uu=lu,du=n("0fa0"),pu=n.n(du),bu={class:"startPage"},mu=Object(a["g"])("div",{class:"startTitle1"},[Object(a["g"])("img",{src:pu.a}),Object(a["i"])("GereLeLoyer")],-1),gu=Object(a["g"])("div",null,"Welcome to GLL, Bienvenue",-1),hu=Object(a["g"])("div",null,"Avec GereLeLoyer vous pouvez enregistrer vos cités, vos appartements,vos clients, les payments par mois et obtenir continuellement les dates de fins de loyer, les dettes, les recapitulatifs mensuels... ",-1),fu={class:"startButtons"};function ju(t,e,n,i,o,s){var c=Object(a["B"])("LLoading"),r=Object(a["B"])("News");return Object(a["v"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",bu,[mu,gu,hu,Object(a["g"])("div",fu,[Object(a["g"])("div",{onClick:e[0]||(e[0]=function(){return t.loadNews&&t.loadNews.apply(t,arguments)})},"Suivant")])]),Object(a["j"])(c,{visible:t.loading},null,8,["visible"]),Object(a["j"])(r,{Display:t.newsDisp,text:t.news},null,8,["Display","text"])],64)}var Ou=n("b7a1"),vu=n.n(Ou),yu=Object(a["g"])("img",{src:vu.a},null,-1),Du=[yu];function Cu(t,e,n,i,o,s){return Object(a["v"])(),Object(a["f"])("div",{class:"lLoading",style:Object(a["r"])({display:t.Display})},Du,4)}var Bu={name:"lLoading",props:{visible:{type:Boolean,default:!0}},computed:{Display:function(){return this.visible?"flex":"none"}}};n("53ff");const $u=c()(Bu,[["render",Cu]]);var wu=$u,Lu={class:"news"},Fu=["innerHTML"];function xu(t,e,n,i,o,s){return Object(a["L"])((Object(a["v"])(),Object(a["f"])("div",Lu,[Object(a["g"])("span",{innerHTML:n.text},null,8,Fu),Object(a["g"])("div",{onClick:e[0]||(e[0]=function(e){return t.$router.push("/connexion")}),class:"newsButton"},"passer")],512)),[[a["J"],n.Display]])}var Pu={name:"yAlert",props:{Display:{type:Boolean,default:!1},text:String}};n("a801");const Mu=c()(Pu,[["render",xu]]);var Au=Mu,Iu={name:"start",components:{LLoading:wu,News:Au},data:function(){return{loading:!1,newsDisp:!1,news:""}},methods:{loadNews:function(){var t=this;this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"news.php",{}).then((function(e){var n=e.data;t.loading=!1,"0"!=n?(t.newsDisp=!0,t.news=n):t.$router.push("/connexion")})).catch((function(t){console.log(t)}))}}};n("85a5");const ku=c()(Iu,[["render",ju]]);var Nu=ku,Su=n("cd8d"),Tu=n("51d4"),Eu=function(t){var e=t.store,a=t.next;function i(){var t=n("bc3a");t.post(e.state.baseUrl+"update.php",{type:"post",firstLoad:1}).then((function(t){var n=t.data;e.commit("loadCommit",n),e.commit("loading",!1)})).catch((function(t){alert(t)}))}e.state.load.loaded||(e.commit("loading",!0),e.commit("setLoaded",!0),i()),a()},Uu=function(t){var e=t.store,n=t.next;""==e.state.load.serverDate?n("/"):n()},_u=[{path:"/",name:"start",component:Nu},{path:"/inscription",name:"inscription",component:Su["default"]},{path:"/connexion",name:"connexion",component:Tu["default"]},{path:"/welcome",name:"welcome",component:ao,meta:{}},{path:"/menu",name:"landingPage",component:it,meta:{middleware:[Eu]}},{path:"/locataires",name:"locataires",component:ke,meta:{middleware:[Uu]}},{path:"/locataire/:locId",name:"locataire",component:Kn,meta:{middleware:[Uu]}},{path:"/locataires/form",name:"locataires/form",component:Zo,meta:{middleware:[Uu]}},{path:"/cites",name:"cites",component:Ua,meta:{middleware:[Uu]}},{path:"/contrat",name:"contrat",component:ws,meta:{middleware:[Uu]}},{path:"/payment",name:"payment",component:Zs,meta:{middleware:[Uu]}},{path:"/chargeForm",name:"chargeForm",component:$c,meta:{middleware:[Uu]}},{path:"/cites/chambres/:citeKey",name:"chambres",component:Wi,meta:{middleware:[Uu]}},{path:"/login",name:"login",component:Co},{path:"/compte",name:"compte",component:pr,meta:{middleware:[Uu]}},{path:"/facture/via/:via/ctId/:ctId/payId/:payId",name:"facture",component:kr,meta:{middleware:[Uu]}},{path:"/payments",name:"payments",component:Hr,meta:{middleware:[Uu]}},{path:"/charge",name:"charge",component:tl,meta:{middleware:[Uu]}},{path:"/recapForm",name:"recapForm",component:Yc,meta:{middleware:[Uu]}},{path:"/recap/annee/:annee/mois/:mois/moisId/:moisId/cite/:cite/citeId/:citeId",name:"recap",component:Tl,meta:{middleware:[Uu]}},{path:"/help",name:"help",component:eu,meta:{middleware:[Uu]}},{path:"/support",name:"support",component:uu,meta:{middleware:[Uu]}}],zu=Object(u["a"])({history:Object(u["b"])("/"),routes:_u}),Vu=zu,Yu=n("ebe6"),Hu=n.n(Yu),Ju=n("5502"),Ru=n("2ad9"),Wu=Object(Ju["a"])({state:function(){return{baseUrl:"https://renting.sassayer.com/",mois:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"],load:{loading:!0,loaded:!1,cites:[{nom:""}],chambres:[{nom:""}],locataires:[{nom:""}],contrats:[],payments:[],charges:[],variants:[],serverDate:""},login:{role:-1,login:"",tel:"",id:""}}},mutations:{loading:function(t,e){t.load.loading=e},setLoaded:function(t,e){t.load.loaded=e},loadCommit:function(t,e){t.load.cites=e.cites,t.load.chambres=e.chambres,t.load.contrats=e.contrats,t.load.payments=e.payments,t.load.locataires=e.locataires,t.load.charges=e.charges,t.load.variants=e.variants,t.load.serverDate=e.serverDate},citeCommit:function(t,e){t.load.cites=e},chambreCommit:function(t,e){t.load.chambres=e},locataireCommit:function(t,e){t.load.locataires=e},contratCommit:function(t,e){t.load.contrats=e},paymentCommit:function(t,e){t.load.payments=e},loginCommit:function(t,e){t.login.login=e.login,t.login.id=e.id,t.login.role=e.role}}}),qu=Object(a["c"])(l);qu.use(Vu),qu.use(Wu),qu.mount("#app"),Vu.beforeEach(Hu()({store:Wu})),Ru["a"].addListener("backButton",(function(t){var e=t.canGoBack;e?window.history.back():Ru["a"].exitApp()}))},"57bd":function(t,e,n){"use strict";n("ed2f")},"5a42":function(t,e,n){t.exports=n.p+"img/USER.0cac27a2.svg"},"5f53":function(t,e,n){},6081:function(t,e,n){},"61f3":function(t,e,n){t.exports=n.p+"img/checked.7388a2b6.svg"},6277:function(t,e,n){},6294:function(t,e,n){var a={"./ButtonI0":"0ac1","./ButtonI0.vue":"0ac1","./ButtonI1":"01d5","./ButtonI1.vue":"01d5","./Connexion":"51d4","./Connexion.vue":"51d4","./DropDownList":"374e","./DropDownList.vue":"374e","./InputI0":"f258","./InputI0.vue":"f258","./Inscription":"cd8d","./Inscription.vue":"cd8d","./connexion":"8c00","./connexion.js":"8c00","./image/down_arrow.svg":"734b","./inscription":"2f84","./inscription.css":"c75d","./inscription.js":"2f84"};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=o,t.exports=i,i.id="6294"},"63a2":function(t,e,n){},6779:function(t,e,n){"use strict";n("9628")},6874:function(t,e,n){t.exports=n.p+"img/rolling.dbfbcad4.svg"},6932:function(t,e,n){t.exports=n.p+"img/ico.cdd7a348.svg"},"6a9e":function(t,e,n){t.exports=n.p+"img/default.9e33f2c2.png"},"6be6":function(t,e,n){},"6c2d":function(t,e,n){"use strict";n("6277")},"6e4d":function(t,e,n){t.exports=n.p+"img/note.47b7b142.svg"},"709f":function(t,e,n){t.exports=n.p+"img/menu.4e7243b0.svg"},"734b":function(t,e,n){t.exports=n.p+"img/down_arrow.47fb15ce.svg"},7412:function(t,e,n){"use strict";n("cdaa")},"74f3":function(t,e,n){t.exports=n.p+"img/elipse.6f0e9c6e.svg"},7734:function(t,e,n){"use strict";n("0941")},"7bf4":function(t,e,n){"use strict";n("63a2")},"7dbd":function(t,e,n){},"7fe3":function(t,e,n){},"814e":function(t,e,n){t.exports=n.p+"img/ajout.64574c39.png"},"81e1":function(t,e,n){"use strict";n("d221")},"84b1":function(t,e,n){"use strict";n("29f7")},"85a5":function(t,e,n){"use strict";n("cc98")},"85f2":function(t,e,n){t.exports=n.p+"img/menu.4e7243b0.svg"},"89b3":function(t,e,n){t.exports=n.p+"img/MesCites.2ea7fac4.png"},"8c00":function(t,e,n){"use strict";n.r(e);n("ac1f"),n("00b4");var a=n("f258"),i=n("0ac1"),o=n("01d5"),s=n("374e"),c=n("a566");e["default"]={name:"Connexion",components:{InputI0:a["default"],ButtonI0:i["default"],ButtonI1:o["default"],DropDownList:s["default"],LLoading1:c["a"]},data:function(){return{loading:!1}},methods:{submiting:function(t){return t.preventDefault(),!1},contactMe1:function(){alert("Contactez +237 652 95 29 41 ou estadiotamo@gmail.com")},contactMe:function(){alert("Problème de server, svp veuillez contactez +237 652 95 29 41 ou estadiotamo@gmail.com")},loggin:function(){var t=this;if(this.validation()){this.$store.commit("setLoaded",!1),this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"log",tel:this.$refs.tel.message,password:this.$refs.password.message}).then((function(e){var n=e.data;"nothing"!==n?(t.$store.commit("loginCommit",n),t.$router.push("menu")):alert("compt inexistant"),t.loading=!1})).catch((function(t){console.log(t)}))}},validation:function(){var t=/^.{2,22}$/;return t.test(this.$refs.tel.message)?""!=this.$refs.password.message||(alert("password incorrect"),!1):(alert("nom ou téléphone incorrect"),!1)}}}},"8c88":function(t,e,n){t.exports=n.p+"img/more.32a1d5d3.svg"},"902a":function(t,e,n){t.exports=n.p+"img/elipse1.e2fedee4.svg"},"937a":function(t,e,n){"use strict";n("1eb8")},9420:function(t,e,n){},9628:function(t,e,n){},"9d39":function(t,e,n){t.exports=n.p+"img/menuu.4a6ac799.svg"},a566:function(t,e,n){"use strict";var a=n("7a23"),i=n("6874"),o=n.n(i),s=Object(a["g"])("img",{src:o.a},null,-1),c=[s];function r(t,e,n,i,o,s){return Object(a["v"])(),Object(a["f"])("div",{class:"lLoading1",style:Object(a["r"])({display:t.Display})},c,4)}var l={name:"lLoading1",props:{visible:{type:Boolean,default:!0}},computed:{Display:function(){return this.visible?"flex":"none"}}},u=(n("db7d"),n("6b0d")),d=n.n(u);const p=d()(l,[["render",r]]);e["a"]=p},a801:function(t,e,n){"use strict";n("5223")},ac03:function(t,e,n){"use strict";n("1e32")},b092:function(t,e,n){},b12c:function(t,e,n){t.exports=n.p+"img/menu.4e7243b0.svg"},b17e:function(t,e,n){},b26b:function(t,e,n){"use strict";n("d894")},b7a1:function(t,e,n){t.exports=n.p+"img/Ripple-1s-200px.56921976.svg"},b879:function(t,e,n){t.exports=n.p+"img/down_arrow.76bbe7db.svg"},ba4c:function(t,e,n){},c418:function(t,e,n){"use strict";n("b092")},c511:function(t,e,n){"use strict";n("f496")},c75d:function(t,e,n){},ca6a:function(t,e,n){t.exports=n.p+"img/22.5f73e163.png"},cc98:function(t,e,n){},cd8d:function(t,e,n){"use strict";n.r(e);var a=n("7a23"),i={class:"inscription"},o={class:"insMain"},s=Object(a["g"])("div",{class:"insTitle"},[Object(a["g"])("span",null,"Créez un compte")],-1),c={class:"insInput"},r={class:"insInput"},l={class:"insInput"},u={class:"insInput"},d=Object(a["g"])("div",{class:"insLaw"},[Object(a["g"])("span",{class:"insPolicy"},[Object(a["i"])("By signing up, you confirm that you've read and accepted our "),Object(a["g"])("span",null,"Terms of Service"),Object(a["i"])(" and "),Object(a["g"])("span",null,"Privacy Policy"),Object(a["i"])(". ")])],-1),p=Object(a["g"])("div",{class:"insOR"},[Object(a["g"])("span",{class:"insPolicy"},"OR")],-1),b={class:"insLast"};function m(t,e,n,m,g,h){var f=Object(a["B"])("InputI0"),j=Object(a["B"])("ButtonI0"),O=Object(a["B"])("LLoading1");return Object(a["v"])(),Object(a["f"])("section",i,[Object(a["g"])("div",o,[Object(a["g"])("form",{class:"insMainSection",onSubmit:e[2]||(e[2]=function(){return t.submiting&&t.submiting.apply(t,arguments)}),action:"#"},[s,Object(a["g"])("div",c,[Object(a["j"])(f,{placeholder:"Entrez votre nom",ref:"surname",type:"text"},null,512)]),Object(a["g"])("div",r,[Object(a["j"])(f,{placeholder:"Entrez num téléphone (important)",ref:"tel",type:"number"},null,512)]),Object(a["g"])("div",l,[Object(a["j"])(f,{placeholder:"Entrez un mot de passe",ref:"password",type:"password",pattern:"^.{4,22}$"},null,512)]),Object(a["g"])("div",u,[Object(a["j"])(f,{placeholder:"Confirmez le mot de passe",ref:"confirmpw",type:"password",pattern:"^.{4,22}$"},null,512)]),d,Object(a["g"])("div",{onClick:e[0]||(e[0]=function(){return t.save&&t.save.apply(t,arguments)}),class:"insButtonI0"},[Object(a["j"])(j,{message:"Continuez"})]),p,Object(a["g"])("div",b,[Object(a["g"])("a",{onClick:e[1]||(e[1]=function(e){return t.$router.push("/connexion")})},"Vous avez déjà un compte? Connectez vous")])],32)]),Object(a["j"])(O,{visible:t.loading},null,8,["visible"])])}n("ac1f"),n("00b4");var g=n("f258"),h=n("0ac1"),f=n("01d5"),j=n("374e"),O=n("a566"),v={name:"inscription",components:{InputI0:g["default"],ButtonI0:h["default"],ButtonI1:f["default"],DropDownList:j["default"],LLoading1:O["a"]},data:function(){return{loading:!1}},methods:{submiting:function(t){return t.preventDefault(),!1},save:function(){var t=this;if(this.validation()){this.$store.commit("setLoaded",!1),this.loading=!0;var e=n("bc3a");e.post(this.$store.state.baseUrl+"inscription.php",{type:"add",name:this.$refs.surname.message,tel:this.$refs.tel.message,password:this.$refs.password.message,confirmpw:this.$refs.confirmpw.message}).then((function(e){var n=e.data;console.log(n),t.loading=!1,"exist"==n?alert("nom ou téléphone déjà prix déjà prix"):(alert("Compte créé avec success !"),t.$router.push("/connexion"))})).catch((function(t){console.log(t)}))}},validation:function(){var t=/^.{2,22}$/;return""!=this.$refs.surname.message&&t.test(this.$refs.tel.message)?""==this.$refs.password.message?(alert("password incorrect"),!1):this.$refs.password.message===this.$refs.confirmpw.message||(alert("passwords did not match"),!1):(alert("nom ou téléphone incorrect"),!1)}}},y=(n("84b1"),n("6b0d")),D=n.n(y);const C=D()(v,[["render",m]]);e["default"]=C},cdaa:function(t,e,n){},d221:function(t,e,n){},d894:function(t,e,n){},d90b:function(t,e,n){"use strict";n("b17e")},d9a5:function(t,e,n){"use strict";n("ba4c")},da4a:function(t,e,n){"use strict";n("2555")},db7d:function(t,e,n){"use strict";n("f737")},de1f:function(t,e,n){t.exports=n.p+"img/1.a9e7f0fd.png"},e10e:function(t,e,n){"use strict";n("059e")},e599:function(t,e,n){t.exports=n.p+"img/help.fcb58444.svg"},e806:function(t,e,n){},e83f:function(t,e,n){"use strict";n("e806")},ed2f:function(t,e,n){},ef2b:function(t,e,n){t.exports=n.p+"img/chambre.ed080354.jpg"},ef91:function(t,e,n){},f0ff:function(t,e,n){t.exports=n.p+"img/pencil.5847465d.svg"},f258:function(t,e,n){"use strict";n.r(e);var a=n("7a23"),i=["placeholder","type","max","min","pattern"];function o(t,e,n,o,s,c){return Object(a["v"])(),Object(a["f"])("div",null,[Object(a["L"])(Object(a["g"])("input",{placeholder:n.placeholder,type:n.type,max:n.max,min:n.min,pattern:n.pattern,"onUpdate:modelValue":e[0]||(e[0]=function(t){return s.message=t}),class:"inputI0"},null,8,i),[[a["G"],s.message]])])}n("a9e3");var s={name:"InputI0",props:{placeholder:String,type:String,max:Number,min:Number,pattern:String},data:function(){return{message:""}}},c=(n("c418"),n("6b0d")),r=n.n(c);const l=r()(s,[["render",o]]);e["default"]=l},f496:function(t,e,n){},f5be:function(t,e,n){"use strict";n("ef91")},f687:function(t,e,n){t.exports=n.p+"img/cancel.4707e09c.svg"},f737:function(t,e,n){},f77f:function(t,e,n){"use strict";n("7dbd")},f9e2:function(t,e,n){t.exports=n.p+"img/contrat2.7e73547a.png"},fc7b:function(t,e,n){t.exports=n.p+"img/2.85cb2b33.png"},fd7c:function(t,e,n){},fff5:function(t,e,n){t.exports=n.p+"img/cross.56373fb4.svg"}});
//# sourceMappingURL=app.0976ee52.js.map